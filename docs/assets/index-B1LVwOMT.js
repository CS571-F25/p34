(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var $f={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function s1(){if(Yy)return Ql;Yy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=a,Ql.jsxs=a,Ql}var Ky;function r1(){return Ky||(Ky=1,$f.exports=s1()),$f.exports}var g=r1(),Zf={exports:{}},Yl={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function l1(){return Xy||(Xy=1,(function(i){function e(M,et){var ft=M.length;M.push(et);t:for(;0<ft;){var bt=ft-1>>>1,It=M[bt];if(0<o(It,et))M[bt]=et,M[ft]=It,ft=bt;else break t}}function a(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var et=M[0],ft=M.pop();if(ft!==et){M[0]=ft;t:for(var bt=0,It=M.length,j=It>>>1;bt<j;){var nt=2*(bt+1)-1,Y=M[nt],ot=nt+1,ct=M[ot];if(0>o(Y,ft))ot<It&&0>o(ct,Y)?(M[bt]=ct,M[ot]=ft,bt=ot):(M[bt]=Y,M[nt]=ft,bt=nt);else if(ot<It&&0>o(ct,ft))M[bt]=ct,M[ot]=ft,bt=ot;else break t}}return et}function o(M,et){var ft=M.sortIndex-et.sortIndex;return ft!==0?ft:M.id-et.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,A=null,I=3,k=!1,$=!1,Z=!1,F=!1,rt=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function it(M){for(var et=a(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=M)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=a(_)}}function ht(M){if(Z=!1,it(M),!$)if(a(v)!==null)$=!0,dt||(dt=!0,U());else{var et=a(_);et!==null&&Jt(ht,et.startTime-M)}}var dt=!1,C=-1,R=5,x=-1;function V(){return F?!0:!(i.unstable_now()-x<R)}function O(){if(F=!1,dt){var M=i.unstable_now();x=M;var et=!0;try{t:{$=!1,Z&&(Z=!1,q(C),C=-1),k=!0;var ft=I;try{e:{for(it(M),A=a(v);A!==null&&!(A.expirationTime>M&&V());){var bt=A.callback;if(typeof bt=="function"){A.callback=null,I=A.priorityLevel;var It=bt(A.expirationTime<=M);if(M=i.unstable_now(),typeof It=="function"){A.callback=It,it(M),et=!0;break e}A===a(v)&&r(v),it(M)}else r(v);A=a(v)}if(A!==null)et=!0;else{var j=a(_);j!==null&&Jt(ht,j.startTime-M),et=!1}}break t}finally{A=null,I=ft,k=!1}et=void 0}}finally{et?U():dt=!1}}}var U;if(typeof tt=="function")U=function(){tt(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ft=N.port2;N.port1.onmessage=O,U=function(){Ft.postMessage(null)}}else U=function(){rt(O,0)};function Jt(M,et){C=rt(function(){M(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(M){switch(I){case 1:case 2:case 3:var et=3;break;default:et=I}var ft=I;I=et;try{return M()}finally{I=ft}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(M,et){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ft=I;I=M;try{return et()}finally{I=ft}},i.unstable_scheduleCallback=function(M,et,ft){var bt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,M){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ft+It,M={id:S++,callback:et,priorityLevel:M,startTime:ft,expirationTime:It,sortIndex:-1},ft>bt?(M.sortIndex=ft,e(_,M),a(v)===null&&M===a(_)&&(Z?(q(C),C=-1):Z=!0,Jt(ht,ft-bt))):(M.sortIndex=It,e(v,M),$||k||($=!0,dt||(dt=!0,U()))),M},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(M){var et=I;return function(){var ft=I;I=et;try{return M.apply(this,arguments)}finally{I=ft}}}})(Wf)),Wf}var $y;function o1(){return $y||($y=1,Jf.exports=l1()),Jf.exports}var td={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function u1(){if(Zy)return Rt;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=I&&j[I]||j["@@iterator"],typeof j=="function"?j:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,F={};function rt(j,nt,Y){this.props=j,this.context=nt,this.refs=F,this.updater=Y||$}rt.prototype.isReactComponent={},rt.prototype.setState=function(j,nt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,nt,"setState")},rt.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=rt.prototype;function tt(j,nt,Y){this.props=j,this.context=nt,this.refs=F,this.updater=Y||$}var it=tt.prototype=new q;it.constructor=tt,Z(it,rt.prototype),it.isPureReactComponent=!0;var ht=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(j,nt,Y){var ot=Y.ref;return{$$typeof:i,type:j,key:nt,ref:ot!==void 0?ot:null,props:Y}}function V(j,nt){return x(j.type,nt,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function U(j){var nt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return nt[Y]})}var N=/\/+/g;function Ft(j,nt){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):nt.toString(36)}function Jt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(dt,dt):(j.status="pending",j.then(function(nt){j.status==="pending"&&(j.status="fulfilled",j.value=nt)},function(nt){j.status==="pending"&&(j.status="rejected",j.reason=nt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function M(j,nt,Y,ot,ct){var vt=typeof j;(vt==="undefined"||vt==="boolean")&&(j=null);var At=!1;if(j===null)At=!0;else switch(vt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(j.$$typeof){case i:case e:At=!0;break;case S:return At=j._init,M(At(j._payload),nt,Y,ot,ct)}}if(At)return ct=ct(j),At=ot===""?"."+Ft(j,0):ot,ht(ct)?(Y="",At!=null&&(Y=At.replace(N,"$&/")+"/"),M(ct,nt,Y,"",function(Me){return Me})):ct!=null&&(O(ct)&&(ct=V(ct,Y+(ct.key==null||j&&j.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+At)),nt.push(ct)),1;At=0;var Yt=ot===""?".":ot+":";if(ht(j))for(var Ut=0;Ut<j.length;Ut++)ot=j[Ut],vt=Yt+Ft(ot,Ut),At+=M(ot,nt,Y,vt,ct);else if(Ut=k(j),typeof Ut=="function")for(j=Ut.call(j),Ut=0;!(ot=j.next()).done;)ot=ot.value,vt=Yt+Ft(ot,Ut++),At+=M(ot,nt,Y,vt,ct);else if(vt==="object"){if(typeof j.then=="function")return M(Jt(j),nt,Y,ot,ct);throw nt=String(j),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return At}function et(j,nt,Y){if(j==null)return j;var ot=[],ct=0;return M(j,ot,"","",function(vt){return nt.call(Y,vt,ct++)}),ot}function ft(j){if(j._status===-1){var nt=j._result;nt=nt(),nt.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=nt)}if(j._status===1)return j._result.default;throw j._result}var bt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},It={map:et,forEach:function(j,nt,Y){et(j,function(){nt.apply(this,arguments)},Y)},count:function(j){var nt=0;return et(j,function(){nt++}),nt},toArray:function(j){return et(j,function(nt){return nt})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Rt.Activity=A,Rt.Children=It,Rt.Component=rt,Rt.Fragment=a,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=r,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Rt.cache=function(j){return function(){return j.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(j,nt,Y){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ot=Z({},j.props),ct=j.key;if(nt!=null)for(vt in nt.key!==void 0&&(ct=""+nt.key),nt)!R.call(nt,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&nt.ref===void 0||(ot[vt]=nt[vt]);var vt=arguments.length-2;if(vt===1)ot.children=Y;else if(1<vt){for(var At=Array(vt),Yt=0;Yt<vt;Yt++)At[Yt]=arguments[Yt+2];ot.children=At}return x(j.type,ct,ot)},Rt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Rt.createElement=function(j,nt,Y){var ot,ct={},vt=null;if(nt!=null)for(ot in nt.key!==void 0&&(vt=""+nt.key),nt)R.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ct[ot]=nt[ot]);var At=arguments.length-2;if(At===1)ct.children=Y;else if(1<At){for(var Yt=Array(At),Ut=0;Ut<At;Ut++)Yt[Ut]=arguments[Ut+2];ct.children=Yt}if(j&&j.defaultProps)for(ot in At=j.defaultProps,At)ct[ot]===void 0&&(ct[ot]=At[ot]);return x(j,vt,ct)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(j){return{$$typeof:y,render:j}},Rt.isValidElement=O,Rt.lazy=function(j){return{$$typeof:S,_payload:{_status:-1,_result:j},_init:ft}},Rt.memo=function(j,nt){return{$$typeof:_,type:j,compare:nt===void 0?null:nt}},Rt.startTransition=function(j){var nt=C.T,Y={};C.T=Y;try{var ot=j(),ct=C.S;ct!==null&&ct(Y,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(dt,bt)}catch(vt){bt(vt)}finally{nt!==null&&Y.types!==null&&(nt.types=Y.types),C.T=nt}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(j){return C.H.use(j)},Rt.useActionState=function(j,nt,Y){return C.H.useActionState(j,nt,Y)},Rt.useCallback=function(j,nt){return C.H.useCallback(j,nt)},Rt.useContext=function(j){return C.H.useContext(j)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(j,nt){return C.H.useDeferredValue(j,nt)},Rt.useEffect=function(j,nt){return C.H.useEffect(j,nt)},Rt.useEffectEvent=function(j){return C.H.useEffectEvent(j)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(j,nt,Y){return C.H.useImperativeHandle(j,nt,Y)},Rt.useInsertionEffect=function(j,nt){return C.H.useInsertionEffect(j,nt)},Rt.useLayoutEffect=function(j,nt){return C.H.useLayoutEffect(j,nt)},Rt.useMemo=function(j,nt){return C.H.useMemo(j,nt)},Rt.useOptimistic=function(j,nt){return C.H.useOptimistic(j,nt)},Rt.useReducer=function(j,nt,Y){return C.H.useReducer(j,nt,Y)},Rt.useRef=function(j){return C.H.useRef(j)},Rt.useState=function(j){return C.H.useState(j)},Rt.useSyncExternalStore=function(j,nt,Y){return C.H.useSyncExternalStore(j,nt,Y)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.0",Rt}var Jy;function kd(){return Jy||(Jy=1,td.exports=u1()),td.exports}var ed={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function c1(){if(Wy)return $e;Wy=1;var i=kd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:S}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,S)},$e.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},$e.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},$e.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},$e.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:k}):S==="script"&&r.d.X(v,{crossOrigin:A,integrity:I,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},$e.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},$e.requestFormReset=function(v){r.d.r(v)},$e.unstable_batchedUpdates=function(v,_){return v(_)},$e.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var t_;function h1(){if(t_)return ed.exports;t_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ed.exports=c1(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function f1(){if(e_)return Yl;e_=1;var i=o1(),e=kd(),a=h1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,b=h.child;b;){if(b===s){E=!0,s=h,l=f;break}if(b===l){E=!0,l=h,s=f;break}b=b.sibling}if(!E){for(b=f.child;b;){if(b===s){E=!0,s=f,l=h;break}if(b===l){E=!0,l=f,s=h;break}b=b.sibling}if(!E)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case rt:return"Profiler";case F:return"StrictMode";case ht:return"Suspense";case dt:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case tt:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case it:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ft(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Ft(t(n))}catch{}}return null}var Jt=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],It=-1;function j(t){return{current:t}}function nt(t){0>It||(t.current=bt[It],bt[It]=null,It--)}function Y(t,n){It++,bt[It]=t.current,t.current=n}var ot=j(null),ct=j(null),vt=j(null),At=j(null);function Yt(t,n){switch(Y(vt,n),Y(ct,t),Y(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?gy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=gy(n),t=yy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ot),Y(ot,t)}function Ut(){nt(ot),nt(ct),nt(vt)}function Me(t){t.memoizedState!==null&&Y(At,t);var n=ot.current,s=yy(n,t.type);n!==s&&(Y(ct,t),Y(ot,s))}function Tn(t){ct.current===t&&(nt(ot),nt(ct)),At.current===t&&(nt(At),ql._currentValue=ft)}var zn,Ms;function Wn(t){if(zn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);zn=n&&n[1]||"",Ms=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+t+Ms}var qr=!1;function Yi(t,n){if(!t||qr)return"";qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(X){var Q=X}Reflect.construct(t,[],at)}else{try{at.call()}catch(X){Q=X}t.call(at.prototype)}}else{try{throw Error()}catch(X){Q=X}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],b=f[1];if(E&&b){var D=E.split(`
`),G=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===G.length)for(l=D.length-1,h=G.length-1;1<=l&&0<=h&&D[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==G[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wn(s):""}function Hr(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return Yi(t.type,!1);case 11:return Yi(t.type.render,!1);case 1:return Yi(t.type,!0);case 31:return Wn("Activity");default:return""}}function Fr(t){try{var n="",s=null;do n+=Hr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,De=i.unstable_scheduleCallback,ii=i.unstable_cancelCallback,Zc=i.unstable_shouldYield,wo=i.unstable_requestPaint,tn=i.unstable_now,Ki=i.unstable_getCurrentPriorityLevel,Gr=i.unstable_ImmediatePriority,Qr=i.unstable_UserBlockingPriority,si=i.unstable_NormalPriority,Jc=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,Co=i.log,xo=i.unstable_setDisableYieldValue,Un=null,ke=null;function Sn(t){if(typeof Co=="function"&&xo(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,t)}catch{}}var me=Math.clz32?Math.clz32:Do,No=Math.log,js=Math.LN2;function Do(t){return t>>>=0,t===0?32:31-(No(t)/js|0)|0}var ta=256,Xi=262144,Ee=4194304;function ea(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ea(l):(E&=b,E!==0?h=ea(E):s||(s=b&~t,s!==0&&(h=ea(s))))):(b=l&~f,b!==0?h=ea(b):E!==0?h=ea(E):s||(s=l&~t,s!==0&&(h=ea(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Wc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),t}function aa(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function $i(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function th(t,n,s,l,h,f){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-me(s),at=1<<J;b[J]=0,D[J]=-1;var Q=G[J];if(Q!==null)for(G[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}s&=~at}l!==0&&Zi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~n))}function Zi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Yr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-me(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Kr(t,n){var s=n&-n;return s=(s&42)!==0?1:Ji(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:ky(t.type))}function kn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Bn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Bn,je="__reactProps$"+Bn,ia="__reactContainer$"+Bn,Ls="__reactEvents$"+Bn,eh="__reactListeners$"+Bn,Oo="__reactHandles$"+Bn,Mo="__reactResources$"+Bn,sa="__reactMarker$"+Bn;function zs(t){delete t[Te],delete t[je],delete t[Ls],delete t[eh],delete t[Oo]}function ra(t){var n=t[Te];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ia]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ay(t);t!==null;){if(s=t[Te])return s;t=Ay(t)}return n}t=s,s=t.parentNode}return null}function bn(t){if(t=t[Te]||t[ia]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function la(t){var n=t[Mo];return n||(n=t[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(t){t[sa]=!0}var Xr=new Set,$r={};function oa(t,n){ua(t,n),ua(t+"Capture",n)}function ua(t,n){for($r[t]=n,t=0;t<n.length;t++)Xr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},Wr={};function jo(t){return ve.call(Wr,t)?!0:ve.call(Jr,t)?!1:Zr.test(t)?Wr[t]=!0:(Jr[t]=!0,!1)}function Us(t,n,s){if(jo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function be(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ri(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){s=""+E,f.call(this,E)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xt(t){if(!t._valueTracker){var n=ri(t)?"checked":"value";t._valueTracker=tl(t,n,""+t[n])}}function Wi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ri(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ts=/[\n"\\]/g;function an(t){return t.replace(ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ps(t,n,s,l,h,f,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?el(t,E,Le(n)):s!=null?el(t,E,Le(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Le(b):t.removeAttribute("name")}function Lo(t,n,s,l,h,f,E,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(t);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Xt(t)}function el(t,n,s){n==="number"&&ca(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function li(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function zo(t,n,s){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Le(s):""}function oi(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Jt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Le(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Xt(t)}function sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function al(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&nl(t,f,n[f])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(t){return ui.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var il=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,ha=null;function es(t){var n=bn(t);if(n&&(t=n.stateNode)){var s=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ps(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[je]||null;if(!h)throw Error(r(90));Ps(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Wi(l)}break t;case"textarea":zo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&li(t,!!s.multiple,n,!1)}}}var qs=!1;function hi(t,n,s){if(qs)return t(n,s);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(ci!==null||ha!==null)&&(Vu(),ci&&(n=ci,t=ha,ha=ci=null,es(n),t)))for(n=0;n<t.length;n++)es(t[n])}}function Hn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(wn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{ns=!1}var fa=null,sl=null,as=null;function rl(){if(as)return as;var t,n=sl,s=n.length,l,h="value"in fa?fa.value:fa.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&n[s-l]===h[f-l];l++);return as=h.slice(t,1<l?1-l:void 0)}function is(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function Fn(){return!1}function Be(t){function n(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Va:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),n}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Be(Oa),fi=A({},Oa,{view:0,detail:0}),ll=Be(fi),di,Hs,ma,Fs=A({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(di=t.screenX-ma.screenX,Hs=t.screenY-ma.screenY):Hs=di=0,ma=t),di)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),ol=Be(Fs),ss=A({},Fs,{dataTransfer:0}),ko=Be(ss),Bo=A({},fi,{relatedTarget:0}),rs=Be(Bo),ul=A({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=Be(ul),Gs=A({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ho=Be(Gs),Fo=A({},Oa,{data:0}),pa=Be(Fo),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Yo[t])?!!n[t]:!1}function mi(){return Ko}var en=A({},fi,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xo=Be(en),$o=A({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=Be($o),u=A({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),m=Be(u),T=A({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Be(T),B=A({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Be(B),ut=A({},Oa,{newState:0,oldState:0}),xt=Be(ut),pe=[9,13,27,32],Gt=wn&&"CompositionEvent"in window,le=null;wn&&"documentMode"in document&&(le=document.documentMode);var Rn=wn&&"TextEvent"in window&&!le,ga=wn&&(!Gt||le&&8<le&&11>=le),Gn=" ",Qn=!1;function ls(t,n){switch(t){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function N0(t,n){switch(t){case"compositionend":return Qs(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function D0(t,n){if(Ys)return t==="compositionend"||!Gt&&ls(t,n)?(t=rl(),as=sl=fa=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ga&&n.locale!=="ko"?null:n.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!I0[t.type]:n==="textarea"}function xm(t,n,s,l){ci?ha?ha.push(l):ha=[l]:ci=l,n=Pu(n,"onChange"),0<n.length&&(s=new da("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var cl=null,hl=null;function V0(t){cy(t,0)}function Zo(t){var n=fn(t);if(Wi(n))return t}function Nm(t,n){if(t==="change")return n}var Dm=!1;if(wn){var nh;if(wn){var ah="oninput"in document;if(!ah){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),ah=typeof Im.oninput=="function"}nh=ah}else nh=!1;Dm=nh&&(!document.documentMode||9<document.documentMode)}function Vm(){cl&&(cl.detachEvent("onpropertychange",Om),hl=cl=null)}function Om(t){if(t.propertyName==="value"&&Zo(hl)){var n=[];xm(n,hl,t,An(t)),hi(V0,n)}}function O0(t,n,s){t==="focusin"?(Vm(),cl=n,hl=s,cl.attachEvent("onpropertychange",Om)):t==="focusout"&&Vm()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(hl)}function j0(t,n){if(t==="click")return Zo(n)}function L0(t,n){if(t==="input"||t==="change")return Zo(n)}function z0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:z0;function fl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ve.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,n){var s=Mm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Mm(s)}}function Lm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ca(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ca(t.document)}return n}function ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U0=wn&&"documentMode"in document&&11>=document.documentMode,Ks=null,sh=null,dl=null,rh=!1;function Um(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rh||Ks==null||Ks!==ca(l)||(l=Ks,"selectionStart"in l&&ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Pu(sh,"onSelect"),0<l.length&&(n=new da("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ks)))}function os(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Xs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},lh={},Pm={};wn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function us(t){if(lh[t])return lh[t];if(!Xs[t])return t;var n=Xs[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pm)return lh[t]=n[s];return t}var km=us("animationend"),Bm=us("animationiteration"),qm=us("animationstart"),P0=us("transitionrun"),k0=us("transitionstart"),B0=us("transitioncancel"),Hm=us("transitionend"),Fm=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Yn(t,n){Fm.set(t,n),oa(n,[t])}var Jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],$s=0,uh=0;function Wo(){for(var t=$s,n=uh=$s=0;n<t;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&Gm(s,h,f)}}function tu(t,n,s,l){Cn[$s++]=t,Cn[$s++]=n,Cn[$s++]=s,Cn[$s++]=l,uh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ch(t,n,s,l){return tu(t,n,s,l),eu(t)}function cs(t,n){return tu(t,null,null,n),eu(t)}function Gm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-me(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function eu(t){if(50<jl)throw jl=0,Ef=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zs={};function q0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,l){return new q0(t,n,s,l)}function hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ja(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Qm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function nu(t,n,s,l,h,f){var E=0;if(l=t,typeof t=="function")hh(t)&&(E=1);else if(typeof t=="string")E=YT(t,s,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=pn(31,s,n,h),t.elementType=x,t.lanes=f,t;case Z:return hs(s.children,h,f,n);case F:E=8,h|=24;break;case rt:return t=pn(12,s,n,h|2),t.elementType=rt,t.lanes=f,t;case ht:return t=pn(13,s,n,h),t.elementType=ht,t.lanes=f,t;case dt:return t=pn(19,s,n,h),t.elementType=dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:E=10;break t;case q:E=9;break t;case it:E=11;break t;case C:E=14;break t;case R:E=16,l=null;break t}E=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=pn(E,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function hs(t,n,s,l){return t=pn(7,t,l,n),t.lanes=s,t}function fh(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Ym(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function dh(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Km=new WeakMap;function xn(t,n){if(typeof t=="object"&&t!==null){var s=Km.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Fr(n)},Km.set(t,n),n)}return{value:t,source:n,stack:Fr(n)}}var Js=[],Ws=0,au=null,ml=0,Nn=[],Dn=0,pi=null,ya=1,_a="";function La(t,n){Js[Ws++]=ml,Js[Ws++]=au,au=t,ml=n}function Xm(t,n,s){Nn[Dn++]=ya,Nn[Dn++]=_a,Nn[Dn++]=pi,pi=t;var l=ya;t=_a;var h=32-me(l)-1;l&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ya=1<<32-me(n)+h|s<<h|l,_a=f+t}else ya=1<<f|s<<h|l,_a=t}function mh(t){t.return!==null&&(La(t,1),Xm(t,1,0))}function ph(t){for(;t===au;)au=Js[--Ws],Js[Ws]=null,ml=Js[--Ws],Js[Ws]=null;for(;t===pi;)pi=Nn[--Dn],Nn[Dn]=null,_a=Nn[--Dn],Nn[Dn]=null,ya=Nn[--Dn],Nn[Dn]=null}function $m(t,n){Nn[Dn++]=ya,Nn[Dn++]=_a,Nn[Dn++]=pi,ya=n.id,_a=n.overflow,pi=t}var qe=null,ie=null,Pt=!1,gi=null,In=!1,gh=Error(r(519));function yi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(xn(n,t)),gh}function Zm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Te]=t,n[je]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<zl.length;s++)Ot(zl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Lo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),oi(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||my(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||yi(t,!0)}function Jm(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:qe=qe.return}}function tr(t){if(t!==qe)return!1;if(!Pt)return Jm(t),Pt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||jf(t.type,t.memoizedProps)),s=!s),s&&ie&&yi(t),Jm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=by(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=by(t)}else n===27?(n=ie,Ii(t.type)?(t=kf,kf=null,ie=t):ie=n):ie=qe?On(t.stateNode.nextSibling):null;return!0}function fs(){ie=qe=null,Pt=!1}function yh(){var t=gi;return t!==null&&(un===null?un=t:un.push.apply(un,t),gi=null),t}function pl(t){gi===null?gi=[t]:gi.push(t)}var _h=j(null),ds=null,za=null;function _i(t,n,s){Y(_h,n._currentValue),n._currentValue=s}function Ua(t){t._currentValue=_h.current,nt(_h)}function vh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Eh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var D=0;D<n.length;D++)if(b.context===n[D]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),vh(f.return,s,t),l||(E=null);break t}f=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),vh(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function er(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=h.type;mn(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===At.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Eh(n,t,s,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,za=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Wm(ds,t)}function su(t,n){return ds===null&&ms(t),Wm(t,n)}function Wm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},za===null){if(t===null)throw Error(r(308));za=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else za=za.next=n;return s}var H0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},F0=i.unstable_scheduleCallback,G0=i.unstable_NormalPriority,Ae={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new H0,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&F0(G0,function(){t.controller.abort()})}var yl=null,Sh=0,nr=0,ar=null;function Q0(t,n){if(yl===null){var s=yl=[];Sh=0,nr=Rf(),ar={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Sh++,n.then(tp,tp),n}function tp(){if(--Sh===0&&yl!==null){ar!==null&&(ar.status="fulfilled");var t=yl;yl=null,nr=0,ar=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Y0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var ep=M.S;M.S=function(t,n){Ug=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Q0(t,n),ep!==null&&ep(t,n)};var ps=j(null);function bh(){var t=ps.current;return t!==null?t:ae.pooledCache}function ru(t,n){n===null?Y(ps,ps.current):Y(ps,n.pool)}function np(){var t=bh();return t===null?null:{parent:Ae._currentValue,pool:t}}var ir=Error(r(460)),Ah=Error(r(474)),lu=Error(r(542)),ou={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ip(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t}throw ys=n,ir}}function gs(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ys=s,ir):s}}var ys=null;function sp(){if(ys===null)throw Error(r(459));var t=ys;return ys=null,t}function rp(t){if(t===ir||t===lu)throw Error(r(483))}var sr=null,_l=0;function uu(t){var n=_l;return _l+=1,sr===null&&(sr=[]),ip(sr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lp(t){function n(P,L){if(t){var H=P.deletions;H===null?(P.deletions=[L],P.flags|=16):H.push(L)}}function s(P,L){if(!t)return null;for(;L!==null;)n(P,L),L=L.sibling;return null}function l(P){for(var L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function h(P,L){return P=ja(P,L),P.index=0,P.sibling=null,P}function f(P,L,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<L?(P.flags|=67108866,L):H):(P.flags|=67108866,L)):(P.flags|=1048576,L)}function E(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,L,H,W){return L===null||L.tag!==6?(L=fh(H,P.mode,W),L.return=P,L):(L=h(L,H),L.return=P,L)}function D(P,L,H,W){var _t=H.type;return _t===Z?J(P,L,H.props.children,W,H.key):L!==null&&(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&gs(_t)===L.type)?(L=h(L,H.props),vl(L,H),L.return=P,L):(L=nu(H.type,H.key,H.props,null,P.mode,W),vl(L,H),L.return=P,L)}function G(P,L,H,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=dh(H,P.mode,W),L.return=P,L):(L=h(L,H.children||[]),L.return=P,L)}function J(P,L,H,W,_t){return L===null||L.tag!==7?(L=hs(H,P.mode,W,_t),L.return=P,L):(L=h(L,H),L.return=P,L)}function at(P,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=fh(""+L,P.mode,H),L.return=P,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return H=nu(L.type,L.key,L.props,null,P.mode,H),vl(H,L),H.return=P,H;case $:return L=dh(L,P.mode,H),L.return=P,L;case R:return L=gs(L),at(P,L,H)}if(Jt(L)||U(L))return L=hs(L,P.mode,H,null),L.return=P,L;if(typeof L.then=="function")return at(P,uu(L),H);if(L.$$typeof===tt)return at(P,su(P,L),H);cu(P,L)}return null}function Q(P,L,H,W){var _t=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _t!==null?null:b(P,L,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return H.key===_t?D(P,L,H,W):null;case $:return H.key===_t?G(P,L,H,W):null;case R:return H=gs(H),Q(P,L,H,W)}if(Jt(H)||U(H))return _t!==null?null:J(P,L,H,W,null);if(typeof H.then=="function")return Q(P,L,uu(H),W);if(H.$$typeof===tt)return Q(P,L,su(P,H),W);cu(P,H)}return null}function X(P,L,H,W,_t){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(H)||null,b(L,P,""+W,_t);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return P=P.get(W.key===null?H:W.key)||null,D(L,P,W,_t);case $:return P=P.get(W.key===null?H:W.key)||null,G(L,P,W,_t);case R:return W=gs(W),X(P,L,H,W,_t)}if(Jt(W)||U(W))return P=P.get(H)||null,J(L,P,W,_t,null);if(typeof W.then=="function")return X(P,L,H,uu(W),_t);if(W.$$typeof===tt)return X(P,L,H,su(L,W),_t);cu(L,W)}return null}function pt(P,L,H,W){for(var _t=null,qt=null,gt=L,Dt=L=0,jt=null;gt!==null&&Dt<H.length;Dt++){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Ht=Q(P,gt,H[Dt],W);if(Ht===null){gt===null&&(gt=jt);break}t&&gt&&Ht.alternate===null&&n(P,gt),L=f(Ht,L,Dt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht,gt=jt}if(Dt===H.length)return s(P,gt),Pt&&La(P,Dt),_t;if(gt===null){for(;Dt<H.length;Dt++)gt=at(P,H[Dt],W),gt!==null&&(L=f(gt,L,Dt),qt===null?_t=gt:qt.sibling=gt,qt=gt);return Pt&&La(P,Dt),_t}for(gt=l(gt);Dt<H.length;Dt++)jt=X(gt,P,Dt,H[Dt],W),jt!==null&&(t&&jt.alternate!==null&&gt.delete(jt.key===null?Dt:jt.key),L=f(jt,L,Dt),qt===null?_t=jt:qt.sibling=jt,qt=jt);return t&&gt.forEach(function(Li){return n(P,Li)}),Pt&&La(P,Dt),_t}function Tt(P,L,H,W){if(H==null)throw Error(r(151));for(var _t=null,qt=null,gt=L,Dt=L=0,jt=null,Ht=H.next();gt!==null&&!Ht.done;Dt++,Ht=H.next()){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Li=Q(P,gt,Ht.value,W);if(Li===null){gt===null&&(gt=jt);break}t&&gt&&Li.alternate===null&&n(P,gt),L=f(Li,L,Dt),qt===null?_t=Li:qt.sibling=Li,qt=Li,gt=jt}if(Ht.done)return s(P,gt),Pt&&La(P,Dt),_t;if(gt===null){for(;!Ht.done;Dt++,Ht=H.next())Ht=at(P,Ht.value,W),Ht!==null&&(L=f(Ht,L,Dt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht);return Pt&&La(P,Dt),_t}for(gt=l(gt);!Ht.done;Dt++,Ht=H.next())Ht=X(gt,P,Dt,Ht.value,W),Ht!==null&&(t&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),L=f(Ht,L,Dt),qt===null?_t=Ht:qt.sibling=Ht,qt=Ht);return t&&gt.forEach(function(i1){return n(P,i1)}),Pt&&La(P,Dt),_t}function ne(P,L,H,W){if(typeof H=="object"&&H!==null&&H.type===Z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case k:t:{for(var _t=H.key;L!==null;){if(L.key===_t){if(_t=H.type,_t===Z){if(L.tag===7){s(P,L.sibling),W=h(L,H.props.children),W.return=P,P=W;break t}}else if(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&gs(_t)===L.type){s(P,L.sibling),W=h(L,H.props),vl(W,H),W.return=P,P=W;break t}s(P,L);break}else n(P,L);L=L.sibling}H.type===Z?(W=hs(H.props.children,P.mode,W,H.key),W.return=P,P=W):(W=nu(H.type,H.key,H.props,null,P.mode,W),vl(W,H),W.return=P,P=W)}return E(P);case $:t:{for(_t=H.key;L!==null;){if(L.key===_t)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(P,L.sibling),W=h(L,H.children||[]),W.return=P,P=W;break t}else{s(P,L);break}else n(P,L);L=L.sibling}W=dh(H,P.mode,W),W.return=P,P=W}return E(P);case R:return H=gs(H),ne(P,L,H,W)}if(Jt(H))return pt(P,L,H,W);if(U(H)){if(_t=U(H),typeof _t!="function")throw Error(r(150));return H=_t.call(H),Tt(P,L,H,W)}if(typeof H.then=="function")return ne(P,L,uu(H),W);if(H.$$typeof===tt)return ne(P,L,su(P,H),W);cu(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(P,L.sibling),W=h(L,H),W.return=P,P=W):(s(P,L),W=fh(H,P.mode,W),W.return=P,P=W),E(P)):s(P,L)}return function(P,L,H,W){try{_l=0;var _t=ne(P,L,H,W);return sr=null,_t}catch(gt){if(gt===ir||gt===lu)throw gt;var qt=pn(29,gt,null,P.mode);return qt.lanes=W,qt.return=P,qt}finally{}}}var _s=lp(!0),op=lp(!1),vi=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=eu(t),Gm(t,null,s),n}return tu(t,l,n,s),eu(t)}function El(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}function Ch(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var xh=!1;function Tl(){if(xh){var t=ar;if(t!==null)throw t}}function Sl(t,n,s,l){xh=!1;var h=t.updateQueue;vi=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,G=D.next;D.next=null,E===null?f=G:E.next=G,E=D;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=G:b.next=G,J.lastBaseUpdate=D))}if(f!==null){var at=h.baseState;E=0,J=G=D=null,b=f;do{var Q=b.lane&-536870913,X=Q!==b.lane;if(X?(Mt&Q)===Q:(l&Q)===Q){Q!==0&&Q===nr&&(xh=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var pt=t,Tt=b;Q=n;var ne=s;switch(Tt.tag){case 1:if(pt=Tt.payload,typeof pt=="function"){at=pt.call(ne,at,Q);break t}at=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Tt.payload,Q=typeof pt=="function"?pt.call(ne,at,Q):pt,Q==null)break t;at=A({},at,Q);break t;case 2:vi=!0}}Q=b.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(G=J=X,D=at):J=J.next=X,E|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(D=at),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Ri|=E,t.lanes=E,t.memoizedState=at}}function up(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function cp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)up(s[t],n)}var rr=j(null),hu=j(0);function hp(t,n){t=Ya,Y(hu,t),Y(rr,n),Ya=t|n.baseLanes}function Nh(){Y(hu,Ya),Y(rr,rr.current)}function Dh(){Ya=hu.current,nt(rr),nt(hu)}var gn=j(null),Vn=null;function Si(t){var n=t.alternate;Y(ge,ge.current&1),Y(gn,t),Vn===null&&(n===null||rr.current!==null||n.memoizedState!==null)&&(Vn=t)}function Ih(t){Y(ge,ge.current),Y(gn,t),Vn===null&&(Vn=t)}function fp(t){t.tag===22?(Y(ge,ge.current),Y(gn,t),Vn===null&&(Vn=t)):bi()}function bi(){Y(ge,ge.current),Y(gn,gn.current)}function yn(t){nt(gn),Vn===t&&(Vn=null),nt(ge)}var ge=j(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Uf(s)||Pf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pa=0,Nt=null,te=null,we=null,du=!1,lr=!1,vs=!1,mu=0,bl=0,or=null,K0=0;function fe(){throw Error(r(321))}function Vh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!mn(t[s],n[s]))return!1;return!0}function Oh(t,n,s,l,h,f){return Pa=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Xp:Kh,vs=!1,f=s(l,h),vs=!1,lr&&(f=mp(n,s,l,h)),dp(t),f}function dp(t){M.H=Rl;var n=te!==null&&te.next!==null;if(Pa=0,we=te=Nt=null,du=!1,bl=0,or=null,n)throw Error(r(300));t===null||Re||(t=t.dependencies,t!==null&&iu(t)&&(Re=!0))}function mp(t,n,s,l){Nt=t;var h=0;do{if(lr&&(or=null),bl=0,lr=!1,25<=h)throw Error(r(301));if(h+=1,we=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=$p,f=n(s,l)}while(lr);return f}function X0(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Mh(){var t=mu!==0;return mu=0,t}function jh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Lh(t){if(du){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}du=!1}Pa=0,we=te=Nt=null,lr=!1,bl=mu=0,or=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Nt.memoizedState=we=t:we=we.next=t,we}function ye(){if(te===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var n=we===null?Nt.memoizedState:we.next;if(n!==null)we=n,te=t;else{if(t===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},we===null?Nt.memoizedState=we=t:we=we.next=t}return we}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=bl;return bl+=1,or===null&&(or=[]),t=ip(or,t,n),n=Nt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Xp:Kh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===tt)return He(t)}throw Error(r(438,String(t)))}function zh(t){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=pu(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function ka(t,n){return typeof n=="function"?n(t):n}function yu(t){var n=ye();return Uh(n,te,t)}function Uh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=E=null,D=null,G=n,J=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Mt&at)===at:(Pa&at)===at){var Q=G.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===nr&&(J=!0);else if((Pa&Q)===Q){G=G.next,Q===nr&&(J=!0);continue}else at={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=at,E=f):D=D.next=at,Nt.lanes|=Q,Ri|=Q;at=G.action,vs&&s(f,at),f=G.hasEagerState?G.eagerState:s(f,at)}else Q={lane:at,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=Q,E=f):D=D.next=Q,Nt.lanes|=at,Ri|=at;G=G.next}while(G!==null&&G!==n);if(D===null?E=f:D.next=b,!mn(f,t.memoizedState)&&(Re=!0,J&&(s=ar,s!==null)))throw s;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var n=ye(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=t(f,E.action),E=E.next;while(E!==h);mn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function pp(t,n,s){var l=Nt,h=ye(),f=Pt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var E=!mn((te||h).memoizedState,s);if(E&&(h.memoizedState=s,Re=!0),h=h.queue,qh(_p.bind(null,l,h,t),[t]),h.getSnapshot!==n||E||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,ur(9,{destroy:void 0},yp.bind(null,l,h,s,n),null),ae===null)throw Error(r(349));f||(Pa&127)!==0||gp(l,n,s)}return s}function gp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=pu(),Nt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function yp(t,n,s,l){n.value=s,n.getSnapshot=l,vp(n)&&Ep(t)}function _p(t,n,s){return s(function(){vp(n)&&Ep(t)})}function vp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!mn(t,s)}catch{return!0}}function Ep(t){var n=cs(t,2);n!==null&&cn(n,t,2)}function kh(t){var n=nn();if(typeof t=="function"){var s=t;if(t=s(),vs){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},n}function Tp(t,n,s,l){return t.baseState=s,Uh(t,te,typeof l=="function"?l:ka)}function $0(t,n,s,l,h){if(Eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};M.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Sp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=M.T,E={};M.T=E;try{var b=s(h,l),D=M.S;D!==null&&D(E,b),bp(t,n,b)}catch(G){Bh(t,n,G)}finally{f!==null&&E.types!==null&&(f.types=E.types),M.T=f}}else try{f=s(h,l),bp(t,n,f)}catch(G){Bh(t,n,G)}}function bp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ap(t,n,l)},function(l){return Bh(t,n,l)}):Ap(t,n,s)}function Ap(t,n,s){n.status="fulfilled",n.value=s,wp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Sp(t,s)))}function Bh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,wp(n),n=n.next;while(n!==l)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Cp(t,n){if(Pt){var s=ae.formState;if(s!==null){t:{var l=Nt;if(Pt){if(ie){e:{for(var h=ie,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=On(h.nextSibling),l=h.data==="F!";break t}}yi(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},s.queue=l,s=Qp.bind(null,Nt,l),l.dispatch=s,l=kh(!1),f=Yh.bind(null,Nt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=$0.bind(null,Nt,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function xp(t){var n=ye();return Np(n,te,t)}function Np(t,n,s){if(n=Uh(t,n,Rp)[0],t=yu(ka)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(E){throw E===ir?lu:E}else l=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,ur(9,{destroy:void 0},Z0.bind(null,h,s),null)),[l,f,t]}function Z0(t,n){t.action=n}function Dp(t){var n=ye(),s=te;if(s!==null)return Np(n,s,t);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ur(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=pu(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Ip(){return ye().memoizedState}function _u(t,n,s,l){var h=nn();Nt.flags|=t,h.memoizedState=ur(1|n,{destroy:void 0},s,l===void 0?null:l)}function vu(t,n,s,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;te!==null&&l!==null&&Vh(l,te.memoizedState.deps)?h.memoizedState=ur(n,f,s,l):(Nt.flags|=t,h.memoizedState=ur(1|n,f,s,l))}function Vp(t,n){_u(8390656,8,t,n)}function qh(t,n){vu(2048,8,t,n)}function J0(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=pu(),Nt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Op(t){var n=ye().memoizedState;return J0({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Mp(t,n){return vu(4,2,t,n)}function jp(t,n){return vu(4,4,t,n)}function Lp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zp(t,n,s){s=s!=null?s.concat([t]):null,vu(4,4,Lp.bind(null,n,t),s)}function Hh(){}function Up(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Pp(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=t(),vs){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function Fh(t,n,s){return s===void 0||(Pa&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=kg(),Nt.lanes|=t,Ri|=t,s)}function kp(t,n,s,l){return mn(s,n)?s:rr.current!==null?(t=Fh(t,s,l),mn(t,n)||(Re=!0),t):(Pa&42)===0||(Pa&1073741824)!==0&&(Mt&261930)===0?(Re=!0,t.memoizedState=s):(t=kg(),Nt.lanes|=t,Ri|=t,n)}function Bp(t,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var E=M.T,b={};M.T=b,Yh(t,!1,n,s);try{var D=h(),G=M.S;if(G!==null&&G(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=Y0(D,l);wl(t,n,J,En(t))}else wl(t,n,l,En(t))}catch(at){wl(t,n,{then:function(){},status:"rejected",reason:at},En())}finally{et.p=f,E!==null&&b.types!==null&&(E.types=b.types),M.T=E}}function W0(){}function Gh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var h=qp(t).queue;Bp(t,h,n,ft,s===null?W0:function(){return Hp(t),s(l)})}function qp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hp(t){var n=qp(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},En())}function Qh(){return He(ql)}function Fp(){return ye().memoizedState}function Gp(){return ye().memoizedState}function tT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=Ei(s);var l=Ti(n,t,s);l!==null&&(cn(l,n,s),El(l,n,s)),n={cache:Th()},t.payload=n;return}n=n.return}}function eT(t,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Yp(n,s):(s=ch(t,n,s,l),s!==null&&(cn(s,t,l),Kp(s,n,l)))}function Qp(t,n,s){var l=En();wl(t,n,s,l)}function wl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Yp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var E=n.lastRenderedState,b=f(E,s);if(h.hasEagerState=!0,h.eagerState=b,mn(b,E))return tu(t,n,h,0),ae===null&&Wo(),!1}catch{}finally{}if(s=ch(t,n,h,l),s!==null)return cn(s,t,l),Kp(s,n,l),!0}return!1}function Yh(t,n,s,l){if(l={lane:2,revertLane:Rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(n)throw Error(r(479))}else n=ch(t,s,l,2),n!==null&&cn(n,t,2)}function Eu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Yp(t,n){lr=du=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Kp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}var Rl={readContext:He,use:gu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Rl.useEffectEvent=fe;var Xp={readContext:He,use:gu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Vp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,_u(4194308,4,Lp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return _u(4194308,4,t,n)},useInsertionEffect:function(t,n){_u(4,2,t,n)},useMemo:function(t,n){var s=nn();n=n===void 0?null:n;var l=t();if(vs){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=nn();if(s!==void 0){var h=s(n);if(vs){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=eT.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=kh(t);var n=t.queue,s=Qp.bind(null,Nt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Hh,useDeferredValue:function(t,n){var s=nn();return Fh(s,t,n)},useTransition:function(){var t=kh(!1);return t=Bp.bind(null,Nt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Nt,h=nn();if(Pt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ae===null)throw Error(r(349));(Mt&127)!==0||gp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Vp(_p.bind(null,l,f,t),[t]),l.flags|=2048,ur(9,{destroy:void 0},yp.bind(null,l,f,s,n),null),s},useId:function(){var t=nn(),n=ae.identifierPrefix;if(Pt){var s=_a,l=ya;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=K0++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yh.bind(null,Nt,!0,s),s.dispatch=n,[t,n]},useMemoCache:zh,useCacheRefresh:function(){return nn().memoizedState=tT.bind(null,Nt)},useEffectEvent:function(t){var n=nn(),s={impl:t};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Kh={readContext:He,use:gu,useCallback:Up,useContext:He,useEffect:qh,useImperativeHandle:zp,useInsertionEffect:Mp,useLayoutEffect:jp,useMemo:Pp,useReducer:yu,useRef:Ip,useState:function(){return yu(ka)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=ye();return kp(s,te.memoizedState,t,n)},useTransition:function(){var t=yu(ka)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Qh,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var s=ye();return Tp(s,te,t,n)},useMemoCache:zh,useCacheRefresh:Gp};Kh.useEffectEvent=Op;var $p={readContext:He,use:gu,useCallback:Up,useContext:He,useEffect:qh,useImperativeHandle:zp,useInsertionEffect:Mp,useLayoutEffect:jp,useMemo:Pp,useReducer:Ph,useRef:Ip,useState:function(){return Ph(ka)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=ye();return te===null?Fh(s,t,n):kp(s,te.memoizedState,t,n)},useTransition:function(){var t=Ph(ka)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Qh,useFormState:Dp,useActionState:Dp,useOptimistic:function(t,n){var s=ye();return te!==null?Tp(s,te,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:zh,useCacheRefresh:Gp};$p.useEffectEvent=Op;function Xh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var $h={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),h=Ei(l);h.payload=n,s!=null&&(h.callback=s),n=Ti(t,h,l),n!==null&&(cn(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),h=Ei(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ti(t,h,l),n!==null&&(cn(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=Ei(s);l.tag=2,n!=null&&(l.callback=n),n=Ti(t,l,s),n!==null&&(cn(n,t,s),El(n,t,s))}};function Zp(t,n,s,l,h,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):n.prototype&&n.prototype.isPureReactComponent?!fl(s,l)||!fl(h,f):!0}function Jp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&$h.enqueueReplaceState(n,n.state,null)}function Es(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Wp(t){Jo(t)}function tg(t){console.error(t)}function eg(t){Jo(t)}function Tu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ng(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zh(t,n,s){return s=Ei(s),s.tag=3,s.payload={element:null},s.callback=function(){Tu(t,n)},s}function ag(t){return t=Ei(t),t.tag=3,t}function ig(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ng(n,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ng(n,s,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nT(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&er(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?Ou():s.alternate===null&&de===0&&(de=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),bf(t,l,h)),!1;case 22:return s.flags|=65536,l===ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),bf(t,l,h)),!1}throw Error(r(435,s.tag))}return bf(t,l,h),Ou(),!1}if(Pt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==gh&&(t=Error(r(422),{cause:l}),pl(xn(t,s)))):(l!==gh&&(n=Error(r(423),{cause:l}),pl(xn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,s),h=Zh(t.stateNode,l,h),Ch(t,h),de!==4&&(de=2)),!1;var f=Error(r(520),{cause:l});if(f=xn(f,s),Ml===null?Ml=[f]:Ml.push(f),de!==4&&(de=2),n===null)return!0;l=xn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Zh(s.stateNode,l,t),Ch(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ag(h),ig(h,t,s,l),Ch(s,h),!1}s=s.return}while(s!==null);return!1}var Jh=Error(r(461)),Re=!1;function Fe(t,n,s,l){n.child=t===null?op(n,null,s,l):_s(n,t.child,s,l)}function sg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ms(n),l=Oh(t,n,s,E,f,h),b=Mh(),t!==null&&!Re?(jh(t,n,h),Ba(t,n,h)):(Pt&&b&&mh(n),n.flags|=1,Fe(t,n,l,h),n.child)}function rg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,lg(t,n,f,l,h)):(t=nu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!lf(t,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:fl,s(E,l)&&t.ref===n.ref)return Ba(t,n,h)}return n.flags|=1,t=ja(f,l),t.ref=n.ref,t.return=n,n.child=t}function lg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(fl(f,l)&&t.ref===n.ref)if(Re=!1,n.pendingProps=l=f,lf(t,h))(t.flags&131072)!==0&&(Re=!0);else return n.lanes=t.lanes,Ba(t,n,h)}return Wh(t,n,s,l,h)}function og(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ug(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(n,f!==null?f.cachePool:null),f!==null?hp(n,f):Nh(),fp(n);else return l=n.lanes=536870912,ug(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ru(n,f.cachePool),hp(n,f),bi(),n.memoizedState=null):(t!==null&&ru(n,null),Nh(),bi());return Fe(t,n,h,s),n.child}function Cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ug(t,n,s,l,h){var f=bh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ru(n,null),Nh(),fp(n),t!==null&&er(t,n,l,!0),n.childLanes=h,null}function Su(t,n){return n=Au({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function cg(t,n,s){return _s(n,t.child,null,s),t=Su(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function aT(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pt){if(l.mode==="hidden")return t=Su(n,l),n.lanes=536870912,Cl(null,t);if(Ih(n),(t=ie)?(t=Sy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:ya,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},s=Ym(t),s.return=n,n.child=s,qe=n,ie=null)):t=null,t===null)throw yi(n);return n.lanes=536870912,null}return Su(n,l)}var f=t.memoizedState;if(f!==null){var E=f.dehydrated;if(Ih(n),h)if(n.flags&256)n.flags&=-257,n=cg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Re||er(t,n,s,!1),h=(s&t.childLanes)!==0,Re||h){if(l=ae,l!==null&&(E=Kr(l,s),E!==0&&E!==f.retryLane))throw f.retryLane=E,cs(t,E),cn(l,t,E),Jh;Ou(),n=cg(t,n,s)}else t=f.treeContext,ie=On(E.nextSibling),qe=n,Pt=!0,gi=null,In=!1,t!==null&&$m(n,t),n=Su(n,l),n.flags|=4096;return n}return t=ja(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function bu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Wh(t,n,s,l,h){return ms(n),s=Oh(t,n,s,l,void 0,h),l=Mh(),t!==null&&!Re?(jh(t,n,h),Ba(t,n,h)):(Pt&&l&&mh(n),n.flags|=1,Fe(t,n,s,h),n.child)}function hg(t,n,s,l,h,f){return ms(n),n.updateQueue=null,s=mp(n,l,s,h),dp(t),l=Mh(),t!==null&&!Re?(jh(t,n,f),Ba(t,n,f)):(Pt&&l&&mh(n),n.flags|=1,Fe(t,n,s,f),n.child)}function fg(t,n,s,l,h){if(ms(n),n.stateNode===null){var f=Zs,E=s.contextType;typeof E=="object"&&E!==null&&(f=He(E)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},wh(n),E=s.contextType,f.context=typeof E=="object"&&E!==null?He(E):Zs,f.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Xh(n,s,E,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&$h.enqueueReplaceState(f,f.state,null),Sl(n,l,f,h),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,D=Es(s,b);f.props=D;var G=f.context,J=s.contextType;E=Zs,typeof J=="object"&&J!==null&&(E=He(J));var at=s.getDerivedStateFromProps;J=typeof at=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||G!==E)&&Jp(n,f,l,E),vi=!1;var Q=n.memoizedState;f.state=Q,Sl(n,l,f,h),Tl(),G=n.memoizedState,b||Q!==G||vi?(typeof at=="function"&&(Xh(n,s,at,l),G=n.memoizedState),(D=vi||Zp(n,s,D,l,Q,G,E))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rh(t,n),E=n.memoizedProps,J=Es(s,E),f.props=J,at=n.pendingProps,Q=f.context,G=s.contextType,D=Zs,typeof G=="object"&&G!==null&&(D=He(G)),b=s.getDerivedStateFromProps,(G=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==at||Q!==D)&&Jp(n,f,l,D),vi=!1,Q=n.memoizedState,f.state=Q,Sl(n,l,f,h),Tl();var X=n.memoizedState;E!==at||Q!==X||vi||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof b=="function"&&(Xh(n,s,b,l),X=n.memoizedState),(J=vi||Zp(n,s,J,l,Q,X,D)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),f.props=l,f.state=X,f.context=D,l=J):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=_s(n,t.child,null,h),n.child=_s(n,null,s,h)):Fe(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Ba(t,n,h),t}function dg(t,n,s,l){return fs(),n.flags|=256,Fe(t,n,s,l),n.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:np()}}function nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=vn),t}function mg(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),E&&(h=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(h?Si(n):bi(),(t=ie)?(t=Sy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:pi!==null?{id:ya,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},s=Ym(t),s.return=n,n.child=s,qe=n,ie=null)):t=null,t===null)throw yi(n);return Pf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(bi(),h=n.mode,b=Au({mode:"hidden",children:b},h),l=hs(l,h,s,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=ef(s),l.childLanes=nf(t,E,s),n.memoizedState=tf,Cl(null,l)):(Si(n),af(n,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)n.flags&256?(Si(n),n.flags&=-257,n=sf(t,n,s)):n.memoizedState!==null?(bi(),n.child=t.child,n.flags|=128,n=null):(bi(),b=l.fallback,h=n.mode,l=Au({mode:"visible",children:l.children},h),b=hs(b,h,s,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,_s(n,t.child,null,s),l=n.child,l.memoizedState=ef(s),l.childLanes=nf(t,E,s),n.memoizedState=tf,n=Cl(null,l));else if(Si(n),Pf(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(r(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),n=sf(t,n,s)}else if(Re||er(t,n,s,!1),E=(s&t.childLanes)!==0,Re||E){if(E=ae,E!==null&&(l=Kr(E,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,cs(t,l),cn(E,t,l),Jh;Uf(b)||Ou(),n=sf(t,n,s)}else Uf(b)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ie=On(b.nextSibling),qe=n,Pt=!0,gi=null,In=!1,t!==null&&$m(n,t),n=af(n,l.children),n.flags|=4096);return n}return h?(bi(),b=l.fallback,h=n.mode,D=t.child,G=D.sibling,l=ja(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?b=ja(G,b):(b=hs(b,h,s,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Cl(null,l),l=n.child,b=t.child.memoizedState,b===null?b=ef(s):(h=b.cachePool,h!==null?(D=Ae._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=np(),b={baseLanes:b.baseLanes|s,cachePool:h}),l.memoizedState=b,l.childLanes=nf(t,E,s),n.memoizedState=tf,Cl(t.child,l)):(Si(n),s=t.child,t=s.sibling,s=ja(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=s,n.memoizedState=null,s)}function af(t,n){return n=Au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Au(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function sf(t,n,s){return _s(n,t.child,null,s),t=af(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vh(t.return,n,s)}function rf(t,n,s,l,h,f){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=s,E.tailMode=h,E.treeForkCount=f)}function gg(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var E=ge.current,b=(E&2)!==0;if(b?(E=E&1|2,n.flags|=128):E&=1,Y(ge,E),Fe(t,n,l,s),l=Pt?ml:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,s,n);else if(t.tag===19)pg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&fu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),rf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}rf(n,!0,s,null,f,l);break;case"together":rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ba(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ri|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(er(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=ja(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ja(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function iT(t,n,s){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),_i(n,Ae,t.memoizedState.cache),fs();break;case 27:case 5:Me(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:_i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ih(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(n),n.flags|=128,null):(s&n.child.childLanes)!==0?mg(t,n,s):(Si(n),t=Ba(t,n,s),t!==null?t.sibling:null);Si(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(er(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return gg(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(ge,ge.current),l)break;return null;case 22:return n.lanes=0,og(t,n,s,n.pendingProps);case 24:_i(n,Ae,t.memoizedState.cache)}return Ba(t,n,s)}function yg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Re=!0;else{if(!lf(t,s)&&(n.flags&128)===0)return Re=!1,iT(t,n,s);Re=(t.flags&131072)!==0}else Re=!1,Pt&&(n.flags&1048576)!==0&&Xm(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=gs(n.elementType),n.type=t,typeof t=="function")hh(t)?(l=Es(t,l),n.tag=1,n=fg(null,n,t,l,s)):(n.tag=0,n=Wh(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===it){n.tag=11,n=sg(null,n,t,l,s);break t}else if(h===C){n.tag=14,n=rg(null,n,t,l,s);break t}}throw n=Ft(t)||t,Error(r(306,n,""))}}return n;case 0:return Wh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Es(l,n.pendingProps),fg(t,n,l,h,s);case 3:t:{if(Yt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Rh(t,n),Sl(n,l,null,s);var E=n.memoizedState;if(l=E.cache,_i(n,Ae,l),l!==f.cache&&Eh(n,[Ae],s,!0),Tl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dg(t,n,l,s);break t}else if(l!==h){h=xn(Error(r(424)),n),pl(h),n=dg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=On(t.firstChild),qe=n,Pt=!0,gi=null,In=!0,s=op(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fs(),l===h){n=Ba(t,n,s);break t}Fe(t,n,l,s)}n=n.child}return n;case 26:return bu(t,n),t===null?(s=xy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,t=n.pendingProps,l=ku(vt.current).createElement(s),l[Te]=n,l[je]=t,Ge(l,s,t),Se(l),n.stateNode=l):n.memoizedState=xy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Me(n),t===null&&Pt&&(l=n.stateNode=wy(n.type,n.pendingProps,vt.current),qe=n,In=!0,h=ie,Ii(n.type)?(kf=h,ie=On(l.firstChild)):ie=h),Fe(t,n,n.pendingProps.children,s),bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((h=l=ie)&&(l=MT(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,qe=n,ie=On(l.firstChild),In=!1,h=!0):h=!1),h||yi(n)),Me(n),h=n.type,f=n.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:E!==null&&jf(h,E)&&(n.flags|=32),n.memoizedState!==null&&(h=Oh(t,n,X0,null,null,s),ql._currentValue=h),bu(t,n),Fe(t,n,l,s),n.child;case 6:return t===null&&Pt&&((t=s=ie)&&(s=jT(s,n.pendingProps,In),s!==null?(n.stateNode=s,qe=n,ie=null,t=!0):t=!1),t||yi(n)),null;case 13:return mg(t,n,s);case 4:return Yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_s(n,null,l,s):Fe(t,n,l,s),n.child;case 11:return sg(t,n,n.type,n.pendingProps,s);case 7:return Fe(t,n,n.pendingProps,s),n.child;case 8:return Fe(t,n,n.pendingProps.children,s),n.child;case 12:return Fe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,_i(n,n.type,l.value),Fe(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ms(n),h=He(h),l=l(h),n.flags|=1,Fe(t,n,l,s),n.child;case 14:return rg(t,n,n.type,n.pendingProps,s);case 15:return lg(t,n,n.type,n.pendingProps,s);case 19:return gg(t,n,s);case 31:return aT(t,n,s);case 22:return og(t,n,s,n.pendingProps);case 24:return ms(n),l=He(Ae),t===null?(h=bh(),h===null&&(h=ae,f=Th(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},wh(n),_i(n,Ae,h)):((t.lanes&s)!==0&&(Rh(t,n),Sl(n,null,null,s),Tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_i(n,Ae,l)):(l=f.cache,_i(n,Ae,l),l!==h.cache&&Eh(n,[Ae],s,!0))),Fe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qa(t){t.flags|=4}function of(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fg())t.flags|=8192;else throw ys=ou,Ah}else t.flags&=-16777217}function _g(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Oy(n))if(Fg())t.flags|=8192;else throw ys=ou,Ah}function wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Io():536870912,t.lanes|=n,dr|=n)}function xl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function sT(t,n,s){var l=n.pendingProps;switch(ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ua(Ae),Ut(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tr(n)?qa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qa(n),f!==null?(se(n),_g(n,f)):(se(n),of(n,h,null,l,s))):f?f!==t.memoizedState?(qa(n),se(n),_g(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qa(n),se(n),of(n,h,t,l,s)),null;case 27:if(Tn(n),s=vt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}t=ot.current,tr(n)?Zm(n):(t=wy(h,l,s),n.stateNode=t,qa(n))}return se(n),null;case 5:if(Tn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=ot.current,tr(n))Zm(n);else{var E=ku(vt.current);switch(f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}f[Te]=n,f[je]=l;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qa(n)}}return se(n),of(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=vt.current,tr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Te]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||my(t.nodeValue,s)),t||yi(n,!0)}else t=ku(t).createTextNode(l),t[Te]=n,n.stateNode=t}return se(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=tr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Te]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else s=yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),wu(n,n.updateQueue),se(n),null);case 4:return Ut(),t===null&&Df(n.stateNode.containerInfo),se(n),null;case 10:return Ua(n.type),se(n),null;case 19:if(nt(ge),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)xl(l,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=fu(t),f!==null){for(n.flags|=128,xl(l,!1),t=f.updateQueue,n.updateQueue=t,wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Qm(s,t),s=s.sibling;return Y(ge,ge.current&1|2),Pt&&La(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>Du&&(n.flags|=128,h=!0,xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,wu(n,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return se(n),null}else 2*tn()-l.renderingStartTime>Du&&s!==536870912&&(n.flags|=128,h=!0,xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=ge.current,Y(ge,h?s&1|2:s&1),Pt&&La(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return yn(n),Dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&nt(ps),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ua(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function rT(t,n){switch(ph(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ua(Ae),Ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Tn(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(ge),null;case 4:return Ut(),null;case 10:return Ua(n.type),null;case 22:case 23:return yn(n),Dh(),t!==null&&nt(ps),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ua(Ae),null;case 25:return null;default:return null}}function vg(t,n){switch(ph(n),n.tag){case 3:Ua(Ae),Ut();break;case 26:case 27:case 5:Tn(n);break;case 4:Ut();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:nt(ge);break;case 10:Ua(n.type);break;case 22:case 23:yn(n),Dh(),t!==null&&nt(ps);break;case 24:Ua(Ae)}}function Nl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(b){Zt(n,n.return,b)}}function Ai(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=n;var D=s,G=b;try{G()}catch(J){Zt(h,D,J)}}}l=l.next}while(l!==f)}}catch(J){Zt(n,n.return,J)}}function Eg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{cp(n,s)}catch(l){Zt(t,t.return,l)}}}function Tg(t,n,s){s.props=Es(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Dl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Zt(t,n,h)}}function va(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Zt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(t,n,h)}else s.current=null}function Sg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Zt(t,t.return,h)}}function uf(t,n,s){try{var l=t.stateNode;xT(l,t.type,s,n),l[je]=n}catch(h){Zt(t,t.return,h)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ii(t.type)||t.tag===4}function cf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ii(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Ii(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(hf(t,n,s),t=t.sibling;t!==null;)hf(t,n,s),t=t.sibling}function Ru(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ii(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ru(t,n,s),t=t.sibling;t!==null;)Ru(t,n,s),t=t.sibling}function Ag(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[Te]=t,n[je]=s}catch(f){Zt(t,t.return,f)}}var Ha=!1,Ce=!1,ff=!1,wg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function lT(t,n){if(t=t.containerInfo,Of=Yu,t=zm(t),ih(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var E=0,b=-1,D=-1,G=0,J=0,at=t,Q=null;e:for(;;){for(var X;at!==s||h!==0&&at.nodeType!==3||(b=E+h),at!==f||l!==0&&at.nodeType!==3||(D=E+l),at.nodeType===3&&(E+=at.nodeValue.length),(X=at.firstChild)!==null;)Q=at,at=X;for(;;){if(at===t)break e;if(Q===s&&++G===h&&(b=E),Q===f&&++J===l&&(D=E),(X=at.nextSibling)!==null)break;at=Q,Q=at.parentNode}at=X}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mf={focusedElem:t,selectionRange:s},Yu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var pt=Es(s.type,h);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Zt(s,s.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)zf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Rg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(t,s),l&4&&Nl(5,s);break;case 1:if(Ga(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(E){Zt(s,s.return,E)}else{var h=Es(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(s,s.return,E)}}l&64&&Eg(s),l&512&&Dl(s,s.return);break;case 3:if(Ga(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cp(t,n)}catch(E){Zt(s,s.return,E)}}break;case 27:n===null&&l&4&&Ag(s);case 26:case 5:Ga(t,s),n===null&&l&4&&Sg(s),l&512&&Dl(s,s.return);break;case 12:Ga(t,s);break;case 31:Ga(t,s),l&4&&Ng(t,s);break;case 13:Ga(t,s),l&4&&Dg(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gT.bind(null,s),LT(t,s))));break;case 22:if(l=s.memoizedState!==null||Ha,!l){n=n!==null&&n.memoizedState!==null||Ce,h=Ha;var f=Ce;Ha=l,(Ce=n)&&!f?Qa(t,s,(s.subtreeFlags&8772)!==0):Ga(t,s),Ha=h,Ce=f}break;case 30:break;default:Ga(t,s)}}function Cg(t){var n=t.alternate;n!==null&&(t.alternate=null,Cg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,rn=!1;function Fa(t,n,s){for(s=s.child;s!==null;)xg(t,n,s),s=s.sibling}function xg(t,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Ce||va(s,n),Fa(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||va(s,n);var l=oe,h=rn;Ii(s.type)&&(oe=s.stateNode,rn=!1),Fa(t,n,s),Pl(s.stateNode),oe=l,rn=h;break;case 5:Ce||va(s,n);case 6:if(l=oe,h=rn,oe=null,Fa(t,n,s),oe=l,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Zt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Zt(s,n,f)}break;case 18:oe!==null&&(rn?(t=oe,Ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Tr(t)):Ey(oe,s.stateNode));break;case 4:l=oe,h=rn,oe=s.stateNode.containerInfo,rn=!0,Fa(t,n,s),oe=l,rn=h;break;case 0:case 11:case 14:case 15:Ai(2,s,n),Ce||Ai(4,s,n),Fa(t,n,s);break;case 1:Ce||(va(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Tg(s,n,l)),Fa(t,n,s);break;case 21:Fa(t,n,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,Fa(t,n,s),Ce=l;break;default:Fa(t,n,s)}}function Ng(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(s){Zt(n,n.return,s)}}}function Dg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(s){Zt(n,n.return,s)}}function oT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wg),n;default:throw Error(r(435,t.tag))}}function Cu(t,n){var s=oT(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=yT.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,E=n,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Ii(b.type)){oe=b.stateNode,rn=!1;break t}break;case 5:oe=b.stateNode,rn=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,rn=!0;break t}b=b.return}if(oe===null)throw Error(r(160));xg(f,E,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ig(n,t),n=n.sibling}var Kn=null;function Ig(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ai(3,t,t.return),Nl(3,t),Ai(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(Ce||s===null||va(s,s.return)),l&64&&Ha&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(Ce||s===null||va(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[sa]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[Te]=t,Se(f),l=f;break t;case"link":var E=Iy("link","href",h).get(l+(s.href||""));if(E){for(var b=0;b<E.length;b++)if(f=E[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(b,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(E=Iy("meta","content",h).get(l+(s.content||""))){for(b=0;b<E.length;b++)if(f=E[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(b,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Te]=t,Se(f),l=f}t.stateNode=l}else Vy(h,t.type,t.stateNode);else t.stateNode=Dy(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Vy(h,t.type,t.stateNode):Dy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&uf(t,t.memoizedProps,s.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(Ce||s===null||va(s,s.return)),s!==null&&l&4&&uf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(Ce||s===null||va(s,s.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(pt){Zt(t,t.return,pt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,uf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ff=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(pt){Zt(t,t.return,pt)}}break;case 3:if(Hu=null,h=Kn,Kn=Bu(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(pt){Zt(t,t.return,pt)}ff&&(ff=!1,Vg(t));break;case 4:l=Kn,Kn=Bu(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,G=Ha,J=Ce;if(Ha=G||h,Ce=J||D,ln(n,t),Ce=J,Ha=G,on(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||Ha||Ce||Ts(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=D.stateNode;var at=D.memoizedProps.style,Q=at!=null&&at.hasOwnProperty("display")?at.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pt){Zt(D,D.return,pt)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pt){Zt(D,D.return,pt)}}}else if(n.tag===18){if(s===null){D=n;try{var X=D.stateNode;h?Ty(X,!0):Ty(D.stateNode,!1)}catch(pt){Zt(D,D.return,pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Cu(t,s))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(bg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=cf(t);Ru(t,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(sn(E,""),s.flags&=-33);var b=cf(t);Ru(t,b,E);break;case 3:case 4:var D=s.stateNode.containerInfo,G=cf(t);hf(t,G,D);break;default:throw Error(r(161))}}catch(J){Zt(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ga(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(t,n.alternate,n),n=n.sibling}function Ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ts(n);break;case 1:va(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Tg(n,n.return,s),Ts(n);break;case 27:Pl(n.stateNode);case 26:case 5:va(n,n.return),Ts(n);break;case 22:n.memoizedState===null&&Ts(n);break;case 30:Ts(n);break;default:Ts(n)}t=t.sibling}}function Qa(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,E=f.flags;switch(f.tag){case 0:case 11:case 15:Qa(h,f,s),Nl(4,f);break;case 1:if(Qa(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Zt(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)up(D[h],b)}catch(G){Zt(l,l.return,G)}}s&&E&64&&Eg(f),Dl(f,f.return);break;case 27:Ag(f);case 26:case 5:Qa(h,f,s),s&&l===null&&E&4&&Sg(f),Dl(f,f.return);break;case 12:Qa(h,f,s);break;case 31:Qa(h,f,s),s&&E&4&&Ng(h,f);break;case 13:Qa(h,f,s),s&&E&4&&Dg(h,f);break;case 22:f.memoizedState===null&&Qa(h,f,s),Dl(f,f.return);break;case 30:break;default:Qa(h,f,s)}n=n.sibling}}function df(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function mf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function Xn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Og(t,n,s,l),n=n.sibling}function Og(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,s,l),h&2048&&Nl(9,n);break;case 1:Xn(t,n,s,l);break;case 3:Xn(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){Xn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,E=f.id,b=f.onPostCommit;typeof b=="function"&&b(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Zt(n,n.return,D)}}else Xn(t,n,s,l);break;case 31:Xn(t,n,s,l);break;case 13:Xn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,E=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,s,l):Il(t,n):f._visibility&2?Xn(t,n,s,l):(f._visibility|=2,cr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&df(E,n);break;case 24:Xn(t,n,s,l),h&2048&&mf(n.alternate,n);break;default:Xn(t,n,s,l)}}function cr(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,E=n,b=s,D=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:cr(f,E,b,D,h),Nl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?cr(f,E,b,D,h):Il(f,E):(J._visibility|=2,cr(f,E,b,D,h)),h&&G&2048&&df(E.alternate,E);break;case 24:cr(f,E,b,D,h),h&&G&2048&&mf(E.alternate,E);break;default:cr(f,E,b,D,h)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Il(s,l),h&2048&&df(l.alternate,l);break;case 24:Il(s,l),h&2048&&mf(l.alternate,l);break;default:Il(s,l)}n=n.sibling}}var Vl=8192;function hr(t,n,s){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Mg(t,n,s),t=t.sibling}function Mg(t,n,s){switch(t.tag){case 26:hr(t,n,s),t.flags&Vl&&t.memoizedState!==null&&KT(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:hr(t,n,s);break;case 3:case 4:var l=Kn;Kn=Bu(t.stateNode.containerInfo),hr(t,n,s),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,hr(t,n,s),Vl=l):hr(t,n,s));break;default:hr(t,n,s)}}function jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ze=l,zg(l,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,xu(t)):Ol(t);break;default:Ol(t)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ze=l,zg(l,t)}jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,xu(n));break;default:xu(n)}t=t.sibling}}function zg(t,n){for(;ze!==null;){var s=ze;switch(s.tag){case 0:case 11:case 15:Ai(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ze=l;else t:for(s=t;ze!==null;){l=ze;var h=l.sibling,f=l.return;if(Cg(l),l===s){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var uT={getCacheForType:function(t){var n=He(Ae),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return He(Ae).controller.signal}},cT=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ae=null,Vt=null,Mt=0,$t=0,_n=null,wi=!1,fr=!1,pf=!1,Ya=0,de=0,Ri=0,Ss=0,gf=0,vn=0,dr=0,Ml=null,un=null,yf=!1,Nu=0,Ug=0,Du=1/0,Iu=null,Ci=null,Ie=0,xi=null,mr=null,Ka=0,_f=0,vf=null,Pg=null,jl=0,Ef=null;function En(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:M.T!==null?Rf():Vo()}function kg(){if(vn===0)if((Mt&536870912)===0||Pt){var t=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,s){(t===ae&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(pr(t,0),Ni(t,Mt,vn,!1)),$i(t,s),((Qt&2)===0||t!==ae)&&(t===ae&&((Qt&2)===0&&(Ss|=s),de===4&&Ni(t,Mt,vn,!1)),Ea(t))}function Bg(t,n,s){if((Qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?dT(t,n):Sf(t,n,!0),f=l;do{if(h===0){fr&&!l&&Ni(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!hT(s)){h=Sf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var b=t;h=Ml;var D=b.current.memoizedState.isDehydrated;if(D&&(pr(b,E).flags|=256),E=Sf(b,E,!1),E!==2){if(pf&&!D){b.errorRecoveryDisabledLanes|=f,Ss|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){pr(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ni(l,n,vn,!wi);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Nu+300-tn(),10<h)){if(Ni(l,n,vn,!wi),na(l,0,!0)!==0)break t;Ka=n,l.timeoutHandle=_y(qg.bind(null,l,s,un,Iu,yf,n,vn,Ss,dr,wi,f,"Throttled",-0,0),h);break t}qg(l,s,un,Iu,yf,n,vn,Ss,dr,wi,f,null,-0,0)}}break}while(!0);Ea(t)}function qg(t,n,s,l,h,f,E,b,D,G,J,at,Q,X){if(t.timeoutHandle=-1,at=n.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Mg(n,f,at);var pt=(f&62914560)===f?Nu-tn():(f&4194048)===f?Ug-tn():0;if(pt=XT(at,pt),pt!==null){Ka=f,t.cancelPendingCommit=pt($g.bind(null,t,n,f,s,l,h,E,b,D,J,at,null,Q,X)),Ni(t,f,E,!G);return}}$g(t,n,f,s,l,h,E,b,D)}function hT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,s,l){n&=~gf,n&=~Ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-me(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&Zi(t,s,n)}function Vu(){return(Qt&6)===0?(Ll(0),!1):!0}function Tf(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,za=ds=null,Lh(t),sr=null,_l=0,t=Vt;for(;t!==null;)vg(t.alternate,t),t=t.return;Vt=null}}function pr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,IT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ka=0,Tf(),ae=t,Vt=s=ja(t.current,null),Mt=n,$t=0,_n=null,wi=!1,fr=Pn(t,n),pf=!1,dr=vn=gf=Ss=Ri=de=0,un=Ml=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-me(l),f=1<<h;n|=t[h],l&=~f}return Ya=n,Wo(),s}function Hg(t,n){Nt=null,M.H=Rl,n===ir||n===lu?(n=sp(),$t=3):n===Ah?(n=sp(),$t=4):$t=n===Jh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Vt===null&&(de=1,Tu(t,xn(n,t.current)))}function Fg(){var t=gn.current;return t===null?!0:(Mt&4194048)===Mt?Vn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===Vn:!1}function Gg(){var t=M.H;return M.H=Rl,t===null?Rl:t}function Qg(){var t=M.A;return M.A=uT,t}function Ou(){de=4,wi||(Mt&4194048)!==Mt&&gn.current!==null||(fr=!0),(Ri&134217727)===0&&(Ss&134217727)===0||ae===null||Ni(ae,Mt,vn,!1)}function Sf(t,n,s){var l=Qt;Qt|=2;var h=Gg(),f=Qg();(ae!==t||Mt!==n)&&(Iu=null,pr(t,n)),n=!1;var E=de;t:do try{if($t!==0&&Vt!==null){var b=Vt,D=_n;switch($t){case 8:Tf(),E=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var G=$t;if($t=0,_n=null,gr(t,b,D,G),s&&fr){E=0;break t}break;default:G=$t,$t=0,_n=null,gr(t,b,D,G)}}fT(),E=de;break}catch(J){Hg(t,J)}while(!0);return n&&t.shellSuspendCounter++,za=ds=null,Qt=l,M.H=h,M.A=f,Vt===null&&(ae=null,Mt=0,Wo()),E}function fT(){for(;Vt!==null;)Yg(Vt)}function dT(t,n){var s=Qt;Qt|=2;var l=Gg(),h=Qg();ae!==t||Mt!==n?(Iu=null,Du=tn()+500,pr(t,n)):fr=Pn(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=_n;e:switch($t){case 1:$t=0,_n=null,gr(t,n,f,1);break;case 2:case 9:if(ap(f)){$t=0,_n=null,Kg(n);break}n=function(){$t!==2&&$t!==9||ae!==t||($t=7),Ea(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ap(f)?($t=0,_n=null,Kg(n)):($t=0,_n=null,gr(t,n,f,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var b=Vt;if(E?Oy(E):b.stateNode.complete){$t=0,_n=null;var D=b.sibling;if(D!==null)Vt=D;else{var G=b.return;G!==null?(Vt=G,Mu(G)):Vt=null}break e}}$t=0,_n=null,gr(t,n,f,5);break;case 6:$t=0,_n=null,gr(t,n,f,6);break;case 8:Tf(),de=6;break t;default:throw Error(r(462))}}mT();break}catch(J){Hg(t,J)}while(!0);return za=ds=null,M.H=l,M.A=h,Qt=s,Vt!==null?0:(ae=null,Mt=0,Wo(),de)}function mT(){for(;Vt!==null&&!Zc();)Yg(Vt)}function Yg(t){var n=yg(t.alternate,t,Ya);t.memoizedProps=t.pendingProps,n===null?Mu(t):Vt=n}function Kg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=hg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=hg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Lh(n);default:vg(s,n),n=Vt=Qm(n,Ya),n=yg(s,n,Ya)}t.memoizedProps=t.pendingProps,n===null?Mu(t):Vt=n}function gr(t,n,s,l){za=ds=null,Lh(n),sr=null,_l=0;var h=n.return;try{if(nT(t,h,n,s,Mt)){de=1,Tu(t,xn(s,t.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;de=1,Tu(t,xn(s,t.current)),Vt=null;return}n.flags&32768?(Pt||l===1?t=!0:fr||(Mt&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xg(n,t)):Mu(n)}function Mu(t){var n=t;do{if((n.flags&32768)!==0){Xg(n,wi);return}t=n.return;var s=sT(n.alternate,n,Ya);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);de===0&&(de=5)}function Xg(t,n){do{var s=rT(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);de=6,Vt=null}function $g(t,n,s,l,h,f,E,b,D){t.cancelPendingCommit=null;do ju();while(Ie!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=uh,th(t,s,f,E,b,D),t===ae&&(Vt=ae=null,Mt=0),mr=n,xi=t,Ka=s,_f=f,vf=h,Pg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_T(si,function(){return ey(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=et.p,et.p=2,E=Qt,Qt|=4;try{lT(t,n,s)}finally{Qt=E,et.p=h,M.T=l}}Ie=1,Zg(),Jg(),Wg()}}function Zg(){if(Ie===1){Ie=0;var t=xi,n=mr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{Ig(n,t);var f=Mf,E=zm(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(E!==b&&b&&b.ownerDocument&&Lm(b.ownerDocument.documentElement,b)){if(D!==null&&ih(b)){var G=D.start,J=D.end;if(J===void 0&&(J=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(J,b.value.length);else{var at=b.ownerDocument||document,Q=at&&at.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pt=b.textContent.length,Tt=Math.min(D.start,pt),ne=D.end===void 0?Tt:Math.min(D.end,pt);!X.extend&&Tt>ne&&(E=ne,ne=Tt,Tt=E);var P=jm(b,Tt),L=jm(b,ne);if(P&&L&&(X.rangeCount!==1||X.anchorNode!==P.node||X.anchorOffset!==P.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var H=at.createRange();H.setStart(P.node,P.offset),X.removeAllRanges(),Tt>ne?(X.addRange(H),X.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),X.addRange(H))}}}}for(at=[],X=b;X=X.parentNode;)X.nodeType===1&&at.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<at.length;b++){var W=at[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Yu=!!Of,Mf=Of=null}finally{Qt=h,et.p=l,M.T=s}}t.current=n,Ie=2}}function Jg(){if(Ie===2){Ie=0;var t=xi,n=mr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=M.T,M.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{Rg(t,n.alternate,n)}finally{Qt=h,et.p=l,M.T=s}}Ie=3}}function Wg(){if(Ie===4||Ie===3){Ie=0,wo();var t=xi,n=mr,s=Ka,l=Pg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,mr=xi=null,ty(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),Ia(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,h=et.p,et.p=2,M.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];f(b.value,{componentStack:b.stack})}}finally{M.T=n,et.p=h}}(Ka&3)!==0&&ju(),Ea(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Ef?jl++:(jl=0,Ef=t):jl=0,Ll(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function ju(){return Zg(),Jg(),Wg(),ey()}function ey(){if(Ie!==5)return!1;var t=xi,n=_f;_f=0;var s=Ia(Ka),l=M.T,h=et.p;try{et.p=32>s?32:s,M.T=null,s=vf,vf=null;var f=xi,E=Ka;if(Ie=0,mr=xi=null,Ka=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;if(Qt|=4,Lg(f.current),Og(f,f.current,E,s),Qt=b,Ll(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,M.T=l,ty(t,n)}}function ny(t,n,s){n=xn(s,n),n=Zh(t.stateNode,n,2),t=Ti(t,n,2),t!==null&&($i(t,2),Ea(t))}function Zt(t,n,s){if(t.tag===3)ny(t,t,s);else for(;n!==null;){if(n.tag===3){ny(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=xn(s,t),s=ag(2),l=Ti(n,s,2),l!==null&&(ig(s,l,n,t),$i(l,2),Ea(l));break}}n=n.return}}function bf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new cT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(pf=!0,h.add(s),t=pT.bind(null,t,n,s),n.then(t,t))}function pT(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ae===t&&(Mt&s)===s&&(de===4||de===3&&(Mt&62914560)===Mt&&300>tn()-Nu?(Qt&2)===0&&pr(t,0):gf|=s,dr===Mt&&(dr=0)),Ea(t)}function ay(t,n){n===0&&(n=Io()),t=cs(t,n),t!==null&&($i(t,n),Ea(t))}function gT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),ay(t,s)}function yT(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ay(t,s)}function _T(t,n){return De(t,n)}var Lu=null,yr=null,Af=!1,zu=!1,wf=!1,Di=0;function Ea(t){t!==yr&&t.next===null&&(yr===null?Lu=yr=t:yr=yr.next=t),zu=!0,Af||(Af=!0,ET())}function Ll(t,n){if(!wf&&zu){wf=!0;do for(var s=!1,l=Lu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=h&~(E&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ly(l,f))}else f=Mt,f=na(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(s=!0,ly(l,f));l=l.next}while(s);wf=!1}}function vT(){iy()}function iy(){zu=Af=!1;var t=0;Di!==0&&DT()&&(t=Di);for(var n=tn(),s=null,l=Lu;l!==null;){var h=l.next,f=sy(l,n);f===0?(l.next=null,s===null?Lu=h:s.next=h,h===null&&(yr=s)):(s=l,(t!==0||(f&3)!==0)&&(zu=!0)),l=h}Ie!==0&&Ie!==5||Ll(t),Di!==0&&(Di=0)}function sy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-me(f),b=1<<E,D=h[E];D===-1?((b&s)===0||(b&l)!==0)&&(h[E]=Wc(b,n)):D<=n&&(t.expiredLanes|=b),f&=~b}if(n=ae,s=Mt,s=na(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ii(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ii(l),Ia(s)){case 2:case 8:s=Qr;break;case 32:s=si;break;case 268435456:s=Ro;break;default:s=si}return l=ry.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ii(l),t.callbackPriority=2,t.callbackNode=null,2}function ry(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ju()&&t.callbackNode!==s)return null;var l=Mt;return l=na(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Bg(t,l,n),sy(t,tn()),t.callbackNode!=null&&t.callbackNode===s?ry.bind(null,t):null)}function ly(t,n){if(ju())return null;Bg(t,n,!0)}function ET(){VT(function(){(Qt&6)!==0?De(Gr,vT):iy()})}function Rf(){if(Di===0){var t=nr;t===0&&(t=ta,ta<<=1,(ta&261888)===0&&(ta=256)),Di=t}return Di}function oy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bs(""+t)}function uy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function TT(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=oy((h[je]||null).action),E=l.submitter;E&&(n=(n=E[je]||null)?oy(n.formAction):E.getAttribute("formAction"),n!==null&&(f=n,E=null));var b=new da("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Di!==0){var D=E?uy(h,E):new FormData(h);Gh(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=E?uy(h,E):new FormData(h),Gh(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Cf=0;Cf<oh.length;Cf++){var xf=oh[Cf],ST=xf.toLowerCase(),bT=xf[0].toUpperCase()+xf.slice(1);Yn(ST,"on"+bT)}Yn(km,"onAnimationEnd"),Yn(Bm,"onAnimationIteration"),Yn(qm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(P0,"onTransitionRun"),Yn(k0,"onTransitionStart"),Yn(B0,"onTransitionCancel"),Yn(Hm,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function cy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var E=l.length-1;0<=E;E--){var b=l[E],D=b.instance,G=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=G;try{f(h)}catch(J){Jo(J)}h.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(b=l[E],D=b.instance,G=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=G;try{f(h)}catch(J){Jo(J)}h.currentTarget=null,f=D}}}}function Ot(t,n){var s=n[Ls];s===void 0&&(s=n[Ls]=new Set);var l=t+"__bubble";s.has(l)||(hy(n,t,2,!1),s.add(l))}function Nf(t,n,s){var l=0;n&&(l|=4),hy(s,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[Uu]){t[Uu]=!0,Xr.forEach(function(s){s!=="selectionchange"&&(AT.has(s)||Nf(s,!1,t),Nf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Nf("selectionchange",!1,n))}}function hy(t,n,s,l){switch(ky(n)){case 2:var h=JT;break;case 8:h=WT;break;default:h=Gf}s=h.bind(null,n,s,t),h=void 0,!ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function If(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=ra(b),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue t}b=b.parentNode}}l=l.return}hi(function(){var G=f,J=An(s),at=[];t:{var Q=Fm.get(t);if(Q!==void 0){var X=da,pt=t;switch(t){case"keypress":if(is(s)===0)break t;case"keydown":case"keyup":X=Xo;break;case"focusin":pt="focus",X=rs;break;case"focusout":pt="blur",X=rs;break;case"beforeblur":case"afterblur":X=rs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=m;break;case km:case Bm:case qm:X=qo;break;case Hm:X=w;break;case"scroll":case"scrollend":X=ll;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ma;break;case"toggle":case"beforetoggle":X=xt}var Tt=(n&4)!==0,ne=!Tt&&(t==="scroll"||t==="scrollend"),P=Tt?Q!==null?Q+"Capture":null:Q;Tt=[];for(var L=G,H;L!==null;){var W=L;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||P===null||(W=Hn(L,P),W!=null&&Tt.push(Ul(L,W,H))),ne)break;L=L.return}0<Tt.length&&(Q=new X(Q,pt,null,s,J),at.push({event:Q,listeners:Tt}))}}if((n&7)===0){t:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&s!==il&&(pt=s.relatedTarget||s.fromElement)&&(ra(pt)||pt[ia]))break t;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pt=s.relatedTarget||s.toElement,X=G,pt=pt?ra(pt):null,pt!==null&&(ne=c(pt),Tt=pt.tag,pt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(pt=null)):(X=null,pt=G),X!==pt)){if(Tt=ol,W="onMouseLeave",P="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Ma,W="onPointerLeave",P="onPointerEnter",L="pointer"),ne=X==null?Q:fn(X),H=pt==null?Q:fn(pt),Q=new Tt(W,L+"leave",X,s,J),Q.target=ne,Q.relatedTarget=H,W=null,ra(J)===G&&(Tt=new Tt(P,L+"enter",pt,s,J),Tt.target=H,Tt.relatedTarget=ne,W=Tt),ne=W,X&&pt)e:{for(Tt=wT,P=X,L=pt,H=0,W=P;W;W=Tt(W))H++;W=0;for(var _t=L;_t;_t=Tt(_t))W++;for(;0<H-W;)P=Tt(P),H--;for(;0<W-H;)L=Tt(L),W--;for(;H--;){if(P===L||L!==null&&P===L.alternate){Tt=P;break e}P=Tt(P),L=Tt(L)}Tt=null}else Tt=null;X!==null&&fy(at,Q,X,Tt,!1),pt!==null&&ne!==null&&fy(at,ne,pt,Tt,!0)}}t:{if(Q=G?fn(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var qt=Nm;else if(Cm(Q))if(Dm)qt=L0;else{qt=M0;var gt=O0}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&ks(G.elementType)&&(qt=Nm):qt=j0;if(qt&&(qt=qt(t,G))){xm(at,qt,s,J);break t}gt&&gt(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&el(Q,"number",Q.value)}switch(gt=G?fn(G):window,t){case"focusin":(Cm(gt)||gt.contentEditable==="true")&&(Ks=gt,sh=G,dl=null);break;case"focusout":dl=sh=Ks=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Um(at,s,J);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Um(at,s,J)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Ys?ls(t,s)&&(jt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(ga&&s.locale!=="ko"&&(Ys||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ys&&(Dt=rl()):(fa=J,sl="value"in fa?fa.value:fa.textContent,Ys=!0)),gt=Pu(G,jt),0<gt.length&&(jt=new pa(jt,t,null,s,J),at.push({event:jt,listeners:gt}),Dt?jt.data=Dt:(Dt=Qs(s),Dt!==null&&(jt.data=Dt)))),(Dt=Rn?N0(t,s):D0(t,s))&&(jt=Pu(G,"onBeforeInput"),0<jt.length&&(gt=new pa("onBeforeInput","beforeinput",null,s,J),at.push({event:gt,listeners:jt}),gt.data=Dt)),TT(at,t,G,s,J)}cy(at,n)})}function Ul(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Pu(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,s),h!=null&&l.unshift(Ul(t,h,f)),h=Hn(t,n),h!=null&&l.push(Ul(t,h,f))),t.tag===3)return l;t=t.return}return[]}function wT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,n,s,l,h){for(var f=n._reactName,E=[];s!==null&&s!==l;){var b=s,D=b.alternate,G=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||G===null||(D=G,h?(G=Hn(s,f),G!=null&&E.unshift(Ul(s,G,D))):h||(G=Hn(s,f),G!=null&&E.push(Ul(s,G,D)))),s=s.return}E.length!==0&&t.push({event:n,listeners:E})}var RT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(RT,`
`).replace(CT,"")}function my(t,n){return n=dy(n),dy(t)===n}function ee(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,s,l);break;case"style":al(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(t,n,"name",h.name,h,null),ee(t,n,"formEncType",h.formEncType,h,null),ee(t,n,"formMethod",h.formMethod,h,null),ee(t,n,"formTarget",h.formTarget,h,null)):(ee(t,n,"encType",h.encType,h,null),ee(t,n,"method",h.method,h,null),ee(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Us(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Us(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Po.get(s)||s,Us(t,s,l))}}function Vf(t,n,s,l,h,f){switch(s){case"style":al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Us(t,s,l)}}}function Ge(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(t,n,f,E,s,null)}}h&&ee(t,n,"srcSet",s.srcSet,s,null),l&&ee(t,n,"src",s.src,s,null);return;case"input":Ot("invalid",t);var b=f=E=h=null,D=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":G=J;break;case"value":f=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,n));break;default:ee(t,n,l,J,s,null)}}Lo(t,f,b,D,G,E,h,!1);return;case"select":Ot("invalid",t),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:ee(t,n,h,b,s,null)}n=f,s=E,t.multiple=!!l,n!=null?li(t,!!l,n,!1):s!=null&&li(t,!!l,s,!0);return;case"textarea":Ot("invalid",t),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(b=s[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ee(t,n,E,b,s,null)}oi(t,l,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,n,D,l,s,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ot(zl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(t,n,G,l,s,null)}return;default:if(ks(n)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Vf(t,n,J,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&ee(t,n,b,l,s,null))}function xT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,b=null,D=null,G=null,J=null;for(X in s){var at=s[X];if(s.hasOwnProperty(X)&&at!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=at;default:l.hasOwnProperty(X)||ee(t,n,X,null,l,at)}}for(var Q in l){var X=l[Q];if(at=s[Q],l.hasOwnProperty(Q)&&(X!=null||at!=null))switch(Q){case"type":f=X;break;case"name":h=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:X!==at&&ee(t,n,Q,X,l,at)}}Ps(t,E,b,D,G,J,f,h);return;case"select":X=E=b=Q=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||ee(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=s[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":Q=f;break;case"defaultValue":b=f;break;case"multiple":E=f;default:f!==D&&ee(t,n,h,f,l,D)}n=b,s=E,l=X,Q!=null?li(t,!!s,Q,!1):!!l!=!!s&&(n!=null?li(t,!!s,n,!0):li(t,!!s,s?[]:"",!1));return;case"textarea":X=Q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ee(t,n,b,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ee(t,n,E,h,l,f)}zo(t,Q,X);return;case"option":for(var pt in s)if(Q=s[pt],s.hasOwnProperty(pt)&&Q!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:ee(t,n,pt,null,l,Q)}for(D in l)if(Q=l[D],X=s[D],l.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ee(t,n,D,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)Q=s[Tt],s.hasOwnProperty(Tt)&&Q!=null&&!l.hasOwnProperty(Tt)&&ee(t,n,Tt,null,l,Q);for(G in l)if(Q=l[G],X=s[G],l.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ee(t,n,G,Q,l,X)}return;default:if(ks(n)){for(var ne in s)Q=s[ne],s.hasOwnProperty(ne)&&Q!==void 0&&!l.hasOwnProperty(ne)&&Vf(t,n,ne,void 0,l,Q);for(J in l)Q=l[J],X=s[J],!l.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||Vf(t,n,J,Q,l,X);return}}for(var P in s)Q=s[P],s.hasOwnProperty(P)&&Q!=null&&!l.hasOwnProperty(P)&&ee(t,n,P,null,l,Q);for(at in l)Q=l[at],X=s[at],!l.hasOwnProperty(at)||Q===X||Q==null&&X==null||ee(t,n,at,Q,l,X)}function py(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,E=h.initiatorType,b=h.duration;if(f&&b&&py(E)){for(E=0,b=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],G=D.startTime;if(G>b)break;var J=D.transferSize,at=D.initiatorType;J&&py(at)&&(D=D.responseEnd,E+=J*(D<b?1:(b-G)/(D-G)))}if(--l,n+=8*(f+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Of=null,Mf=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lf=null;function DT(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(OT)}:_y;function OT(t){setTimeout(function(){throw t})}function Ii(t){return t==="head"}function Ey(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Tr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Pl(s);for(var f=s.firstChild;f;){var E=f.nextSibling,b=f.nodeName;f[sa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=E}}else s==="body"&&Pl(t.ownerDocument.body);s=h}while(s);Tr(n)}function Ty(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function zf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zf(s),zs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function MT(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[sa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function jT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Sy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$?"||t.data==="$~"}function Pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kf=null;function by(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return On(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function wy(t,n,s){switch(n=ku(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zs(t)}var Mn=new Map,Ry=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=et.d;et.d={f:zT,r:UT,D:PT,C:kT,L:BT,m:qT,X:FT,S:HT,M:GT};function zT(){var t=Xa.f(),n=Vu();return t||n}function UT(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Hp(n):Xa.r(t)}var _r=typeof document>"u"?null:document;function Cy(t,n,s){var l=_r;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ry.has(h)||(Ry.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",t),Se(n),l.head.appendChild(n)))}}function PT(t){Xa.D(t),Cy("dns-prefetch",t,null)}function kT(t,n){Xa.C(t,n),Cy("preconnect",t,n)}function BT(t,n,s){Xa.L(t,n,s);var l=_r;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(n){case"style":f=vr(t);break;case"script":f=Er(t)}Mn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),Ge(n,"link",t),Se(n),l.head.appendChild(n)))}}function qT(t,n){Xa.m(t,n);var s=_r;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!Mn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(f)))return}l=s.createElement("link"),Ge(l,"link",t),Se(l),s.head.appendChild(l)}}}function HT(t,n,s){Xa.S(t,n,s);var l=_r;if(l&&t){var h=la(l).hoistableStyles,f=vr(t);n=n||"default";var E=h.get(f);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(kl(f)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Mn.get(f))&&Bf(t,s);var D=E=l.createElement("link");Se(D),Ge(D,"link",t),D._p=new Promise(function(G,J){D.onload=G,D.onerror=J}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qu(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(f,E)}}}function FT(t,n){Xa.X(t,n);var s=_r;if(s&&t){var l=la(s).hoistableScripts,h=Er(t),f=l.get(h);f||(f=s.querySelector(Bl(h)),f||(t=A({src:t,async:!0},n),(n=Mn.get(h))&&qf(t,n),f=s.createElement("script"),Se(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function GT(t,n){Xa.M(t,n);var s=_r;if(s&&t){var l=la(s).hoistableScripts,h=Er(t),f=l.get(h);f||(f=s.querySelector(Bl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&qf(t,n),f=s.createElement("script"),Se(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xy(t,n,s,l){var h=(h=vt.current)?Bu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=vr(s.href),s=la(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=vr(s.href);var f=la(h).hoistableStyles,E=f.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=h.querySelector(kl(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),f||QT(h,t,s,E.state))),n&&l===null)throw Error(r(528,""));return E}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(s),s=la(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+an(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Ny(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function QT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Se(n),t.head.appendChild(n))}function Er(t){return'[src="'+an(t)+'"]'}function Bl(t){return"script[async]"+t}function Dy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(l)return n.instance=l,Se(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Se(l),Ge(l,"style",h),qu(l,s.precedence,t),n.instance=l;case"stylesheet":h=vr(s.href);var f=t.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;l=Ny(s),(h=Mn.get(h))&&Bf(l,h),f=(t.ownerDocument||t).createElement("link"),Se(f);var E=f;return E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Ge(f,"link",l),n.state.loading|=4,qu(f,s.precedence,t),n.instance=f;case"script":return f=Er(s.src),(h=t.querySelector(Bl(f)))?(n.instance=h,Se(h),h):(l=s,(h=Mn.get(f))&&(l=A({},s),qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Se(h),Ge(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,s.precedence,t));return n.instance}function qu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hu=null;function Iy(t,n,s){if(Hu===null){var l=new Map,h=Hu=new Map;h.set(s,l)}else h=Hu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[sa]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(n)||"";E=t+E;var b=l.get(E);b?b.push(f):l.set(E,[f])}}return l}function Vy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function YT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=vr(l.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Fu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,l=Ny(l),(h=Mn.get(h))&&Bf(l,h),f=f.createElement("link"),Se(f);var E=f;E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Ge(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Fu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Hf=0;function XT(t,n){return t.stylesheets&&t.count===0&&Qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Hf===0&&(Hf=62500*NT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Hf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach($T,t),Gu=null,Fu.call(t))}function $T(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=n.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=Fu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function ZT(t,n,s,l,h,f,E,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function My(t,n,s,l,h,f,E,b,D,G,J,at){return t=new ZT(t,n,s,E,D,G,J,at,b),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=Th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},wh(f),t}function jy(t){return t?(t=Zs,t):Zs}function Ly(t,n,s,l,h,f){h=jy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ei(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ti(t,l,n),s!==null&&(cn(s,t,n),El(s,t,n))}function zy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ff(t,n){zy(t,n),(t=t.alternate)&&zy(t,n)}function Uy(t){if(t.tag===13||t.tag===31){var n=cs(t,67108864);n!==null&&cn(n,t,67108864),Ff(t,67108864)}}function Py(t){if(t.tag===13||t.tag===31){var n=En();n=Ji(n);var s=cs(t,n);s!==null&&cn(s,t,n),Ff(t,n)}}var Yu=!0;function JT(t,n,s,l){var h=M.T;M.T=null;var f=et.p;try{et.p=2,Gf(t,n,s,l)}finally{et.p=f,M.T=h}}function WT(t,n,s,l){var h=M.T;M.T=null;var f=et.p;try{et.p=8,Gf(t,n,s,l)}finally{et.p=f,M.T=h}}function Gf(t,n,s,l){if(Yu){var h=Qf(l);if(h===null)If(t,n,l,Ku,s),By(t,l);else if(e1(h,t,n,s,l))l.stopPropagation();else if(By(t,l),n&4&&-1<t1.indexOf(t)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=ea(f.pendingLanes);if(E!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var D=1<<31-me(E);b.entanglements[1]|=D,E&=~D}Ea(f),(Qt&6)===0&&(Du=tn()+500,Ll(0))}}break;case 31:case 13:b=cs(f,2),b!==null&&cn(b,f,2),Vu(),Ff(f,2)}if(f=Qf(l),f===null&&If(t,n,l,Ku,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else If(t,n,l,null,s)}}function Qf(t){return t=An(t),Yf(t)}var Ku=null;function Yf(t){if(Ku=null,t=ra(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ku=t,null}function ky(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case Gr:return 2;case Qr:return 8;case si:case Jc:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Kf=!1,Vi=null,Oi=null,Mi=null,Hl=new Map,Fl=new Map,ji=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,n){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&Uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function e1(t,n,s,l,h){switch(n){case"focusin":return Vi=Gl(Vi,t,n,s,l,h),!0;case"dragenter":return Oi=Gl(Oi,t,n,s,l,h),!0;case"mouseover":return Mi=Gl(Mi,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,n,s,l,h)),!0}return!1}function qy(t){var n=ra(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Py(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Py(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Qf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return n=bn(s),n!==null&&Uy(n),t.blockedOn=s,!1;n.shift()}return!0}function Hy(t,n,s){Xu(t)&&s.delete(n)}function n1(){Kf=!1,Vi!==null&&Xu(Vi)&&(Vi=null),Oi!==null&&Xu(Oi)&&(Oi=null),Mi!==null&&Xu(Mi)&&(Mi=null),Hl.forEach(Hy),Fl.forEach(Hy)}function $u(t,n){t.blockedOn===n&&(t.blockedOn=null,Kf||(Kf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,n1)))}var Zu=null;function Fy(t){Zu!==t&&(Zu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Yf(l||s)===null)continue;break}var f=bn(s);f!==null&&(t.splice(n,3),n-=3,Gh(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Tr(t){function n(D){return $u(D,t)}Vi!==null&&$u(Vi,t),Oi!==null&&$u(Oi,t),Mi!==null&&$u(Mi,t),Hl.forEach(n),Fl.forEach(n);for(var s=0;s<ji.length;s++){var l=ji[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(s=ji[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&ji.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[je]||null;if(typeof f=="function")E||Fy(s);else if(E){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[je]||null)b=E.formAction;else if(Yf(h)!==null)continue}else b=E.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Fy(s)}}}function Gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Xf(t){this._internalRoot=t}Ju.prototype.render=Xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=En();Ly(s,l,t,n,null,null)},Ju.prototype.unmount=Xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ly(t.current,2,null,t,null,null),Vu(),n[ia]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Vo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ji.length&&n!==0&&n<ji[s].priority;s++);ji.splice(s,0,t),s===0&&qy(t)}};var Qy=e.version;if(Qy!=="19.2.0")throw Error(r(527,Qy,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var a1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Un=Wu.inject(a1),ke=Wu}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",h=Wp,f=tg,E=eg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=My(t,1,!1,null,null,s,l,null,h,f,E,Gy),t[ia]=n.current,Df(t),new Xf(n)},Yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Wp,E=tg,b=eg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=My(t,1,!0,n,s??null,l,h,D,f,E,b,Gy),n.context=jy(null),s=n.current,l=En(),l=Ji(l),h=Ei(l),h.callback=null,Ti(s,h,l),s=l,n.current.lanes=s,$i(n,s),Ea(n),t[ia]=n.current,Df(t),new Ju(n)},Yl.version="19.2.0",Yl}var n_;function d1(){if(n_)return Zf.exports;n_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zf.exports=f1(),Zf.exports}var m1=d1(),z=kd();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a_="popstate";function p1(i={}){function e(o,c){let{pathname:d="/",search:y="",hash:v=""}=Ns(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),pd("",{pathname:d,search:y,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){let d=o.document.querySelector("base"),y="";if(d&&d.getAttribute("href")){let v=o.location.href,_=v.indexOf("#");y=_===-1?v:v.slice(0,_)}return y+"#"+(typeof c=="string"?c:so(c))}function r(o,c){Zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return y1(e,a,r,i)}function ce(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function i_(i,e){return{usr:i.state,key:i.key,idx:e}}function pd(i,e,a=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ns(e):e,state:a,key:e&&e.key||r||g1()}}function so({pathname:i="/",search:e="",hash:a=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Ns(i){let e={};if(i){let a=i.indexOf("#");a>=0&&(e.hash=i.substring(a),i=i.substring(0,a));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function y1(i,e,a,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,y="POP",v=null,_=S();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function S(){return(d.state||{idx:null}).idx}function A(){y="POP";let F=S(),rt=F==null?null:F-_;_=F,v&&v({action:y,location:Z.location,delta:rt})}function I(F,rt){y="PUSH";let q=pd(Z.location,F,rt);a&&a(q,F),_=S()+1;let tt=i_(q,_),it=Z.createHref(q);try{d.pushState(tt,"",it)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(it)}c&&v&&v({action:y,location:Z.location,delta:1})}function k(F,rt){y="REPLACE";let q=pd(Z.location,F,rt);a&&a(q,F),_=S();let tt=i_(q,_),it=Z.createHref(q);d.replaceState(tt,"",it),c&&v&&v({action:y,location:Z.location,delta:0})}function $(F){return _1(F)}let Z={get action(){return y},get location(){return i(o,d)},listen(F){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(a_,A),v=F,()=>{o.removeEventListener(a_,A),v=null}},createHref(F){return e(o,F)},createURL:$,encodeLocation(F){let rt=$(F);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:I,replace:k,go(F){return d.go(F)}};return Z}function _1(i,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ce(a,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:so(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function vv(i,e,a="/"){return v1(i,e,a,!1)}function v1(i,e,a,r){let o=typeof e=="string"?Ns(e):e,c=Wa(o.pathname||"/",a);if(c==null)return null;let d=Ev(i);E1(d);let y=null;for(let v=0;y==null&&v<d.length;++v){let _=I1(c);y=N1(d[v],_,r)}return y}function Ev(i,e=[],a=[],r="",o=!1){let c=(d,y,v=o,_)=>{let S={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(r)&&v)return;ce(S.relativePath.startsWith(r),`Absolute route path "${S.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(r.length)}let A=Za([r,S.relativePath]),I=a.concat(S);d.children&&d.children.length>0&&(ce(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Ev(d.children,e,I,A,v)),!(d.path==null&&!d.index)&&e.push({path:A,score:C1(A,d.index),routesMeta:I})};return i.forEach((d,y)=>{if(d.path===""||!d.path?.includes("?"))c(d,y);else for(let v of Tv(d.path))c(d,y,!0,v)}),e}function Tv(i){let e=i.split("/");if(e.length===0)return[];let[a,...r]=e,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=Tv(r.join("/")),y=[];return y.push(...d.map(v=>v===""?c:[c,v].join("/"))),o&&y.push(...d),y.map(v=>i.startsWith("/")&&v===""?"/":v)}function E1(i){i.sort((e,a)=>e.score!==a.score?a.score-e.score:x1(e.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var T1=/^:[\w-]+$/,S1=3,b1=2,A1=1,w1=10,R1=-2,s_=i=>i==="*";function C1(i,e){let a=i.split("/"),r=a.length;return a.some(s_)&&(r+=R1),e&&(r+=b1),a.filter(o=>!s_(o)).reduce((o,c)=>o+(T1.test(c)?S1:c===""?A1:w1),r)}function x1(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function N1(i,e,a=!1){let{routesMeta:r}=i,o={},c="/",d=[];for(let y=0;y<r.length;++y){let v=r[y],_=y===r.length-1,S=c==="/"?e:e.slice(c.length)||"/",A=pc({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},S),I=v.route;if(!A&&_&&a&&!r[r.length-1].route.index&&(A=pc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Za([c,A.pathname]),pathnameBase:j1(Za([c,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(c=Za([c,A.pathnameBase]))}return d}function pc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,r]=D1(i.path,i.caseSensitive,i.end),o=e.match(a);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:r.reduce((_,{paramName:S,isOptional:A},I)=>{if(S==="*"){let $=y[I]||"";d=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const k=y[I];return A&&!k?_[S]=void 0:_[S]=(k||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:i}}function D1(i,e=!1,a=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,v)=>(r.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function I1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wa(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,r=i.charAt(a);return r&&r!=="/"?null:i.slice(a)||"/"}function V1(i,e="/"){let{pathname:a,search:r="",hash:o=""}=typeof i=="string"?Ns(i):i;return{pathname:a?a.startsWith("/")?a:O1(a,e):e,search:L1(r),hash:z1(o)}}function O1(i,e){let a=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function nd(i,e,a,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(i){return i.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function Sv(i){let e=M1(i);return e.map((a,r)=>r===e.length-1?a.pathname:a.pathnameBase)}function bv(i,e,a,r=!1){let o;typeof i=="string"?o=Ns(i):(o={...i},ce(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),ce(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),ce(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,y;if(d==null)y=a;else{let A=e.length-1;if(!r&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),A-=1;o.pathname=I.join("/")}y=A>=0?e[A]:"/"}let v=V1(o,y),_=d&&d!=="/"&&d.endsWith("/"),S=(c||d===".")&&a.endsWith("/");return!v.pathname.endsWith("/")&&(_||S)&&(v.pathname+="/"),v}var Za=i=>i.join("/").replace(/\/\/+/g,"/"),j1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,z1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function U1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Av=["POST","PUT","PATCH","DELETE"];new Set(Av);var P1=["GET",...Av];new Set(P1);var Lr=z.createContext(null);Lr.displayName="DataRouter";var Mc=z.createContext(null);Mc.displayName="DataRouterState";z.createContext(!1);var wv=z.createContext({isTransitioning:!1});wv.displayName="ViewTransition";var k1=z.createContext(new Map);k1.displayName="Fetchers";var B1=z.createContext(null);B1.displayName="Await";var Da=z.createContext(null);Da.displayName="Navigation";var yo=z.createContext(null);yo.displayName="Location";var Jn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Bd=z.createContext(null);Bd.displayName="RouteError";function q1(i,{relative:e}={}){ce(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=z.useContext(Da),{hash:o,pathname:c,search:d}=vo(i,{relative:e}),y=c;return a!=="/"&&(y=c==="/"?a:Za([a,c])),r.createHref({pathname:y,search:d,hash:o})}function _o(){return z.useContext(yo)!=null}function ai(){return ce(_o(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(yo).location}var Rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(i){z.useContext(Da).static||z.useLayoutEffect(i)}function qd(){let{isDataRoute:i}=z.useContext(Jn);return i?aS():H1()}function H1(){ce(_o(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Lr),{basename:e,navigator:a}=z.useContext(Da),{matches:r}=z.useContext(Jn),{pathname:o}=ai(),c=JSON.stringify(Sv(r)),d=z.useRef(!1);return Cv(()=>{d.current=!0}),z.useCallback((v,_={})=>{if(Zn(d.current,Rv),!d.current)return;if(typeof v=="number"){a.go(v);return}let S=bv(v,JSON.parse(c),o,_.relative==="path");i==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Za([e,S.pathname])),(_.replace?a.replace:a.push)(S,_.state,_)},[e,a,c,o,i])}var F1=z.createContext(null);function G1(i){let e=z.useContext(Jn).outlet;return z.useMemo(()=>e&&z.createElement(F1.Provider,{value:i},e),[e,i])}function xv(){let{matches:i}=z.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function vo(i,{relative:e}={}){let{matches:a}=z.useContext(Jn),{pathname:r}=ai(),o=JSON.stringify(Sv(a));return z.useMemo(()=>bv(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function Q1(i,e){return Nv(i,e)}function Nv(i,e,a,r,o){ce(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=z.useContext(Da),{matches:d}=z.useContext(Jn),y=d[d.length-1],v=y?y.params:{},_=y?y.pathname:"/",S=y?y.pathnameBase:"/",A=y&&y.route;{let q=A&&A.path||"";Dv(_,!A||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let I=ai(),k;if(e){let q=typeof e=="string"?Ns(e):e;ce(S==="/"||q.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${q.pathname}" was given in the \`location\` prop.`),k=q}else k=I;let $=k.pathname||"/",Z=$;if(S!=="/"){let q=S.replace(/^\//,"").split("/");Z="/"+$.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=vv(i,{pathname:Z});Zn(A||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Zn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=Z1(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},v,q.params),pathname:Za([S,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?S:Za([S,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,a,r,o);return e&&rt?z.createElement(yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},rt):rt}function Y1(){let i=nS(),e=U1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),a?z.createElement("pre",{style:o},a):null,d)}var K1=z.createElement(Y1,null),X1=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(Jn.Provider,{value:this.props.routeContext},z.createElement(Bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $1({routeContext:i,match:e,children:a}){let r=z.useContext(Lr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Jn.Provider,{value:i},a)}function Z1(i,e=[],a=null,r=null,o=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let c=i,d=a?.errors;if(d!=null){let _=c.findIndex(S=>S.route.id&&d?.[S.route.id]!==void 0);ce(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let y=!1,v=-1;if(a)for(let _=0;_<c.length;_++){let S=c[_];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(v=_),S.route.id){let{loaderData:A,errors:I}=a,k=S.route.loader&&!A.hasOwnProperty(S.route.id)&&(!I||I[S.route.id]===void 0);if(S.route.lazy||k){y=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((_,S,A)=>{let I,k=!1,$=null,Z=null;a&&(I=d&&S.route.id?d[S.route.id]:void 0,$=S.route.errorElement||K1,y&&(v<0&&A===0?(Dv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Z=null):v===A&&(k=!0,Z=S.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,A+1)),rt=()=>{let q;return I?q=$:k?q=Z:S.route.Component?q=z.createElement(S.route.Component,null):S.route.element?q=S.route.element:q=_,z.createElement($1,{match:S,routeContext:{outlet:_,matches:F,isDataRoute:a!=null},children:q})};return a&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?z.createElement(X1,{location:a.location,revalidation:a.revalidation,component:$,error:I,children:rt(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:r}):rt()},null)}function Hd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(i){let e=z.useContext(Lr);return ce(e,Hd(i)),e}function W1(i){let e=z.useContext(Mc);return ce(e,Hd(i)),e}function tS(i){let e=z.useContext(Jn);return ce(e,Hd(i)),e}function Fd(i){let e=tS(i),a=e.matches[e.matches.length-1];return ce(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function eS(){return Fd("useRouteId")}function nS(){let i=z.useContext(Bd),e=W1("useRouteError"),a=Fd("useRouteError");return i!==void 0?i:e.errors?.[a]}function aS(){let{router:i}=J1("useNavigate"),e=Fd("useNavigate"),a=z.useRef(!1);return Cv(()=>{a.current=!0}),z.useCallback(async(o,c={})=>{Zn(a.current,Rv),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var r_={};function Dv(i,e,a){!e&&!r_[i]&&(r_[i]=!0,Zn(!1,a))}z.memo(iS);function iS({routes:i,future:e,state:a,unstable_onError:r}){return Nv(i,void 0,a,r,e)}function sS(i){return G1(i.context)}function Ta(i){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rS({basename:i="/",children:e=null,location:a,navigationType:r="POP",navigator:o,static:c=!1}){ce(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),y=z.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof a=="string"&&(a=Ns(a));let{pathname:v="/",search:_="",hash:S="",state:A=null,key:I="default"}=a,k=z.useMemo(()=>{let $=Wa(v,d);return $==null?null:{location:{pathname:$,search:_,hash:S,state:A,key:I},navigationType:r}},[d,v,_,S,A,I,r]);return Zn(k!=null,`<Router basename="${d}"> is not able to match the URL "${v}${_}${S}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Da.Provider,{value:y},z.createElement(yo.Provider,{children:e,value:k}))}function lS({children:i,location:e}){return Q1(gd(i),e)}function gd(i,e=[]){let a=[];return z.Children.forEach(i,(r,o)=>{if(!z.isValidElement(r))return;let c=[...e,o];if(r.type===z.Fragment){a.push.apply(a,gd(r.props.children,c));return}ce(r.type===Ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=gd(r.props.children,c)),a.push(d)}),a}var lc="get",oc="application/x-www-form-urlencoded";function jc(i){return i!=null&&typeof i.tagName=="string"}function oS(i){return jc(i)&&i.tagName.toLowerCase()==="button"}function uS(i){return jc(i)&&i.tagName.toLowerCase()==="form"}function cS(i){return jc(i)&&i.tagName.toLowerCase()==="input"}function hS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function fS(i,e){return i.button===0&&(!e||e==="_self")&&!hS(i)}var tc=null;function dS(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(i){return i!=null&&!mS.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):i}function pS(i,e){let a,r,o,c,d;if(uS(i)){let y=i.getAttribute("action");r=y?Wa(y,e):null,a=i.getAttribute("method")||lc,o=ad(i.getAttribute("enctype"))||oc,c=new FormData(i)}else if(oS(i)||cS(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||y.getAttribute("action");if(r=v?Wa(v,e):null,a=i.getAttribute("formmethod")||y.getAttribute("method")||lc,o=ad(i.getAttribute("formenctype"))||ad(y.getAttribute("enctype"))||oc,c=new FormData(y,i),!dS()){let{name:_,type:S,value:A}=i;if(S==="image"){let I=_?`${_}.`:"";c.append(`${I}x`,"0"),c.append(`${I}y`,"0")}else _&&c.append(_,A)}}else{if(jc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=lc,r=null,o=oc,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:a.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gS(i,e,a){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${a}`:e&&Wa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function yS(i,e){if(i.id in e)return e[i.id];try{let a=await import(i.module);return e[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _S(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function vS(i,e,a){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await yS(c,a);return d.links?d.links():[]}return[]}));return bS(r.flat(1).filter(_S).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l_(i,e,a,r,o,c){let d=(v,_)=>a[_]?v.route.id!==a[_].route.id:!0,y=(v,_)=>a[_].pathname!==v.pathname||a[_].route.path?.endsWith("*")&&a[_].params["*"]!==v.params["*"];return c==="assets"?e.filter((v,_)=>d(v,_)||y(v,_)):c==="data"?e.filter((v,_)=>{let S=r.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(d(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let A=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ES(i,e,{includeHydrateFallback:a}={}){return TS(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function TS(i){return[...new Set(i)]}function SS(i){let e={},a=Object.keys(i).sort();for(let r of a)e[r]=i[r];return e}function bS(i,e){let a=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(SS(o));return a.has(c)||(a.add(c),r.push({key:c,link:o})),r},[])}function Iv(){let i=z.useContext(Lr);return Gd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function AS(){let i=z.useContext(Mc);return Gd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Qd=z.createContext(void 0);Qd.displayName="FrameworkContext";function Vv(){let i=z.useContext(Qd);return Gd(i,"You must render this element inside a <HydratedRouter> element"),i}function wS(i,e){let a=z.useContext(Qd),[r,o]=z.useState(!1),[c,d]=z.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:S,onTouchStart:A}=e,I=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let Z=rt=>{rt.forEach(q=>{d(q.isIntersecting)})},F=new IntersectionObserver(Z,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[i]),z.useEffect(()=>{if(r){let Z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Z)}}},[r]);let k=()=>{o(!0)},$=()=>{o(!1),d(!1)};return a?i!=="intent"?[c,I,{}]:[c,I,{onFocus:Kl(y,k),onBlur:Kl(v,$),onMouseEnter:Kl(_,k),onMouseLeave:Kl(S,$),onTouchStart:Kl(A,k)}]:[!1,I,{}]}function Kl(i,e){return a=>{i&&i(a),a.defaultPrevented||e(a)}}function RS({page:i,...e}){let{router:a}=Iv(),r=z.useMemo(()=>vv(a.routes,i,a.basename),[a.routes,i,a.basename]);return r?z.createElement(xS,{page:i,matches:r,...e}):null}function CS(i){let{manifest:e,routeModules:a}=Vv(),[r,o]=z.useState([]);return z.useEffect(()=>{let c=!1;return vS(i,e,a).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,a]),r}function xS({page:i,matches:e,...a}){let r=ai(),{manifest:o,routeModules:c}=Vv(),{basename:d}=Iv(),{loaderData:y,matches:v}=AS(),_=z.useMemo(()=>l_(i,e,v,o,r,"data"),[i,e,v,o,r]),S=z.useMemo(()=>l_(i,e,v,o,r,"assets"),[i,e,v,o,r]),A=z.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let $=new Set,Z=!1;if(e.forEach(rt=>{let q=o.routes[rt.route.id];!q||!q.hasLoader||(!_.some(tt=>tt.route.id===rt.route.id)&&rt.route.id in y&&c[rt.route.id]?.shouldRevalidate||q.hasClientLoader?Z=!0:$.add(rt.route.id))}),$.size===0)return[];let F=gS(i,d,"data");return Z&&$.size>0&&F.searchParams.set("_routes",e.filter(rt=>$.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[F.pathname+F.search]},[d,y,r,o,_,e,i,c]),I=z.useMemo(()=>ES(S,o),[S,o]),k=CS(S);return z.createElement(z.Fragment,null,A.map($=>z.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...a})),I.map($=>z.createElement("link",{key:$,rel:"modulepreload",href:$,...a})),k.map(({key:$,link:Z})=>z.createElement("link",{key:$,nonce:a.nonce,...Z})))}function NS(...i){return e=>{i.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.9.5")}catch{}function DS({basename:i,children:e,window:a}){let r=z.useRef();r.current==null&&(r.current=p1({window:a,v5Compat:!0}));let o=r.current,[c,d]=z.useState({action:o.action,location:o.location}),y=z.useCallback(v=>{z.startTransition(()=>d(v))},[d]);return z.useLayoutEffect(()=>o.listen(y),[o,y]),z.createElement(rS,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=z.forwardRef(function({onClick:e,discover:a="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:y,target:v,to:_,preventScrollReset:S,viewTransition:A,...I},k){let{basename:$}=z.useContext(Da),Z=typeof _=="string"&&Mv.test(_),F,rt=!1;if(typeof _=="string"&&Z&&(F=_,Ov))try{let x=new URL(window.location.href),V=_.startsWith("//")?new URL(x.protocol+_):new URL(_),O=Wa(V.pathname,$);V.origin===x.origin&&O!=null?_=O+V.search+V.hash:rt=!0}catch{Zn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=q1(_,{relative:o}),[tt,it,ht]=wS(r,I),dt=OS(_,{replace:d,state:y,target:v,preventScrollReset:S,relative:o,viewTransition:A});function C(x){e&&e(x),x.defaultPrevented||dt(x)}let R=z.createElement("a",{...I,...ht,href:F||q,onClick:rt||c?e:C,ref:NS(k,it),target:v,"data-discover":!Z&&a==="render"?"true":void 0});return tt&&!Z?z.createElement(z.Fragment,null,R,z.createElement(RS,{page:q})):R});Ye.displayName="Link";var yd=z.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:y,children:v,..._},S){let A=vo(d,{relative:_.relative}),I=ai(),k=z.useContext(Mc),{navigator:$,basename:Z}=z.useContext(Da),F=k!=null&&US(A)&&y===!0,rt=$.encodeLocation?$.encodeLocation(A).pathname:A.pathname,q=I.pathname,tt=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(q=q.toLowerCase(),tt=tt?tt.toLowerCase():null,rt=rt.toLowerCase()),tt&&Z&&(tt=Wa(tt,Z)||tt);const it=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let ht=q===rt||!o&&q.startsWith(rt)&&q.charAt(it)==="/",dt=tt!=null&&(tt===rt||!o&&tt.startsWith(rt)&&tt.charAt(rt.length)==="/"),C={isActive:ht,isPending:dt,isTransitioning:F},R=ht?e:void 0,x;typeof r=="function"?x=r(C):x=[r,ht?"active":null,dt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(C):c;return z.createElement(Ye,{..._,"aria-current":R,className:x,ref:S,style:V,to:d,viewTransition:y},typeof v=="function"?v(C):v)});yd.displayName="NavLink";var IS=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:a,reloadDocument:r,replace:o,state:c,method:d=lc,action:y,onSubmit:v,relative:_,preventScrollReset:S,viewTransition:A,...I},k)=>{let $=LS(),Z=zS(y,{relative:_}),F=d.toLowerCase()==="get"?"get":"post",rt=typeof y=="string"&&Mv.test(y),q=tt=>{if(v&&v(tt),tt.defaultPrevented)return;tt.preventDefault();let it=tt.nativeEvent.submitter,ht=it?.getAttribute("formmethod")||d;$(it||tt.currentTarget,{fetcherKey:e,method:ht,navigate:a,replace:o,state:c,relative:_,preventScrollReset:S,viewTransition:A})};return z.createElement("form",{ref:k,method:F,action:Z,onSubmit:r?v:q,...I,"data-discover":!rt&&i==="render"?"true":void 0})});IS.displayName="Form";function VS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jv(i){let e=z.useContext(Lr);return ce(e,VS(i)),e}function OS(i,{target:e,replace:a,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let y=qd(),v=ai(),_=vo(i,{relative:c});return z.useCallback(S=>{if(fS(S,e)){S.preventDefault();let A=a!==void 0?a:so(v)===so(_);y(i,{replace:A,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[v,y,_,a,r,e,i,o,c,d])}var MS=0,jS=()=>`__${String(++MS)}__`;function LS(){let{router:i}=jv("useSubmit"),{basename:e}=z.useContext(Da),a=eS();return z.useCallback(async(r,o={})=>{let{action:c,method:d,encType:y,formData:v,body:_}=pS(r,e);if(o.navigate===!1){let S=o.fetcherKey||jS();await i.fetch(S,a,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:_,formMethod:o.method||d,formEncType:o.encType||y,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:_,formMethod:o.method||d,formEncType:o.encType||y,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,a])}function zS(i,{relative:e}={}){let{basename:a}=z.useContext(Da),r=z.useContext(Jn);ce(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...vo(i||".",{relative:e})},d=ai();if(i==null){c.search=d.search;let y=new URLSearchParams(c.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(A=>A).forEach(A=>y.append("index",A));let S=y.toString();c.search=S?`?${S}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Za([a,c.pathname])),so(c)}function US(i,{relative:e}={}){let a=z.useContext(wv);ce(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jv("useViewTransitionState"),o=vo(i,{relative:e});if(!a.isTransitioning)return!1;let c=Wa(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=Wa(a.nextLocation.pathname,r)||a.nextLocation.pathname;return pc(o.pathname,d)!=null||pc(o.pathname,c)!=null}const PS=[{id:"players",title:"Player Hub",description:"Browse Sleepers 2024 PPR data with filters by position, team, and active status. Jump into player detail pages for quick context."},{id:"watchlist",title:"Watchlist",description:"Save players youre tracking, see their latest stats, and remove them as you go. Your picks stay cached while you browse."},{id:"leagues",title:"League HQ",description:"Create and join BLT leagues, manage members, and keep invite codes stored locally so you can pick up where you left off."}],kS=[{id:"draft",title:"Run a draft",note:"Start a snake draft, set rounds and lineup requirements, and log picks in real time for every team."},{id:"schedule",title:"Generate schedules",note:"Once a league fills, build weekly matchups and review them in My Matchups or the full schedule view."},{id:"access",title:"Account access",note:"Lightweight login keeps your leagues tied to your username. Switch accounts without losing stored leagues."}];function BS(){return g.jsxs("div",{className:"home",children:[g.jsxs("section",{className:"hero",children:[g.jsx("div",{className:"hero__tag",children:"Season 12  Week 10"}),g.jsx("h1",{className:"hero__title",children:"Welcome to BLT Fantasy Football"}),g.jsx("p",{className:"hero__subtitle",children:"Scout players with live PPR stats, keep a personal watchlist, and manage BLT leagues with drafts, schedules, and invite codes."}),g.jsxs("div",{className:"hero__cta",children:[g.jsx(Ye,{className:"button button--accent",to:"/players",children:"Open Player Hub"}),g.jsx(Ye,{className:"button button--primary",to:"/watchlist",children:"Go to Watchlist"}),g.jsx(Ye,{className:"button button--ghost",to:"/league",children:"Manage Leagues"})]}),g.jsxs("div",{className:"hero__meta",children:[g.jsx("span",{children:"Data source  Sleeper API"}),g.jsx("span",{children:"Local storage  Watchlist & Leagues"})]})]}),g.jsxs("section",{className:"section section--alt",children:[g.jsxs("header",{className:"section__header",children:[g.jsx("h2",{children:"What you can do"}),g.jsx("p",{children:"Everything on this page is live in the app todayno mock data."})]}),g.jsx("div",{className:"feature-grid",children:PS.map(i=>g.jsxs("article",{className:"feature-card",children:[g.jsx("h3",{children:i.title}),g.jsx("p",{children:i.description})]},i.id))})]}),g.jsxs("section",{className:"section section--alt",children:[g.jsxs("header",{className:"section__header",children:[g.jsx("h2",{children:"Workflows in BLT"}),g.jsx("p",{children:"Lean on the tools that power the current experience."})]}),g.jsx("div",{className:"spotlight-grid",children:kS.map(i=>g.jsxs("article",{className:"spotlight-card",children:[g.jsx("h3",{children:i.title}),g.jsx("span",{className:"spotlight-card__meta",children:"Built into the app"}),g.jsx("p",{children:i.note})]},i.id))})]}),g.jsxs("section",{className:"section section--cta",children:[g.jsx("h2",{children:"Ready to dive in?"}),g.jsx("p",{children:"Open the Player Hub, build your watchlist, and spin up a league to start drafting."}),g.jsxs("div",{className:"hero__cta",children:[g.jsx(Ye,{className:"button button--accent",to:"/players",children:"Scout players"}),g.jsx(Ye,{className:"button button--primary",to:"/watchlist",children:"Set watchlist"}),g.jsx(Ye,{className:"button button--ghost",to:"/league",children:"Create or join a league"})]})]})]})}const Yd="watchlist_players";function Lc(){try{return JSON.parse(localStorage.getItem(Yd))||[]}catch{return[]}}function qS(i){const e=Lc();e.includes(i)||localStorage.setItem(Yd,JSON.stringify([...e,i]))}function Lv(i){const e=Lc().filter(a=>a!==i);localStorage.setItem(Yd,JSON.stringify(e))}function HS(i){return Lc().includes(i)}window.__GLOBAL_PLAYERS__=[];const FS=2024,zv=["QB","RB","WR","TE","K","DST"],GS=120;function QS(i="",e=""){const a=i.toLowerCase(),r=e.toUpperCase();return!!(a.includes("ret")||a.includes("former")||a.includes("practice")||!r||r==="FA"||r==="NONE")}const o_={ATL:{name:"Atlanta Falcons"},BAL:{name:"Baltimore Ravens"},BUF:{name:"Buffalo Bills"},CAR:{name:"Carolina Panthers"},CHI:{name:"Chicago Bears"},CIN:{name:"Cincinnati Bengals"},CLE:{name:"Cleveland Browns"},DAL:{name:"Dallas Cowboys"},DEN:{name:"Denver Broncos"},DET:{name:"Detroit Lions"},GB:{name:"Green Bay Packers"},HOU:{name:"Houston Texans"},IND:{name:"Indianapolis Colts"},JAX:{name:"Jacksonville Jaguars"},KC:{name:"Kansas City Chiefs"},LV:{name:"Las Vegas Raiders"},LAC:{name:"Los Angeles Chargers"},LAR:{name:"Los Angeles Rams"},MIA:{name:"Miami Dolphins"},MIN:{name:"Minnesota Vikings"},NE:{name:"New England Patriots"},NO:{name:"New Orleans Saints"},NYG:{name:"New York Giants"},NYJ:{name:"New York Jets"},PHI:{name:"Philadelphia Eagles"},PIT:{name:"Pittsburgh Steelers"},SEA:{name:"Seattle Seahawks"},SF:{name:"San Francisco 49ers"},TB:{name:"Tampa Bay Buccaneers"},TEN:{name:"Tennessee Titans"},WAS:{name:"Washington Commanders"}},u_=[{id:"name",label:"Name A  Z",compare:(i,e)=>i.name.localeCompare(e.name)},{id:"name_desc",label:"Name Z  A",compare:(i,e)=>e.name.localeCompare(i.name)},{id:"points",label:"Total Points (High  Low)",compare:(i,e)=>e.points-i.points},{id:"avg",label:"Average Points (High  Low)",compare:(i,e)=>e.avgPoints-i.avgPoints},{id:"team",label:"Team A  Z",compare:(i,e)=>i.team.localeCompare(e.team)}];function YS(){const[i,e]=z.useState([]),[a,r]=z.useState({}),[o,c]=z.useState(""),[d,y]=z.useState("ALL"),[v,_]=z.useState("ALL"),[S,A]=z.useState("name"),[I,k]=z.useState(!1),[$,Z]=z.useState(!0),[F,rt]=z.useState("");z.useEffect(()=>{let it=!1;async function ht(){try{Z(!0);const dt=await fetch("https://api.sleeper.app/v1/players/nfl");if(!dt.ok)throw new Error("Failed to load players");const C=await dt.json(),R=Object.values(C).map(x=>XS(x)).filter(Boolean);it||(window.__GLOBAL_PLAYERS__=R,e(R),rt(""))}catch(dt){console.error(dt),it||(e([]),rt("Could not load player data right now."))}finally{it||Z(!1)}}return ht(),()=>{it=!0}},[]),z.useEffect(()=>{let it=!1;const ht=i.filter(C=>!a[C.id]).slice(0,GS);if(!ht.length)return;async function dt(){const C={};await Promise.all(ht.map(async R=>{try{const V=await(await fetch(`https://api.sleeper.app/stats/nfl/player/${R.rawId}?season_type=regular&season=${FS}`)).json()||{},O=Number(V.pts_ppr??0),U=Number(V.gp??V.games_played??0);C[R.id]={points:O,avgPoints:U>0?O/U:O}}catch(x){console.error("Stats error for",R.name,x)}})),!it&&Object.keys(C).length&&r(R=>({...R,...C}))}return dt(),()=>{it=!0}},[i,a]);const q=z.useMemo(()=>Array.from(new Set(i.map(it=>it.team))).sort(),[i]),tt=z.useMemo(()=>{const it=u_.find(ht=>ht.id===S);return i.map(ht=>{const dt=a[ht.id]||{};return{...ht,points:Number(dt.points??0),avgPoints:Number(dt.avgPoints??0)}}).filter(ht=>{const dt=ht.name.toLowerCase().includes(o.toLowerCase()),C=d==="ALL"||ht.position===d,R=v==="ALL"||ht.team===v,x=!I||ht.status==="Active";return dt&&C&&R&&x}).sort(it.compare)},[i,a,o,d,v,S,I]);return g.jsxs("div",{className:"players-page",children:[g.jsxs("header",{className:"players-page__hero",children:[g.jsx("h1",{children:"BLT Fantasy Player Hub"}),g.jsx("p",{children:"Showing 2024 PPR season stats (Sleeper)."}),F&&g.jsx("div",{className:"players-page__status",role:"status","aria-live":"polite",children:g.jsx("span",{className:"status-pill status-pill--warning",children:F})})]}),g.jsxs("section",{className:"players-page__filters",children:[g.jsxs("div",{className:"filter-control",children:[g.jsx("label",{htmlFor:"player-search",children:"Search"}),g.jsx("input",{id:"player-search",value:o,onChange:it=>c(it.target.value),placeholder:"Search players"})]}),g.jsxs("div",{className:"filter-control",children:[g.jsx("label",{htmlFor:"player-position",children:"Position"}),g.jsxs("select",{id:"player-position",value:d,onChange:it=>y(it.target.value),children:[g.jsx("option",{value:"ALL",children:"All"}),zv.map(it=>g.jsx("option",{value:it,children:it},it))]})]}),g.jsxs("div",{className:"filter-control",children:[g.jsx("label",{htmlFor:"player-team",children:"Team"}),g.jsxs("select",{id:"player-team",value:v,onChange:it=>_(it.target.value),children:[g.jsx("option",{value:"ALL",children:"All"}),q.map(it=>g.jsx("option",{value:it,children:it},it))]})]}),g.jsxs("div",{className:"filter-control",children:[g.jsx("label",{htmlFor:"player-sort",children:"Sort"}),g.jsx("select",{id:"player-sort",value:S,onChange:it=>A(it.target.value),children:u_.map(it=>g.jsx("option",{value:it.id,children:it.label},it.id))})]}),g.jsx("div",{className:"filter-control filter-control--toggle",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:I,onChange:it=>k(it.target.checked)}),"Active Only"]})})]}),g.jsxs("section",{className:"players-grid",children:[$&&g.jsx("h2",{children:"Loading players"}),!$&&tt.map(it=>g.jsx(KS,{player:it,stats:a[it.id]},it.id))]})]})}function KS({player:i,stats:e}){const[a,r]=z.useState(HS(i.id)),o=["player-card__watch-btn",a?"player-card__watch-btn--active":null].filter(Boolean).join(" "),c=()=>{a?Lv(i.id):qS(i.id),r(!a)},d=e?e.points:0,y=e?e.avgPoints:0;return g.jsxs("article",{className:"player-card",children:[g.jsxs("header",{className:"player-card__header",children:[g.jsx("span",{className:`player-card__position player-card__position--${i.position.toLowerCase()}`,children:i.position}),g.jsx("span",{className:`player-card__status player-card__status--${i.status.toLowerCase()}`,children:i.status})]}),g.jsx("h3",{children:i.name}),g.jsxs("p",{className:"player-card__team",children:[i.team,"  ",i.teamName]}),g.jsxs("dl",{className:"player-card__metrics",children:[g.jsxs("div",{children:[g.jsx("dt",{children:"Total"}),g.jsx("dd",{children:d.toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Avg"}),g.jsx("dd",{children:y.toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Bye"}),g.jsx("dd",{children:i.byeWeek??"-"})]})]}),g.jsx("button",{type:"button",className:o,"aria-pressed":a,onClick:c,children:a?"Remove from Watchlist":"Add to Watchlist"}),g.jsx("footer",{className:"player-card__footer",children:g.jsx(Ye,{to:`/player/${i.id}`,className:"player-card__action player-card__action--secondary",children:"View Details"})})]})}function XS(i){if(!i?.player_id)return null;let e=i.position||i.fantasy_positions?.[0];if(!e||(e==="DEF"&&(e="DST"),!zv.includes(e)))return null;const a=i.team||"";if(!o_[a]||QS(i.injury_status||i.status,a))return null;const r=i.full_name||`${i.first_name||""} ${i.last_name||""}`.trim();return{id:`player-${i.player_id}`,rawId:i.player_id,name:r,position:e,team:a,teamName:o_[a].name,points:0,avgPoints:0,status:$S(i.injury_status||i.status),byeWeek:i.bye_week??null}}function $S(i=""){const e=i.toLowerCase();return e.includes("question")?"Questionable":e.includes("doubt")?"Doubtful":e.includes("out")?"Out":e.includes("ir")?"IR":e.includes("sus")?"Suspended":"Active"}const Uv="blt_users",ec="blt_session",Pv=z.createContext(null);function ZS(){try{const i=JSON.parse(localStorage.getItem(Uv));return Array.isArray(i)?i:[]}catch{return[]}}function JS(i){try{localStorage.setItem(Uv,JSON.stringify(i))}catch{}}function WS(i){return i.length<8?{ok:!1,message:"Password must be at least 8 characters."}:!/[A-Za-z]/.test(i)||!/[0-9]/.test(i)?{ok:!1,message:"Use letters and at least one number."}:{ok:!0}}function tb({children:i}){const[e,a]=z.useState([]),[r,o]=z.useState(null),[c,d]=z.useState(!1);z.useEffect(()=>{const A=ZS();a(A),d(!0);const I=localStorage.getItem(ec);if(I){const k=A.find($=>$.username.toLowerCase()===I.toLowerCase());k&&o(k)}},[]),z.useEffect(()=>{c&&JS(e)},[e,c]);const y=(A,I)=>{const k=A.trim();if(k.length<3)return{ok:!1,message:"Username must be at least 3 characters."};if(!/^[A-Za-z0-9_]+$/.test(k))return{ok:!1,message:"Use only letters, numbers, and underscores."};const $=WS(I);if(!$.ok)return $;if(e.some(q=>q.username.toLowerCase()===k.toLowerCase()))return{ok:!1,message:"That username is already taken."};const F={username:k,password:I,createdAt:new Date().toISOString()},rt=[...e,F];return a(rt),o(F),localStorage.setItem(ec,k),{ok:!0,user:F}},v=(A,I)=>{const k=A.trim(),$=e.find(Z=>Z.username.toLowerCase()===k.toLowerCase());return $?$.password!==I?{ok:!1,message:"Incorrect password."}:(o($),localStorage.setItem(ec,$.username),{ok:!0,user:$}):{ok:!1,message:"No account found with that username."}},_=()=>{o(null),localStorage.removeItem(ec)},S=z.useMemo(()=>({user:r,users:e,register:y,login:v,logout:_}),[r,e]);return g.jsx(Pv.Provider,{value:S,children:i})}function zc(){const i=z.useContext(Pv);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function eb(){const{user:i,logout:e}=zc(),a=[{to:"/",label:"Home"},{to:"/league",label:"Leagues"},{to:"/players",label:"Players"},{to:"/watchlist",label:"Watchlist"}];return g.jsxs("div",{className:"app-shell",children:[g.jsx("a",{className:"skip-link",href:"#main-content",children:"Skip to main content"}),g.jsxs("header",{className:"app-header",children:[g.jsxs("div",{className:"app-header__brand",children:[g.jsx("span",{className:"app-header__badge",children:"BLT"}),g.jsxs("div",{children:[g.jsx("h1",{children:"BLT Fantasy Football"}),g.jsx("p",{children:"Your league HQ for lineups, analytics, and bragging rights."})]})]}),g.jsxs("nav",{className:"app-nav","aria-label":"Primary",children:[a.map(r=>g.jsx(yd,{to:r.to,end:r.to==="/",className:({isActive:o})=>["app-nav__link",o?"app-nav__link--active":null].filter(Boolean).join(" "),children:r.label},r.to)),!i&&g.jsx(yd,{to:"/login",className:({isActive:r})=>["app-nav__link",r?"app-nav__link--active":null].filter(Boolean).join(" "),children:"Login"}),i&&g.jsxs("div",{className:"app-nav__account",children:[g.jsxs("div",{children:[g.jsx("p",{className:"app-nav__eyebrow",children:"Signed in"}),g.jsxs("strong",{children:["@",i.username]})]}),g.jsx("button",{type:"button",className:"app-nav__logout",onClick:e,children:"Logout"})]})]})]}),g.jsx("main",{className:"app-main",id:"main-content",children:g.jsx(sS,{})})]})}function nb(){const{id:i}=xv(),e=ai(),a=window.__GLOBAL_PLAYERS__?.find(d=>d.id===i),r=e.state?.from==="watchlist",o=r?"/watchlist":"/players",c=r?" Back to watchlist":" Back to players";return a?g.jsxs("article",{className:"player-details-card",children:[g.jsxs("header",{children:[g.jsx("h1",{children:a.name}),g.jsxs("p",{className:"player-details__meta",children:[a.team,"  ",a.position]})]}),g.jsxs("dl",{className:"player-details__stats",children:[g.jsxs("div",{children:[g.jsx("dt",{children:"Total Points"}),g.jsx("dd",{children:a.points.toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Average / Game"}),g.jsx("dd",{children:a.avgPoints.toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Status"}),g.jsx("dd",{children:a.status})]})]}),g.jsx(Ye,{className:"player-details__back",to:o,children:c})]}):g.jsx("h2",{style:{color:"#0f172a"},children:"Player not found."})}const ab=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(i){const e=[];let a=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[a++]=o:o<2048?(e[a++]=o>>6|192,e[a++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[a++]=o>>18|240,e[a++]=o>>12&63|128,e[a++]=o>>6&63|128,e[a++]=o&63|128):(e[a++]=o>>12|224,e[a++]=o>>6&63|128,e[a++]=o&63|128)}return e},ib=function(i){const e=[];let a=0,r=0;for(;a<i.length;){const o=i[a++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[a++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[a++],d=i[a++],y=i[a++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=i[a++],d=i[a++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,y=d?i[o+1]:0,v=o+2<i.length,_=v?i[o+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let I=(y&15)<<2|_>>6,k=_&63;v||(k=64,d||(I=64)),r.push(a[S],a[A],a[I],a[k])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ib(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=a[i.charAt(o++)],y=o<i.length?a[i.charAt(o)]:0;++o;const _=o<i.length?a[i.charAt(o)]:64;++o;const A=o<i.length?a[i.charAt(o)]:64;if(++o,c==null||y==null||_==null||A==null)throw new sb;const I=c<<2|y>>4;if(r.push(I),_!==64){const k=y<<4&240|_>>2;if(r.push(k),A!==64){const $=_<<6&192|A;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rb=function(i){const e=kv(i);return Bv.encodeByteArray(e,!0)},gc=function(i){return rb(i).replace(/\./g,"")},lb=function(i){try{return Bv.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=()=>ob().__FIREBASE_DEFAULTS__,cb=()=>{if(typeof process>"u"||typeof c_>"u")return;const i=c_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lb(i[1]);return e&&JSON.parse(e)},Kd=()=>{try{return ab()||ub()||cb()||hb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},fb=i=>Kd()?.emulatorHosts?.[i],db=i=>{const e=fb(i);if(!e)return;const a=e.lastIndexOf(":");if(a<=0||a+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(a+1),10);return e[0]==="["?[e.substring(1,a-1),r]:[e.substring(0,a),r]},qv=()=>Kd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[gc(JSON.stringify(a)),gc(JSON.stringify(d)),""].join(".")}const Wl={};function yb(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function _b(i){let e=document.getElementById(i),a=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),a=!0),{created:a,element:e}}let h_=!1;function vb(i,e){if(typeof window>"u"||typeof document>"u"||!Xd(window.location.host)||Wl[i]===e||Wl[i]||h_)return;Wl[i]=e;function a(I){return`__firebase__banner__${I}`}const r="__firebase__banner",c=yb().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{h_=!0,d()},I}function S(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=_b(r),k=a("text"),$=document.getElementById(k)||document.createElement("span"),Z=a("learnmore"),F=document.getElementById(Z)||document.createElement("a"),rt=a("preprendIcon"),q=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const tt=I.element;y(tt),S(F,Z);const it=_();v(q,rt),tt.append(q,$,F,it),document.body.appendChild(tt)}c?($.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tb(){const i=Kd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((i,e)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(a){e(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="FirebaseError";class zr extends Error{constructor(e,a,r){super(a),this.code=e,this.customData=r,this.name=wb,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hv.prototype.create)}}class Hv{constructor(e,a,r){this.service=e,this.serviceName=a,this.errors=r}create(e,...a){const r=a[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Rb(c,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new zr(o,y,r)}}function Rb(i,e){return i.replace(Cb,(a,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Cb=/\{\$([^}]+)}/g;function yc(i,e){if(i===e)return!0;const a=Object.keys(i),r=Object.keys(e);for(const o of a){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(f_(c)&&f_(d)){if(!yc(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!a.includes(o))return!1;return!0}function f_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(i){return i&&i._delegate?i._delegate:i}class lo{constructor(e,a,r){this.name=e,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const r=new mb;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){const a=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Db(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(o)}return o}onInit(e,a){const r=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,a){const r=this.onInitCallbacks.get(a);if(r)for(const o of r)try{o(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nb(e),options:a}),this.instances.set(e,r),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nb(i){return i===bs?void 0:i}function Db(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new xb(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const Vb={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Ob=Bt.INFO,Mb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},jb=(i,e,...a)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Mb[e];if(o)console[o](`[${r}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fv{constructor(e){this.name=e,this._logLevel=Ob,this._logHandler=jb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const Lb=(i,e)=>e.some(a=>i instanceof a);let d_,m_;function zb(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ub(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,_d=new WeakMap,Qv=new WeakMap,id=new WeakMap,$d=new WeakMap;function Pb(i){const e=new Promise((a,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{a(Ui(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(a=>{a instanceof IDBCursor&&Gv.set(a,i)}).catch(()=>{}),$d.set(e,i),e}function kb(i){if(_d.has(i))return;const e=new Promise((a,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{a(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});_d.set(i,e)}let vd={get(i,e,a){if(i instanceof IDBTransaction){if(e==="done")return _d.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qv.get(i);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ui(i[e])},set(i,e,a){return i[e]=a,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Bb(i){vd=i(vd)}function qb(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const r=i.call(sd(this),e,...a);return Qv.set(r,e.sort?e.sort():[e]),Ui(r)}:Ub().includes(i)?function(...e){return i.apply(sd(this),e),Ui(Gv.get(this))}:function(...e){return Ui(i.apply(sd(this),e))}}function Hb(i){return typeof i=="function"?qb(i):(i instanceof IDBTransaction&&kb(i),Lb(i,zb())?new Proxy(i,vd):i)}function Ui(i){if(i instanceof IDBRequest)return Pb(i);if(id.has(i))return id.get(i);const e=Hb(i);return e!==i&&(id.set(i,e),$d.set(e,i)),e}const sd=i=>$d.get(i);function Fb(i,e,{blocked:a,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),y=Ui(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ui(d.result),v.oldVersion,v.newVersion,Ui(d.transaction),v)}),a&&d.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const Gb=["get","getKey","getAll","getAllKeys","count"],Qb=["put","add","delete","clear"],rd=new Map;function p_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const a=e.replace(/FromIndex$/,""),r=e!==a,o=Qb.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Gb.includes(a)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),o&&v.done]))[0]};return rd.set(e,c),c}Bb(i=>({...i,get:(e,a,r)=>p_(e,a)||i.get(e,a,r),has:(e,a)=>!!p_(e,a)||i.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Kb(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function Kb(i){return i.getComponent()?.type==="VERSION"}const Ed="@firebase/app",g_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Fv("@firebase/app"),Xb="@firebase/app-compat",$b="@firebase/analytics-compat",Zb="@firebase/analytics",Jb="@firebase/app-check-compat",Wb="@firebase/app-check",tA="@firebase/auth",eA="@firebase/auth-compat",nA="@firebase/database",aA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",rA="@firebase/functions-compat",lA="@firebase/installations",oA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",pA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",EA="firebase",TA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",SA={[Ed]:"fire-core",[Xb]:"fire-core-compat",[Zb]:"fire-analytics",[$b]:"fire-analytics-compat",[Wb]:"fire-app-check",[Jb]:"fire-app-check-compat",[tA]:"fire-auth",[eA]:"fire-auth-compat",[nA]:"fire-rtdb",[aA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[rA]:"fire-fn-compat",[lA]:"fire-iid",[oA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[pA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,bA=new Map,Sd=new Map;function y_(i,e){try{i.container.addComponent(e)}catch(a){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,a)}}function vc(i){const e=i.name;if(Sd.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,i);for(const a of _c.values())y_(a,i);for(const a of bA.values())y_(a,i);return!0}function AA(i,e){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(e)}function wA(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Hv("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,a,r){this._isDeleted=!1,this._options={...e},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=TA;function Yv(i,e={}){let a=i;typeof e!="object"&&(e={name:e});const r={name:Td,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(a||(a=qv()),!a)throw Pi.create("no-options");const c=_c.get(o);if(c){if(yc(a,c.options)&&yc(r,c.config))return c;throw Pi.create("duplicate-app",{appName:o})}const d=new Ib(o);for(const v of Sd.values())d.addComponent(v);const y=new CA(a,r,d);return _c.set(o,y),y}function NA(i=Td){const e=_c.get(i);if(!e&&i===Td&&qv())return Yv();if(!e)throw Pi.create("no-app",{appName:i});return e}function Rr(i,e,a){let r=SA[i]??i;a&&(r+=`-${a}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(d.join(" "));return}vc(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebase-heartbeat-database",IA=1,oo="firebase-heartbeat-store";let ld=null;function Kv(){return ld||(ld=Fb(DA,IA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(oo)}catch(a){console.warn(a)}}}}).catch(i=>{throw Pi.create("idb-open",{originalErrorMessage:i.message})})),ld}async function VA(i){try{const a=(await Kv()).transaction(oo),r=await a.objectStore(oo).get(Xv(i));return await a.done,r}catch(e){if(e instanceof zr)ti.warn(e.message);else{const a=Pi.create("idb-get",{originalErrorMessage:e?.message});ti.warn(a.message)}}}async function __(i,e){try{const r=(await Kv()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,Xv(i)),await r.done}catch(a){if(a instanceof zr)ti.warn(a.message);else{const r=Pi.create("idb-set",{originalErrorMessage:a?.message});ti.warn(r.message)}}}function Xv(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1024,MA=30;class jA{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new zA(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats.length>MA){const o=UA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:a,unsentEntries:r}=LA(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ti.warn(e),""}}}function v_(){return new Date().toISOString().substring(0,10)}function LA(i,e=OA){const a=[];let r=i.slice();for(const o of i){const c=a.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),E_(a)>e){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),E_(a)>e){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class zA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await VA(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E_(i){return gc(JSON.stringify({version:2,heartbeats:i})).length}function UA(i){if(i.length===0)return-1;let e=0,a=i[0].date;for(let r=1;r<i.length;r++)i[r].date<a&&(a=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(i){vc(new lo("platform-logger",e=>new Yb(e),"PRIVATE")),vc(new lo("heartbeat",e=>new jA(e),"PRIVATE")),Rr(Ed,g_,i),Rr(Ed,g_,"esm2020"),Rr("fire-js","")}PA("");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,$v;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function x(){}x.prototype=R.prototype,C.F=R.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,O,U){for(var N=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)N[Ft-2]=arguments[Ft];return R.prototype[O].apply(V,N)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,x){x||(x=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;O<16;++O)V[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=C.g[0],x=C.g[1],O=C.g[2];let U=C.g[3],N;N=R+(U^x&(O^U))+V[0]+3614090360&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(O^R&(x^O))+V[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(x^U&(R^x))+V[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=x+(R^O&(U^R))+V[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=R+(U^x&(O^U))+V[4]+4118548399&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(O^R&(x^O))+V[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(x^U&(R^x))+V[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=x+(R^O&(U^R))+V[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=R+(U^x&(O^U))+V[8]+1770035416&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(O^R&(x^O))+V[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(x^U&(R^x))+V[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=x+(R^O&(U^R))+V[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=R+(U^x&(O^U))+V[12]+1804603682&4294967295,R=x+(N<<7&4294967295|N>>>25),N=U+(O^R&(x^O))+V[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(x^U&(R^x))+V[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=x+(R^O&(U^R))+V[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=R+(O^U&(x^O))+V[1]+4129170786&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^O&(R^x))+V[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^x&(U^R))+V[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(O^U))+V[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(x^O))+V[5]+3593408605&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^O&(R^x))+V[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^x&(U^R))+V[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(O^U))+V[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(x^O))+V[9]+568446438&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^O&(R^x))+V[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^x&(U^R))+V[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(O^U))+V[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(x^O))+V[13]+2850285829&4294967295,R=x+(N<<5&4294967295|N>>>27),N=U+(x^O&(R^x))+V[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^x&(U^R))+V[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=x+(U^R&(O^U))+V[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=R+(x^O^U)+V[5]+4294588738&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^O)+V[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^x)+V[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=x+(O^U^R)+V[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=R+(x^O^U)+V[1]+2763975236&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^O)+V[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^x)+V[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=x+(O^U^R)+V[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=R+(x^O^U)+V[13]+681279174&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^O)+V[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^x)+V[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=x+(O^U^R)+V[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=R+(x^O^U)+V[9]+3654602809&4294967295,R=x+(N<<4&4294967295|N>>>28),N=U+(R^x^O)+V[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^x)+V[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=x+(O^U^R)+V[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=R+(O^(x|~U))+V[0]+4096336452&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~O))+V[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~x))+V[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=x+(U^(O|~R))+V[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=R+(O^(x|~U))+V[12]+1700485571&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~O))+V[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~x))+V[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=x+(U^(O|~R))+V[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=R+(O^(x|~U))+V[8]+1873313359&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~O))+V[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~x))+V[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=x+(U^(O|~R))+V[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=R+(O^(x|~U))+V[4]+4149444226&4294967295,R=x+(N<<6&4294967295|N>>>26),N=U+(x^(R|~O))+V[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~x))+V[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=x+(U^(O|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const x=R-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=x;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<R;)if(V[O++]=C.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<R;)if(V[O++]=C[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[R++]=this.g[x]>>>V&255;return C};function c(C,R){var x=y;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=R(C)}function d(C,R){this.h=R;const x=[];let V=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;V&&U==R||(x[O]=U,V=!1)}this.g=x}var y={};function v(C){return-128<=C&&C<128?c(C,function(R){return new d([R|0],R<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return F(_(-C));const R=[];let x=1;for(let V=0;C>=x;V++)R[V]=C/x|0,x*=4294967296;return new d(R,0)}function S(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return F(S(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(R,8));let V=A;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const N=parseInt(C.substring(U,U+O),R);O<8?(O=_(Math.pow(R,O)),V=V.j(O).add(_(N))):(V=V.j(x),V=V.add(_(N)))}return V}var A=v(0),I=v(1),k=v(16777216);i=d.prototype,i.m=function(){if(Z(this))return-F(this).m();let C=0,R=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*R,R*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(Z(this))return"-"+F(this).toString(C);const R=_(Math.pow(C,6));var x=this;let V="";for(;;){const O=it(x,R).g;x=rt(x,O.j(R));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=O,$(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function Z(C){return C.h==-1}i.l=function(C){return C=rt(this,C),Z(C)?-1:$(C)?0:1};function F(C){const R=C.g.length,x=[];for(let V=0;V<R;V++)x[V]=~C.g[V];return new d(x,~C.h).add(I)}i.abs=function(){return Z(this)?F(this):this},i.add=function(C){const R=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let O=0;O<=R;O++){let U=V+(this.i(O)&65535)+(C.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=N>>>16,U&=65535,N&=65535,x[O]=N<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function rt(C,R){return C.add(F(R))}i.j=function(C){if($(this)||$(C))return A;if(Z(this))return Z(C)?F(this).j(F(C)):F(F(this).j(C));if(Z(C))return F(this.j(F(C)));if(this.l(k)<0&&C.l(k)<0)return _(this.m()*C.m());const R=this.g.length+C.g.length,x=[];for(var V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const U=this.i(V)>>>16,N=this.i(V)&65535,Ft=C.i(O)>>>16,Jt=C.i(O)&65535;x[2*V+2*O]+=N*Jt,q(x,2*V+2*O),x[2*V+2*O+1]+=U*Jt,q(x,2*V+2*O+1),x[2*V+2*O+1]+=N*Ft,q(x,2*V+2*O+1),x[2*V+2*O+2]+=U*Ft,q(x,2*V+2*O+2)}for(C=0;C<R;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=R;C<2*R;C++)x[C]=0;return new d(x,0)};function q(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function tt(C,R){this.g=C,this.h=R}function it(C,R){if($(R))throw Error("division by zero");if($(C))return new tt(A,A);if(Z(C))return R=it(F(C),R),new tt(F(R.g),F(R.h));if(Z(R))return R=it(C,F(R)),new tt(F(R.g),R.h);if(C.g.length>30){if(Z(C)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var x=I,V=R;V.l(C)<=0;)x=ht(x),V=ht(V);var O=dt(x,1),U=dt(V,1);for(V=dt(V,2),x=dt(x,2);!$(V);){var N=U.add(V);N.l(C)<=0&&(O=O.add(x),U=N),V=dt(V,1),x=dt(x,1)}return R=rt(C,O.j(R)),new tt(O,R)}for(O=A;C.l(R)>=0;){for(x=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(x),N=U.j(R);Z(N)||N.l(C)>0;)x-=V,U=_(x),N=U.j(R);$(U)&&(U=I),O=O.add(U),C=rt(C,N)}return new tt(O,C)}i.B=function(C){return it(this,C).h},i.and=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},i.or=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},i.xor=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function ht(C){const R=C.g.length+1,x=[];for(let V=0;V<R;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function dt(C,R){const x=R>>5;R%=32;const V=C.g.length-x,O=[];for(let U=0;U<V;U++)O[U]=R>0?C.i(U+x)>>>R|C.i(U+x+1)<<32-R:C.i(U+x);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$v=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,ki=d}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zv,Xl,Jv,uc,bd,Wv,tE,eE;(function(){var i,e=Object.defineProperty;function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=a(this);function o(u,m){if(m)t:{var T=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var B=u[w];if(!(B in T))break t;T=T[B]}u=u[u.length-1],w=T[u],m=m(w),m!=w&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var T=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&T.push([w,m[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,T){return u.call.apply(u.bind,arguments)}function _(u,m,T){return _=v,_.apply(null,arguments)}function S(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function A(u,m){function T(){}T.prototype=m.prototype,u.Z=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(w,B,K){for(var ut=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ut[xt-2]=arguments[xt];return m.prototype[B].apply(w,ut)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const m=u.length;if(m>0){const T=Array(m);for(let w=0;w<m;w++)T[w]=u[w];return T}return[]}function $(u,m){for(let w=1;w<arguments.length;w++){const B=arguments[w];var T=typeof B;if(T=T!="object"?T:B?Array.isArray(B)?"array":T:"null",T=="array"||T=="object"&&typeof B.length=="number"){T=u.length||0;const K=B.length||0;u.length=T+K;for(let ut=0;ut<K;ut++)u[T+ut]=B[ut]}else u.push(B)}}class Z{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,T){const w=tt.get();w.set(m,T),this.h?this.h.next=w:this.g=w,this.h=w}}var tt=new Z(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,dt=!1,C=new q,R=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(x)}};function x(){for(var u;u=rt();){try{u.h.call(u.g)}catch(T){F(T)}var m=tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};d.addEventListener("test",T,m),d.removeEventListener("test",T,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Ft(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ft,O),Ft.prototype.init=function(u,m){const T=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),M=0;function et(u,m,T,w,B){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!w,this.ha=B,this.key=++M,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bt(u,m,T){for(const w in u)m.call(T,u[w],w,u)}function It(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function j(u){const m={};for(const T in u)m[T]=u[T];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(u,m){let T,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(T in w)u[T]=w[T];for(let K=0;K<nt.length;K++)T=nt[K],Object.prototype.hasOwnProperty.call(w,T)&&(u[T]=w[T])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,T,w,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ut=vt(u,m,w,B);return ut>-1?(m=u[ut],T||(m.fa=!1)):(m=new et(m,this.src,K,!!w,B),m.fa=T,u.push(m)),m};function ct(u,m){const T=m.type;if(T in u.g){var w=u.g[T],B=Array.prototype.indexOf.call(w,m,void 0),K;(K=B>=0)&&Array.prototype.splice.call(w,B,1),K&&(ft(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function vt(u,m,T,w){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==m&&K.capture==!!T&&K.ha==w)return B}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Yt={};function Ut(u,m,T,w,B){if(Array.isArray(m)){for(let K=0;K<m.length;K++)Ut(u,m[K],T,w,B);return null}return T=Fr(T),u&&u[Jt]?u.J(m,T,y(w)?!!w.capture:!1,B):Me(u,m,T,!1,w,B)}function Me(u,m,T,w,B,K){if(!m)throw Error("Invalid event type");const ut=y(B)?!!B.capture:!!B;let xt=Yi(u);if(xt||(u[At]=xt=new ot(u)),T=xt.add(m,T,w,ut,K),T.proxy)return T;if(w=Tn(),T.proxy=w,w.src=u,w.listener=T,u.addEventListener)U||(B=ut),B===void 0&&(B=!1),u.addEventListener(m.toString(),w,B);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Tn(){function u(T){return m.call(u.src,u.listener,T)}const m=qr;return u}function zn(u,m,T,w,B){if(Array.isArray(m))for(var K=0;K<m.length;K++)zn(u,m[K],T,w,B);else w=y(w)?!!w.capture:!!w,T=Fr(T),u&&u[Jt]?(u=u.i,K=String(m).toString(),K in u.g&&(m=u.g[K],T=vt(m,T,w,B),T>-1&&(ft(m[T]),Array.prototype.splice.call(m,T,1),m.length==0&&(delete u.g[K],u.h--)))):u&&(u=Yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,T,w,B)),(T=u>-1?m[u]:null)&&Ms(T))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Jt])ct(m.i,u);else{var T=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(T,w,u.capture):m.detachEvent?m.detachEvent(Wn(T),w):m.addListener&&m.removeListener&&m.removeListener(w),(T=Yi(m))?(ct(T,u),T.h==0&&(T.src=null,m[At]=null)):ft(u)}}}function Wn(u){return u in Yt?Yt[u]:Yt[u]="on"+u}function qr(u,m){if(u.da)u=!0;else{m=new Ft(m,this);const T=u.listener,w=u.ha||u.src;u.fa&&Ms(u),u=T.call(w,m)}return u}function Yi(u){return u=u[At],u instanceof ot?u:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fr(u){return typeof u=="function"?u:(u[Hr]||(u[Hr]=function(m){return u.handleEvent(m)}),u[Hr])}function ve(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}A(ve,V),ve.prototype[Jt]=!0,ve.prototype.removeEventListener=function(u,m,T,w){zn(this,u,m,T,w)};function De(u,m){var T,w=u.G;if(w)for(T=[];w;w=w.G)T.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var B=m;m=new O(w,u),Y(m,B)}B=!0;let K,ut;if(T)for(ut=T.length-1;ut>=0;ut--)K=m.g=T[ut],B=ii(K,w,!0,m)&&B;if(K=m.g=u,B=ii(K,w,!0,m)&&B,B=ii(K,w,!1,m)&&B,T)for(ut=0;ut<T.length;ut++)K=m.g=T[ut],B=ii(K,w,!1,m)&&B}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const T=u.g[m];for(let w=0;w<T.length;w++)ft(T[w]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,T,w){return this.i.add(String(u),m,!1,T,w)},ve.prototype.K=function(u,m,T,w){return this.i.add(String(u),m,!0,T,w)};function ii(u,m,T,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let B=!0;for(let K=0;K<m.length;++K){const ut=m[K];if(ut&&!ut.da&&ut.capture==T){const xt=ut.listener,pe=ut.ha||ut.src;ut.fa&&ct(u.i,ut),B=xt.call(pe,w)!==!1&&B}}return B&&!w.defaultPrevented}function Zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function wo(u){u.g=Zc(()=>{u.g=null,u.i&&(u.i=!1,wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(u){V.call(this),this.h=u,this.g={}}A(Ki,V);var Gr=[];function Qr(u){bt(u.g,function(m,T){this.g.hasOwnProperty(T)&&Ms(m)},u),u.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Qr(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=d.JSON.stringify,Jc=d.JSON.parse,Ro=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Co(){}function xo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){O.call(this,"d")}A(ke,O);function Sn(){O.call(this,"c")}A(Sn,O);var me={},No=null;function js(){return No=No||new ve}me.Ia="serverreachability";function Do(u){O.call(this,me.Ia,u)}A(Do,O);function ta(u){const m=js();De(m,new Do(m))}me.STAT_EVENT="statevent";function Xi(u,m){O.call(this,me.STAT_EVENT,u),this.stat=m}A(Xi,O);function Ee(u){const m=js();De(m,new Xi(m,u))}me.Ja="timingevent";function ea(u,m){O.call(this,me.Ja,u),this.size=m}A(ea,O);function na(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Wc(u,m,T,w,B,K){u.info(function(){if(u.g)if(K){var ut="",xt=K.split("&");for(let Gt=0;Gt<xt.length;Gt++){var pe=xt[Gt].split("=");if(pe.length>1){const le=pe[0];pe=pe[1];const Rn=le.split("_");ut=Rn.length>=2&&Rn[1]=="type"?ut+(le+"="+pe+"&"):ut+(le+"=redacted&")}}}else ut=null;else ut=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+m+`
`+T+`
`+ut})}function Io(u,m,T,w,B,K,ut){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+m+`
`+T+`
`+K+" "+ut})}function aa(u,m,T,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+th(u,T)+(w?" "+w:"")})}function $i(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function th(u,m){if(!u.g)return m;if(!m)return null;try{const K=JSON.parse(m);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var T=K[u];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ut=1;ut<w.length;ut++)w[ut]=""}}}}return si(K)}catch{return m}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kr;function Ji(){}A(Ji,Co),Ji.prototype.g=function(){return new XMLHttpRequest},Kr=new Ji;function Ia(u){return encodeURIComponent(String(u))}function Vo(u){var m=1;u=u.split(":");const T=[];for(;m>0&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function kn(u,m,T,w){this.j=u,this.i=m,this.l=T,this.S=w||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Te={},je={};function ia(u,m,T){u.M=1,u.A=Wi(be(m)),u.u=T,u.R=!0,Ls(u,null)}function Ls(u,m){u.F=Date.now(),sa(u),u.B=be(u.A);var T=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ks(T.i,"t",w),u.C=0,T=u.j.L,u.h=new Bn,u.g=Yo(u.j,T?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,T=u.g,w=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(Gr[0]=B.toString()),B=Gr);for(let K=0;K<B.length;K++){const ut=Ut(T,B[K],w||m.handleEvent,!1,m.h||m);if(!ut)break;m.g[ut.key]=ut}m=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ta(),Wc(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const xt=Fn(this.g),pe=this.g.ya(),Gt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||xt!=4||pe==7||(pe==8||Gt<=0?ta(3):ta(2)),ra(this);var m=this.g.ca();this.X=m;var T=eh(this);if(this.o=m==200,Io(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break e}}K=null}if(u=K)aa(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,la(this,u);else{this.o=!1,this.m=3,Ee(12),fn(this),bn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<T.length;)if(le=Mo(this,T),le==je){xt==4&&(this.m=4,Ee(14),u=!1),aa(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),aa(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else aa(this.i,this.l,le,null),la(this,le);if(Oo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||T.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)aa(this.i,this.l,T,"[Invalid Chunked Response]"),fn(this),bn(this);else if(T.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ul(ut),ut.P=!0,Ee(11))}}else aa(this.i,this.l,T,null),la(this,T);xt==4&&fn(this),this.o&&!this.K&&(xt==4?Ho(this.j,this):(this.o=!1,sa(this)))}else Oa(this.g),m==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),fn(this),bn(this)}}}catch{}finally{}};function eh(u){if(!Oo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let T="";const w=m.length,B=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,T+=u.h.i.decode(m[K],{stream:!(B&&K==w-1)});return m.length=0,u.h.g+=T,u.C=0,u.h.g}function Oo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Mo(u,m){var T=u.C,w=m.indexOf(`
`,T);return w==-1?je:(T=Number(m.substring(T,w)),isNaN(T)?Te:(w+=1,w+T>m.length?je:(m=m.slice(w,w+T),u.C=w+T,m)))}kn.prototype.cancel=function(){this.K=!0,fn(this)};function sa(u){u.T=Date.now()+u.H,zs(u,u.H)}function zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=na(_(u.aa,u),m)}function ra(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($i(this.i,this.B),this.M!=2&&(ta(),Ee(17)),fn(this),this.m=2,bn(this)):zs(this,this.T-u)};function bn(u){u.j.I==0||u.K||Ho(u.j,u)}function fn(u){ra(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function la(u,m){try{var T=u.j;if(T.I!=0&&(T.g==u||ua(T.h,u))){if(!u.L&&ua(T.h,u)&&T.I==3){try{var w=T.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)Gs(T),di(T);else break t;rs(T),Ee(18)}}else T.xa=B[1],0<T.xa-T.K&&B[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=na(_(T.Va,T),6e3));oa(T.h)<=1&&T.ta&&(T.ta=void 0)}else pa(T,11)}else if((u.L||T.g==u)&&Gs(T),!N(m))for(B=T.Ba.g.parse(m),m=0;m<B.length;m++){let Gt=B[m];const le=Gt[0];if(!(le<=T.K))if(T.K=le,Gt=Gt[1],T.I==2)if(Gt[0]=="c"){T.M=Gt[1],T.ba=Gt[2];const Rn=Gt[3];Rn!=null&&(T.ka=Rn,T.j.info("VER="+T.ka));const ga=Gt[4];ga!=null&&(T.za=ga,T.j.info("SVER="+T.za));const Gn=Gt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(w=1.5*Gn,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const Qn=u.g;if(Qn){const ls=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var K=w.h;K.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Zr(K,K.h),K.h=null))}if(w.G){const Qs=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(w.wa=Qs,Xt(w.J,w.G,Qs))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var ut=u;if(w.na=Qo(w,w.L?w.ba:null,w.W),ut.L){Jr(w.h,ut);var xt=ut,pe=w.O;pe&&(xt.H=pe),xt.D&&(ra(xt),sa(xt)),w.g=ut}else Bo(w);T.i.length>0&&ma(T)}else Gt[0]!="stop"&&Gt[0]!="close"||pa(T,7);else T.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?pa(T,7):ll(T):Gt[0]!="noop"&&T.l&&T.l.qa(Gt),T.A=0)}}ta(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Xr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oa(u){return u.h?1:u.g?u.g.size:0}function ua(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zr(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Xr.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.G);return m}return k(u.i)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(u,m){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const w=u[T].indexOf("=");let B,K=null;w>=0?(B=u[T].substring(0,w),K=u[T].substring(w+1)):B=u[T],m(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ri(this,u.u),this.h=u.h,tl(this,Po(u.i)),this.m=u.m):u&&(m=String(u).match(jo))?(this.l=!1,Le(this,m[1]||"",!0),this.o=ca(m[2]||""),this.g=ca(m[3]||"",!0),ri(this,m[4]),this.h=ca(m[5]||"",!0),tl(this,m[6]||"",!0),this.m=ca(m[7]||"")):(this.l=!1,this.i=new oi(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ts(m,Ps,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,Ps,!0),"@"),u.push(Ia(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(ts(T,T.charAt(0)=="/"?el:Lo,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",ts(T,zo)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let T=!!u.j;T?Le(m,u.j):T=!!u.o,T?m.o=u.o:T=!!u.g,T?m.g=u.g:T=u.u!=null;var w=u.h;if(T)ri(m,u.u);else if(T=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=m.h.lastIndexOf("/");B!=-1&&(w=m.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ut=0;ut<B.length;){const xt=B[ut++];xt=="."?w&&ut==B.length&&K.push(""):xt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ut==B.length&&K.push("")):(K.push(xt),w=!0)}w=K.join("/")}else w=B}return T?m.h=w:T=u.i.toString()!=="",T?tl(m,Po(u.i)):T=!!u.m,T&&(m.m=u.m),m};function be(u){return new dn(u)}function Le(u,m,T){u.j=T?ca(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ri(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function tl(u,m,T){m instanceof oi?(u.i=m,Bs(u.i,u.l)):(T||(m=ts(m,li)),u.i=new oi(m,u.l))}function Xt(u,m,T){u.i.set(m,T)}function Wi(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ca(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,an),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ps=/[#\/\?@]/g,Lo=/[#\?:]/g,el=/[#\?]/g,li=/[#\?@]/g,zo=/#/g;function oi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Us(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}i=oi.prototype,i.add=function(u,m){sn(this),this.i=null,u=ui(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function Uo(u,m){sn(u),m=ui(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nl(u,m){return sn(u),m=ui(u,m),u.g.has(m)}i.forEach=function(u,m){sn(this),this.g.forEach(function(T,w){T.forEach(function(B){u.call(m,B,w,this)},this)},this)};function al(u,m){sn(u);let T=[];if(typeof m=="string")nl(u,m)&&(T=T.concat(u.g.get(ui(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)T=T.concat(u[m]);return T}i.set=function(u,m){return sn(this),this.i=null,u=ui(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=al(this,u),u.length>0?String(u[0]):m):m};function ks(u,m,T){Uo(u,m),T.length>0&&(u.i=null,u.g.set(ui(u,m),k(T)),u.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var T=m[w];const B=Ia(T);T=al(this,T);for(let K=0;K<T.length;K++){let ut=B;T[K]!==""&&(ut+="="+Ia(T[K])),u.push(ut)}}return this.i=u.join("&")};function Po(u){const m=new oi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ui(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Bs(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(T,w){const B=w.toLowerCase();w!=B&&(Uo(this,w),ks(this,B,T))},u)),u.j=m}function qn(u,m){const T=new Pn;if(d.Image){const w=new Image;w.onload=S(An,T,"TestLoadImage: loaded",!0,m,w),w.onerror=S(An,T,"TestLoadImage: error",!1,m,w),w.onabort=S(An,T,"TestLoadImage: abort",!1,m,w),w.ontimeout=S(An,T,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function il(u,m){const T=new Pn,w=new AbortController,B=setTimeout(()=>{w.abort(),An(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?An(T,"TestPingServer: ok",!0,m):An(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),An(T,"TestPingServer: error",!1,m)})}function An(u,m,T,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(T)}catch{}}function ci(){this.g=new Ro}function ha(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ha,Co),ha.prototype.g=function(){return new es(this.i,this.h)};function es(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(es,ve),i=es.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hi(this):Hn(this),this.readyState==3&&qs(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,hi(this))},i.Na=function(u){this.g&&(this.response=u,hi(this))},i.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}i.setRequestHeader=function(u,m){this.A.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return bt(u,function(T,w){m+=w,m+=":",m+=T,m+=`\r
`}),m}function ns(u,m,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=wn(T),typeof u=="string"?T!=null&&Ia(T):Xt(u,m,T))}function Wt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,ve);var fa=/^https?$/i,sl=["POST","PUT"];i=Wt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,m,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kr.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){as(this,K);return}if(u=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)T.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())T.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||w||B||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ut]of T)this.g.setRequestHeader(K,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){as(this,K)}};function as(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,rl(u),Va(u)}function rl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Va(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Wt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?is(this):this.Xa())},i.Xa=function(){is(this)};function is(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const K=u.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var T;if(!(T=m)){var w;if(w=K===0){let ut=String(u.D).match(jo)[1]||null;!ut&&d.self&&d.self.location&&(ut=d.self.location.protocol.slice(0,-1)),w=!fa.test(ut?ut.toLowerCase():"")}T=w}if(T)De(u,"complete"),De(u,"success");else{u.o=6;try{var B=Fn(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",rl(u)}}finally{Va(u)}}}}function Va(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,m||De(u,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Jc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(N(u[w]))continue;var T=Vo(u[w]);const B=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=m[B]||[];m[B]=K,K.push(T)}It(m,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function fi(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=da("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=da("baseRetryDelayMs",5e3,u),this.Za=da("retryDelaySeedMs",1e4,u),this.Ta=da("forwardChannelMaxRetries",2,u),this.va=da("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xr(u&&u.concurrentRequestLimit),this.Ba=new ci,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fi.prototype,i.ka=8,i.I=1,i.connect=function(u,m,T,w){Ee(0),this.W=u,this.H=m||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Qo(this,null,this.W),ma(this)};function ll(u){if(Hs(u),u.I==3){var m=u.V++,T=be(u.J);if(Xt(T,"SID",u.M),Xt(T,"RID",m),Xt(T,"TYPE","terminate"),ss(u,T),m=new kn(u,u.j,m),m.M=2,m.A=Wi(be(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!T&&d.Image&&(new Image().src=m.A,T=!0),T||(m.g=Yo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),sa(m)}Go(u)}function di(u){u.g&&(ul(u),u.g.cancel(),u.g=null)}function Hs(u){di(u),u.v&&(d.clearTimeout(u.v),u.v=null),Gs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ma(u){if(!$r(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||R(),dt||(ht(),dt=!0),C.add(m,u),u.D=0}}function Fs(u,m){return oa(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=na(_(u.Ea,u,m),Fo(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new kn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=j(K),Y(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)t:{for(var m=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=T;break t}if(m===4096||T===this.i.length-1){m=T+1;break t}}m=1e3}else m=1e3;m=ko(this,B,m),T=be(this.J),Xt(T,"RID",u),Xt(T,"CVER",22),this.G&&Xt(T,"X-HTTP-Session-Id",this.G),ss(this,T),K&&(this.R?m="headers="+Ia(wn(K))+"&"+m:this.u&&ns(T,this.u,K)),Zr(this.h,B),this.Ra&&Xt(T,"TYPE","init"),this.S?(Xt(T,"$req",m),Xt(T,"SID","null"),B.U=!0,ia(B,T,null)):ia(B,T,m),this.I=2}}else this.I==3&&(u?ol(this,u):this.i.length==0||$r(this.h)||ol(this))};function ol(u,m){var T;m?T=m.l:T=u.V++;const w=be(u.J);Xt(w,"SID",u.M),Xt(w,"RID",T),Xt(w,"AID",u.K),ss(u,w),u.u&&u.o&&ns(w,u.u,u.o),T=new kn(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ko(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,T),ia(T,w,m)}function ss(u,m){u.H&&bt(u.H,function(T,w){Xt(m,w,T)}),u.l&&bt({},function(T,w){Xt(m,w,T)})}function ko(u,m,T){T=Math.min(u.i.length,T);const w=u.l?_(u.l.Ka,u.l,u):null;t:{var B=u.i;let xt=-1;for(;;){const pe=["count="+T];xt==-1?T>0?(xt=B[0].g,pe.push("ofs="+xt)):xt=0:pe.push("ofs="+xt);let Gt=!0;for(let le=0;le<T;le++){var K=B[le].g;const Rn=B[le].map;if(K-=xt,K<0)xt=Math.max(0,B[le].g-100),Gt=!1;else try{K="req"+K+"_"||"";try{var ut=Rn instanceof Map?Rn:Object.entries(Rn);for(const[ga,Gn]of ut){let Qn=Gn;y(Gn)&&(Qn=si(Gn)),pe.push(K+ga+"="+encodeURIComponent(Qn))}}catch(ga){throw pe.push(K+"type="+encodeURIComponent("_badmap")),ga}}catch{w&&w(Rn)}}if(Gt){ut=pe.join("&");break t}}ut=void 0}return u=u.i.splice(0,T),m.G=u,ut}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||R(),dt||(ht(),dt=!0),C.add(m,u),u.A=0}}function rs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=na(_(u.Da,u),Fo(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,qo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=na(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),di(this),qo(this))};function ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function qo(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),ss(u,m),u.u&&u.o&&ns(m,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Wi(be(m)),T.u=null,T.R=!0,Ls(T,u)}i.Va=function(){this.C!=null&&(this.C=null,di(this),rs(this),Ee(19))};function Gs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ho(u,m){var T=null;if(u.g==m){Gs(u),ul(u),u.g=null;var w=2}else if(ua(u.h,m))T=m.G,Jr(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){T=m.u?m.u.length:0,m=Date.now()-m.F;var B=u.D;w=js(),De(w,new ea(w,T)),ma(u)}else Bo(u);else if(B=m.m,B==3||B==0&&m.X>0||!(w==1&&Fs(u,m)||w==2&&rs(u)))switch(T&&T.length>0&&(m=u.h,m.i=m.i.concat(T)),B){case 1:pa(u,5);break;case 4:pa(u,10);break;case 3:pa(u,6);break;default:pa(u,2)}}}function Fo(u,m){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*m}function pa(u,m){if(u.j.info("Error code "+m),m==2){var T=_(u.bb,u),w=u.Ua;const B=!w;w=new dn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(w,"https"),Wi(w),B?qn(w.toString(),T):il(w.toString(),T)}else Ee(2);u.I=0,u.l&&u.l.pa(m),Go(u),Hs(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=Wr(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function Qo(u,m,T){var w=T instanceof dn?be(T):new dn(T);if(w.g!="")m&&(w.g=m+"."+w.g),ri(w,w.u);else{var B=d.location;w=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;const K=new dn(null);w&&Le(K,w),m&&(K.g=m),B&&ri(K,B),T&&(K.h=T),w=K}return T=u.G,m=u.wa,T&&m&&Xt(w,T,m),Xt(w,"VER",u.ka),ss(u,w),w}function Yo(u,m,T){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new ha({ab:T})):new Wt(u.ma),m.Fa(u.L),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ko(){}i=Ko.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function mi(){}mi.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new fi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ma(this)}A(en,ve),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ll(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=si(u),u=T);m.i.push(new Se(m.Ya++,u)),m.I==3&&ma(m)},en.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,en.Z.N.call(this)};function Xo(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const T in m){u=T;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Xo,ke);function $o(){Sn.call(this),this.status=1}A($o,Sn);function Ma(u){this.g=u}A(Ma,Ko),Ma.prototype.ra=function(){De(this.g,"a")},Ma.prototype.qa=function(u){De(this.g,new Xo(u))},Ma.prototype.pa=function(u){De(this.g,new $o)},Ma.prototype.oa=function(){De(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,eE=function(){return new mi},tE=function(){return js()},Wv=me,bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,uc=Zi,Yr.COMPLETE="complete",Jv=Yr,xo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Xl=xo,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,Zv=Wt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",b_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Fv("@firebase/firestore");function Sr(){return Cs.logLevel}function mt(i,...e){if(Cs.logLevel<=Bt.DEBUG){const a=e.map(Zd);Cs.debug(`Firestore (${Ur}): ${i}`,...a)}}function ei(i,...e){if(Cs.logLevel<=Bt.ERROR){const a=e.map(Zd);Cs.error(`Firestore (${Ur}): ${i}`,...a)}}function Dr(i,...e){if(Cs.logLevel<=Bt.WARN){const a=e.map(Zd);Cs.warn(`Firestore (${Ur}): ${i}`,...a)}}function Zd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e,a){let r="Unexpected state";typeof e=="string"?r=e:a=e,nE(i,r,a)}function nE(i,e,a){let r=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw ei(r),new Error(r)}function Kt(i,e,a,r){let o="Unexpected state";typeof a=="string"?o=a:r=a,i||nE(e,o,r)}function Ct(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends zr{constructor(e,a){super(e,a),this.code=e,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise(((e,a)=>{this.resolve=e,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,a){e.enqueueRetryable((()=>a(Je.UNAUTHENTICATED)))}shutdown(){}}class BA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,a){this.changeListener=a,e.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class qA{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,a){Kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,a(v)):Promise.resolve();let c=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ws,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ws)}}),0),d()}getToken(){const e=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new aE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Je(e)}}class HA{constructor(e,a,r){this.P=e,this.T=a,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FA{constructor(e,a,r){this.P=e,this.T=a,this.I=r}getToken(){return Promise.resolve(new HA(this.P,this.T,this.I))}start(e,a){e.enqueueRetryable((()=>a(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GA{constructor(e,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,a){Kt(this.o===void 0,3512);const r=c=>{c.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((a=>a?(Kt(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new A_(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(a);else for(let r=0;r<i;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QA(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<a&&(r+=e.charAt(o[c]%62))}return r}}function Lt(i,e){return i<e?-1:i>e?1:0}function Ad(i,e){const a=Math.min(i.length,e.length);for(let r=0;r<a;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return od(o)===od(c)?Lt(o,c):od(o)?1:-1}return Lt(i.length,e.length)}const YA=55296,KA=57343;function od(i){const e=i.charCodeAt(0);return e>=YA&&e<=KA}function Ir(i,e,a){return i.length===e.length&&i.every(((r,o)=>a(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__name__";class ba{constructor(e,a,r){a===void 0?a=0:a>e.length&&St(637,{offset:a,range:e.length}),r===void 0?r=e.length-a:r>e.length-a&&St(1746,{length:r,range:e.length-a}),this.segments=e,this.offset=a,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const a=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach((r=>{a.push(r)})):a.push(e),this.construct(a)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}forEach(e){for(let a=this.offset,r=this.limit();a<r;a++)e(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,a){const r=Math.min(e.length,a.length);for(let o=0;o<r;o++){const c=ba.compareSegments(e.get(o),a.get(o));if(c!==0)return c}return Lt(e.length,a.length)}static compareSegments(e,a){const r=ba.isNumericId(e),o=ba.isNumericId(a);return r&&!o?-1:!r&&o?1:r&&o?ba.extractNumericId(e).compare(ba.extractNumericId(a)):Ad(e,a)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class ue extends ba{construct(e,a,r){return new ue(e,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const a=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((o=>o.length>0)))}return new ue(a)}static emptyPath(){return new ue([])}}const XA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends ba{construct(e,a,r){return new Ke(e,a,r)}static isValidIdentifier(e){return XA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new Ke([w_])}static fromServerFormat(e){const a=[];let r="",o=0;const c=()=>{if(r.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new yt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new yt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(c(),o++)}if(c(),d)throw new yt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(a)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(ue.fromString(e))}static fromName(e){return new Et(ue.fromString(e).popFirst(5))}static empty(){return new Et(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,a){return ue.comparator(e.path,a.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(i,e,a){if(!a)throw new yt(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZA(i,e,a,r){if(e===!0&&r===!0)throw new yt(lt.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)}function R_(i){if(!Et.isDocumentKey(i))throw new yt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function iE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":St(12329,{type:typeof i})}function Cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Wd(i);throw new yt(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${a}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i,e){const a={typeString:i};return e&&(a.value=e),a}function Eo(i,e){if(!iE(i))throw new yt(lt.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){a=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){a=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){a=`Expected '${r}' field to equal '${c.value}'`;break}}if(a)throw new yt(lt.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,x_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const a=Math.floor(e/1e3),r=Math.floor((e-1e3*a)*x_);return new re(a,r)}constructor(e,a){if(this.seconds=e,this.nanoseconds=a,a<0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(e<C_)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(e){return new wt(e)}static min(){return new wt(new re(0,0))}static max(){return new wt(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function JA(i,e){const a=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(r===1e9?new re(a+1,0):new re(a,r));return new Bi(o,Et.empty(),e)}function WA(i){return new Bi(i.readTime,i.key,uo)}class Bi{constructor(e,a,r){this.readTime=e,this.documentKey=a,this.largestBatchId=r}static min(){return new Bi(wt.min(),Et.empty(),uo)}static max(){return new Bi(wt.max(),Et.empty(),uo)}}function tw(i,e){let a=i.readTime.compareTo(e.readTime);return a!==0?a:(a=Et.comparator(i.documentKey,e.documentKey),a!==0?a:Lt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pr(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==ew)throw i;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(e){return this.next(void 0,e)}next(e,a){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(e,this.result):new st(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(a,c).next(r,o)}}))}toPromise(){return new Promise(((e,a)=>{this.next(e,a)}))}wrapUserFunction(e){try{const a=e();return a instanceof st?a:st.resolve(a)}catch(a){return st.reject(a)}}wrapSuccess(e,a){return e?this.wrapUserFunction((()=>e(a))):st.resolve(a)}wrapFailure(e,a){return e?this.wrapUserFunction((()=>e(a))):st.reject(a)}static resolve(e){return new st(((a,r)=>{a(e)}))}static reject(e){return new st(((a,r)=>{r(e)}))}static waitFor(e){return new st(((a,r)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&a()}),(v=>r(v)))})),d=!0,c===o&&a()}))}static or(e){let a=st.resolve(!1);for(const r of e)a=a.next((o=>o?st.resolve(o):r()));return a}static forEach(e,a){const r=[];return e.forEach(((o,c)=>{r.push(a.call(this,o,c))})),this.waitFor(r)}static mapArray(e,a){return new st(((r,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;a(e[_]).next((S=>{d[_]=S,++y,y===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,a){return new st(((r,o)=>{const c=()=>{e()===!0?a().next((()=>{c()}),o):r()};c()}))}}function aw(i){const e=i.match(/Android ([\d.]+)/i),a=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function kr(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,a){this.previousValue=e,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Pc(i){return i==null}function Ec(i){return i===0&&1/i==-1/0}function iw(i){return typeof i=="number"&&Number.isInteger(i)&&!Ec(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function sw(i){let e="";for(let a=0;a<i.length;a++)e.length>0&&(e=N_(e)),e=rw(i.get(a),e);return N_(e)}function rw(i,e){let a=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":a+="";break;case sE:a+="";break;default:a+=c}}return a}function N_(i){return i+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(i){let e=0;for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&e++;return e}function Ds(i,e){for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&e(a,i[a])}function rE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,a){this.comparator=e,this.root=a||Qe.EMPTY}insert(e,a){return new he(this.comparator,this.root.insert(e,a,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(e,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(e){let a=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return a+r.left.size;o<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((a,r)=>(e(a,r),!1)))}toString(){const e=[];return this.inorderTraversal(((a,r)=>(e.push(`${a}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,a,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=a?r(e.key,a):1,a&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const a={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,a,r,o,c){this.key=e,this.value=a,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,a,r,o,c){return new Qe(e??this.key,a??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,a,r),null):c===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(e,a,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,a){let r,o=this;if(a(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,a,r,o,c){return this}insert(e,a,r){return new Qe(e,a)}remove(e,a){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((a,r)=>(e(a),!1)))}forEachInRange(e,a){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;a(o.key)}}forEachWhile(e,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const a=this.data.getIteratorFrom(e);return a.hasNext()?a.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let a=this;return a.size<e.size&&(a=e,e=this),e.forEach((r=>{a=a.add(r)})),a}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const a=this.data.getIterator(),r=e.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((a=>{e.push(a)})),e}toString(){const e=[];return this.forEach((a=>e.push(a))),"SortedSet("+e.toString()+")"}copy(e){const a=new Oe(this.comparator);return a.data=e,a}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new $n([])}unionWith(e){let a=new Oe(Ke.comparator);for(const r of this.fields)a=a.add(r);for(const r of e)a=a.add(r);return new $n(a.toArray())}covers(e){for(const a of this.fields)if(a.isPrefixOf(e))return!0;return!1}isEqual(e){return Ir(this.fields,e.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const a=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(e);return new Xe(a)}static fromUint8Array(e){const a=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Xe(a)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(i){if(Kt(!!i,39018),typeof i=="string"){let e=0;const a=lw.exec(i);if(Kt(!!a,46558,{timestamp:i}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(i.seconds),nanos:_e(i.nanos)}}function _e(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Hi(i){return typeof i=="string"?Xe.fromBase64String(i):Xe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function em(i){return(i?.mapValue?.fields||{})[uE]?.stringValue===oE}function kc(i){const e=i.mapValue.fields[cE];return em(e)?kc(e):e}function co(i){const e=qi(i.mapValue.fields[hE].timestampValue);return new re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,a,r,o,c,d,y,v,_,S){this.databaseId=e,this.appId=a,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Tc="(default)";class ho{constructor(e,a){this.projectId=e,this.database=a||Tc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__type__",uw="__max__",ic={mapValue:{}},dE="__vector__",Sc="value";function Fi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?em(i)?4:hw(i)?9007199254740991:cw(i)?10:11:St(28295,{value:i})}function xa(i,e){if(i===e)return!0;const a=Fi(i);if(a!==Fi(e))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return co(i).isEqual(co(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=qi(o.timestampValue),y=qi(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Hi(o.bytesValue).isEqual(Hi(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return _e(o.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _e(o.integerValue)===_e(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_e(o.doubleValue),y=_e(c.doubleValue);return d===y?Ec(d)===Ec(y):isNaN(d)&&isNaN(y)}return!1})(i,e);case 9:return Ir(i.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(D_(d)!==D_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!xa(d[v],y[v])))return!1;return!0})(i,e);default:return St(52216,{left:i})}}function fo(i,e){return(i.values||[]).find((a=>xa(a,e)))!==void 0}function Vr(i,e){if(i===e)return 0;const a=Fi(i),r=Fi(e);if(a!==r)return Lt(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=_e(c.integerValue||c.doubleValue),v=_e(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(i,e);case 3:return V_(i.timestampValue,e.timestampValue);case 4:return V_(co(i),co(e));case 5:return Ad(i.stringValue,e.stringValue);case 6:return(function(c,d){const y=Hi(c),v=Hi(d);return y.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Lt(y[_],v[_]);if(S!==0)return S}return Lt(y.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Lt(_e(c.latitude),_e(d.latitude));return y!==0?y:Lt(_e(c.longitude),_e(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return O_(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[Sc]?.arrayValue,S=v[Sc]?.arrayValue,A=Lt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:O_(_,S)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===ic.mapValue&&d===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const I=Ad(v[A],S[A]);if(I!==0)return I;const k=Vr(y[v[A]],_[S[A]]);if(k!==0)return k}return Lt(v.length,S.length)})(i.mapValue,e.mapValue);default:throw St(23264,{he:a})}}function V_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Lt(i,e);const a=qi(i),r=qi(e),o=Lt(a.seconds,r.seconds);return o!==0?o:Lt(a.nanos,r.nanos)}function O_(i,e){const a=i.values||[],r=e.values||[];for(let o=0;o<a.length&&o<r.length;++o){const c=Vr(a[o],r[o]);if(c)return c}return Lt(a.length,r.length)}function Or(i){return wd(i)}function wd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(a){const r=qi(a);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(a){return Hi(a).toBase64()})(i.bytesValue):"referenceValue"in i?(function(a){return Et.fromName(a).toString()})(i.referenceValue):"geoPointValue"in i?(function(a){return`geo(${a.latitude},${a.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(a){let r="[",o=!0;for(const c of a.values||[])o?o=!1:r+=",",r+=wd(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(a){const r=Object.keys(a.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${wd(a.fields[d])}`;return o+"}"})(i.mapValue):St(61005,{value:i})}function cc(i){switch(Fi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(i);return e?16+cc(e):16;case 5:return 2*i.stringValue.length;case 6:return Hi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+cc(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ds(r.fields,((c,d)=>{o+=c.length+cc(d)})),o})(i.mapValue);default:throw St(13486,{value:i})}}function Rd(i){return!!i&&"integerValue"in i}function nm(i){return!!i&&"arrayValue"in i}function M_(i){return!!i&&"nullValue"in i}function j_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hc(i){return!!i&&"mapValue"in i}function cw(i){return(i?.mapValue?.fields||{})[fE]?.stringValue===dE}function to(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,((a,r)=>e.mapValue.fields[a]=to(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let a=0;a<(i.arrayValue.values||[]).length;++a)e.arrayValue.values[a]=to(i.arrayValue.values[a]);return e}return{...i}}function hw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===uw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let a=this.value;for(let r=0;r<e.length-1;++r)if(a=(a.mapValue.fields||{})[e.get(r)],!hc(a))return null;return a=(a.mapValue.fields||{})[e.lastSegment()],a||null}}set(e,a){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(a)}setAll(e){let a=Ke.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,r,o),r={},o=[],a=y.popLast()}d?r[y.lastSegment()]=to(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(a);this.applyChanges(c,r,o)}delete(e){const a=this.field(e.popLast());hc(a)&&a.mapValue.fields&&delete a.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=a.mapValue.fields[e.get(r)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[e.get(r)]=o),a=o}return a.mapValue.fields}applyChanges(e,a,r){Ds(a,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new jn(to(this.value))}}function mE(i){const e=[];return Ds(i.fields,((a,r)=>{const o=new Ke([a]);if(hc(r)){const c=mE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,a,r,o,c,d,y){this.key=e,this.documentType=a,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new We(e,0,wt.min(),wt.min(),wt.min(),jn.empty(),0)}static newFoundDocument(e,a,r,o){return new We(e,1,a,wt.min(),r,o,0)}static newNoDocument(e,a){return new We(e,2,a,wt.min(),wt.min(),jn.empty(),0)}static newUnknownDocument(e,a){return new We(e,3,a,wt.min(),wt.min(),jn.empty(),2)}convertToFoundDocument(e,a){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,a){this.position=e,this.inclusive=a}}function L_(i,e,a){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=Et.comparator(Et.fromName(d.referenceValue),a.key):r=Vr(d,a.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let a=0;a<i.position.length;a++)if(!xa(i.position[a],e.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,a="asc"){this.field=e,this.dir=a}}function fw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class Ve extends pE{constructor(e,a,r){super(),this.field=e,this.op=a,this.value=r}static create(e,a,r){return e.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(e,a,r):new mw(e,a,r):a==="array-contains"?new yw(e,r):a==="in"?new _w(e,r):a==="not-in"?new vw(e,r):a==="array-contains-any"?new Ew(e,r):new Ve(e,a,r)}static createKeyFieldInFilter(e,a,r){return a==="in"?new pw(e,r):new gw(e,r)}matches(e){const a=e.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Vr(a,this.value)):a!==null&&Fi(this.value)===Fi(a)&&this.matchesComparison(Vr(a,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends pE{constructor(e,a){super(),this.filters=e,this.op=a,this.Pe=null}static create(e,a){return new Na(e,a)}matches(e){return gE(this)?this.filters.find((a=>!a.matches(e)))===void 0:this.filters.find((a=>a.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,a)=>e.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(i){return i.op==="and"}function yE(i){return dw(i)&&gE(i)}function dw(i){for(const e of i.filters)if(e instanceof Na)return!1;return!0}function Cd(i){if(i instanceof Ve)return i.field.canonicalString()+i.op.toString()+Or(i.value);if(yE(i))return i.filters.map((e=>Cd(e))).join(",");{const e=i.filters.map((a=>Cd(a))).join(",");return`${i.op}(${e})`}}function _E(i,e){return i instanceof Ve?(function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&xa(r.value,o.value)})(i,e):i instanceof Na?(function(r,o){return o instanceof Na&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,y)=>c&&_E(d,o.filters[y])),!0):!1})(i,e):void St(19439)}function vE(i){return i instanceof Ve?(function(a){return`${a.field.canonicalString()} ${a.op} ${Or(a.value)}`})(i):i instanceof Na?(function(a){return a.op.toString()+" {"+a.getFilters().map(vE).join(" ,")+"}"})(i):"Filter"}class mw extends Ve{constructor(e,a,r){super(e,a,r),this.key=Et.fromName(r.referenceValue)}matches(e){const a=Et.comparator(e.key,this.key);return this.matchesComparison(a)}}class pw extends Ve{constructor(e,a){super(e,"in",a),this.keys=EE("in",a)}matches(e){return this.keys.some((a=>a.isEqual(e.key)))}}class gw extends Ve{constructor(e,a){super(e,"not-in",a),this.keys=EE("not-in",a)}matches(e){return!this.keys.some((a=>a.isEqual(e.key)))}}function EE(i,e){return(e.arrayValue?.values||[]).map((a=>Et.fromName(a.referenceValue)))}class yw extends Ve{constructor(e,a){super(e,"array-contains",a)}matches(e){const a=e.data.field(this.field);return nm(a)&&fo(a.arrayValue,this.value)}}class _w extends Ve{constructor(e,a){super(e,"in",a)}matches(e){const a=e.data.field(this.field);return a!==null&&fo(this.value.arrayValue,a)}}class vw extends Ve{constructor(e,a){super(e,"not-in",a)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=e.data.field(this.field);return a!==null&&a.nullValue===void 0&&!fo(this.value.arrayValue,a)}}class Ew extends Ve{constructor(e,a){super(e,"array-contains-any",a)}matches(e){const a=e.data.field(this.field);return!(!nm(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>fo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,a=null,r=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=a,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function U_(i,e=null,a=[],r=[],o=null,c=null,d=null){return new Tw(i,e,a,r,o,c,d)}function am(i){const e=Ct(i);if(e.Te===null){let a=e.path.canonicalString();e.collectionGroup!==null&&(a+="|cg:"+e.collectionGroup),a+="|f:",a+=e.filters.map((r=>Cd(r))).join(","),a+="|ob:",a+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Pc(e.limit)||(a+="|l:",a+=e.limit),e.startAt&&(a+="|lb:",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map((r=>Or(r))).join(",")),e.endAt&&(a+="|ub:",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map((r=>Or(r))).join(",")),e.Te=a}return e.Te}function im(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!fw(i.orderBy[a],e.orderBy[a]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(!_E(i.filters[a],e.filters[a]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!z_(i.startAt,e.startAt)&&z_(i.endAt,e.endAt)}function xd(i){return Et.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,a=null,r=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sw(i,e,a,r,o,c,d,y){return new Bc(i,e,a,r,o,c,d,y)}function sm(i){return new Bc(i)}function P_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bw(i){return i.collectionGroup!==null}function eo(i){const e=Ct(i);if(e.Ie===null){e.Ie=[];const a=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),a.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{a.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ac(c,r))})),a.has(Ke.keyField().canonicalString())||e.Ie.push(new Ac(Ke.keyField(),r))}return e.Ie}function Aa(i){const e=Ct(i);return e.Ee||(e.Ee=Aw(e,eo(i))),e.Ee}function Aw(i,e){if(i.limitType==="F")return U_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ac(o.field,c)}));const a=i.endAt?new bc(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new bc(i.startAt.position,i.startAt.inclusive):null;return U_(i.path,i.collectionGroup,e,i.filters,i.limit,a,r)}}function Nd(i,e,a){return new Bc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,a,i.startAt,i.endAt)}function qc(i,e){return im(Aa(i),Aa(e))&&i.limitType===e.limitType}function TE(i){return`${am(Aa(i))}|lt:${i.limitType}`}function br(i){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((o=>vE(o))).join(", ")}]`),Pc(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((o=>Or(o))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((o=>Or(o))).join(",")),`Target(${r})`})(Aa(i))}; limitType=${i.limitType})`}function Hc(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Et.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of eo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=L_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,eo(r),o)||r.endAt&&!(function(d,y,v){const _=L_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,eo(r),o))})(i,e)}function ww(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SE(i){return(e,a)=>{let r=!1;for(const o of eo(i)){const c=Rw(o,e,a);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Rw(i,e,a){const r=i.field.isKeyField()?Et.comparator(e.key,a.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?Vr(v,_):St(42886)})(i.field,e,a);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,a){this.mapKeyFn=e,this.equalsFn=a,this.inner={},this.innerSize=0}get(e){const a=this.mapKeyFn(e),r=this.inner[a];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,a){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,a]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,a]);o.push([e,a]),this.innerSize++}delete(e){const a=this.mapKeyFn(e),r=this.inner[a];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[a]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((a,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new he(Et.comparator);function ni(){return Cw}const bE=new he(Et.comparator);function $l(...i){let e=bE;for(const a of i)e=e.insert(a.key,a);return e}function AE(i){let e=bE;return i.forEach(((a,r)=>e=e.insert(a,r.overlayedDocument))),e}function As(){return no()}function wE(){return no()}function no(){return new Is((i=>i.toString()),((i,e)=>i.isEqual(e)))}const xw=new he(Et.comparator),Nw=new Oe(Et.comparator);function zt(...i){let e=Nw;for(const a of i)e=e.add(a);return e}const Dw=new Oe(Lt);function Iw(){return Dw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function RE(i){return{integerValue:""+i}}function Vw(i,e){return iw(e)?RE(e):rm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function Ow(i,e,a){return i instanceof wc?(function(o,c){const d={fields:{[uE]:{stringValue:oE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&em(c)&&(c=kc(c)),c&&(d.fields[cE]=c),{mapValue:d}})(a,e):i instanceof mo?xE(i,e):i instanceof po?NE(i,e):(function(o,c){const d=CE(o,c),y=k_(d)+k_(o.Ae);return Rd(d)&&Rd(o.Ae)?RE(y):rm(o.serializer,y)})(i,e)}function Mw(i,e,a){return i instanceof mo?xE(i,e):i instanceof po?NE(i,e):a}function CE(i,e){return i instanceof Rc?(function(r){return Rd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class wc extends Fc{}class mo extends Fc{constructor(e){super(),this.elements=e}}function xE(i,e){const a=DE(e);for(const r of i.elements)a.some((o=>xa(o,r)))||a.push(r);return{arrayValue:{values:a}}}class po extends Fc{constructor(e){super(),this.elements=e}}function NE(i,e){let a=DE(e);for(const r of i.elements)a=a.filter((o=>!xa(o,r)));return{arrayValue:{values:a}}}class Rc extends Fc{constructor(e,a){super(),this.serializer=e,this.Ae=a}}function k_(i){return _e(i.integerValue||i.doubleValue)}function DE(i){return nm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jw(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof mo&&o instanceof mo||r instanceof po&&o instanceof po?Ir(r.elements,o.elements,xa):r instanceof Rc&&o instanceof Rc?xa(r.Ae,o.Ae):r instanceof wc&&o instanceof wc})(i.transform,e.transform)}class Lw{constructor(e,a){this.version=e,this.transformResults=a}}class Ja{constructor(e,a){this.updateTime=e,this.exists=a}static none(){return new Ja}static exists(e){return new Ja(void 0,e)}static updateTime(e){return new Ja(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Gc{}function IE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new OE(i.key,Ja.none()):new To(i.key,i.data,Ja.none());{const a=i.data,r=jn.empty();let o=new Oe(Ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=a.field(c);d===null&&c.length>1&&(c=c.popLast(),d=a.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Vs(i.key,r,new $n(o.toArray()),Ja.none())}}function zw(i,e,a){i instanceof To?(function(o,c,d){const y=o.value.clone(),v=q_(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,a):i instanceof Vs?(function(o,c,d){if(!fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=q_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(VE(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,e,a):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,a)}function ao(i,e,a,r){return i instanceof To?(function(c,d,y,v){if(!fc(c.precondition,d))return y;const _=c.value.clone(),S=H_(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(i,e,a,r):i instanceof Vs?(function(c,d,y,v){if(!fc(c.precondition,d))return y;const _=H_(c.fieldTransforms,v,d),S=d.data;return S.setAll(VE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,a,r):(function(c,d,y){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,e,a)}function Uw(i,e){let a=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=CE(r.transform,o||null);c!=null&&(a===null&&(a=jn.empty()),a.set(r.field,c))}return a||null}function B_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ir(r,o,((c,d)=>jw(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class To extends Gc{constructor(e,a,r,o=[]){super(),this.key=e,this.value=a,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Gc{constructor(e,a,r,o,c=[]){super(),this.key=e,this.data=a,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(i){const e=new Map;return i.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=i.data.field(a);e.set(a,r)}})),e}function q_(i,e,a){const r=new Map;Kt(i.length===a.length,32656,{Re:a.length,Ve:i.length});for(let o=0;o<a.length;o++){const c=i[o],d=c.transform,y=e.data.field(c.field);r.set(c.field,Mw(d,y,a[o]))}return r}function H_(i,e,a){const r=new Map;for(const o of i){const c=o.transform,d=a.data.field(o.field);r.set(o.field,Ow(c,d,e))}return r}class OE extends Gc{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Gc{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,a,r,o){this.batchId=e,this.localWriteTime=a,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,a){const r=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&zw(c,e,r[o])}}applyToLocalView(e,a){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(a=ao(r,e,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(a=ao(r,e,a,this.localWriteTime));return a}applyToLocalDocumentSet(e,a){const r=wE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=a.has(o.key)?null:y;const v=IE(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((e,a)=>e.add(a.key)),zt())}isEqual(e){return this.batchId===e.batchId&&Ir(this.mutations,e.mutations,((a,r)=>B_(a,r)))&&Ir(this.baseMutations,e.baseMutations,((a,r)=>B_(a,r)))}}class lm{constructor(e,a,r,o){this.batch=e,this.commitVersion=a,this.mutationResults=r,this.docVersions=o}static from(e,a,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new lm(e,a,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,a){this.largestBatchId=e,this.mutation=a}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,a){this.count=e,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,kt;function Hw(i){switch(i){case lt.OK:return St(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return St(15467,{code:i})}}function ME(i){if(i===void 0)return ei("GRPC error has no .code"),lt.UNKNOWN;switch(i){case xe.OK:return lt.OK;case xe.CANCELLED:return lt.CANCELLED;case xe.UNKNOWN:return lt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return lt.INTERNAL;case xe.UNAVAILABLE:return lt.UNAVAILABLE;case xe.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case xe.NOT_FOUND:return lt.NOT_FOUND;case xe.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case xe.ABORTED:return lt.ABORTED;case xe.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case xe.DATA_LOSS:return lt.DATA_LOSS;default:return St(39323,{code:i})}}(kt=xe||(xe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new ki([4294967295,4294967295],0);function F_(i){const e=Fw().encode(i),a=new $v;return a.update(e),new Uint8Array(a.digest())}function G_(i){const e=new DataView(i.buffer),a=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ki([a,r],0),new ki([o,c],0)]}class om{constructor(e,a,r){if(this.bitmap=e,this.padding=a,this.hashCount=r,a<0||a>=8)throw new Zl(`Invalid padding: ${a}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&a!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*e.length-a,this.pe=ki.fromNumber(this.ge)}ye(e,a,r){let o=e.add(a.multiply(ki.fromNumber(r)));return o.compare(Gw)===1&&(o=new ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const a=F_(e),[r,o]=G_(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,a,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new om(c,o,a);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const a=F_(e),[r,o]=G_(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const a=Math.floor(e/8),r=e%8;this.bitmap[a]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,a,r,o,c){this.snapshotVersion=e,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,a,r){const o=new Map;return o.set(e,So.createSynthesizedTargetChangeForCurrentChange(e,a,r)),new Qc(wt.min(),o,new he(Lt),ni(),zt())}}class So{constructor(e,a,r,o,c){this.resumeToken=e,this.current=a,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,a,r){return new So(r,a,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,a,r,o){this.be=e,this.removedTargetIds=a,this.key=r,this.De=o}}class jE{constructor(e,a){this.targetId=e,this.Ce=a}}class LE{constructor(e,a,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=a,this.resumeToken=r,this.cause=o}}class Q_{constructor(){this.ve=0,this.Fe=Y_(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),a=zt(),r=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:a=a.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:c})}})),new So(this.Me,this.xe,e,a,r)}qe(){this.Oe=!1,this.Fe=Y_()}Qe(e,a){this.Oe=!0,this.Fe=this.Fe.insert(e,a)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ni(),this.Je=sc(),this.He=sc(),this.Ye=new he(Lt)}Ze(e){for(const a of e.be)e.De&&e.De.isFoundDocument()?this.Xe(a,e.De):this.et(a,e.key,e.De);for(const a of e.removedTargetIds)this.et(a,e.key,e.De)}tt(e){this.forEachTarget(e,(a=>{const r=this.nt(a);switch(e.state){case 0:this.rt(a)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,a){e.targetIds.length>0?e.targetIds.forEach(a):this.ze.forEach(((r,o)=>{this.rt(o)&&a(o)}))}st(e){const a=e.targetId,r=e.Ce.count,o=this.ot(a);if(o){const c=o.target;if(xd(c))if(r===0){const d=new Et(c.path);this.et(a,d,We.newNoDocument(d,wt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(a);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(a);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,_)}}}}}ut(e){const a=e.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=a;let d,y;try{d=Hi(r).toUint8Array()}catch(v){if(v instanceof lE)return Dr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new om(d,o,c)}catch(v){return Dr(v instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,a,r){return a.Ce.count===r-this.Pt(e,a.targetId)?0:2}Pt(e,a){const r=this.Ge.getRemoteKeysForTarget(a);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(a,c,null),o++)})),o}Tt(e){const a=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&xd(y.target)){const v=new Et(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,We.newNoDocument(v,e))}c.Be&&(a.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Qc(e,a,this.Ye,this.je,r);return this.je=ni(),this.Je=sc(),this.He=sc(),this.Ye=new he(Lt),o}Xe(e,a){if(!this.rt(e))return;const r=this.Et(e,a.key)?2:0;this.nt(e).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(e)),this.He=this.He.insert(a.key,this.dt(a.key).add(e))}et(e,a,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(e)),this.He=this.He.insert(a,this.dt(a).add(e)),r&&(this.je=this.je.insert(a,r))}removeTarget(e){this.ze.delete(e)}_t(e){const a=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+a.addedDocuments.size-a.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let a=this.ze.get(e);return a||(a=new Q_,this.ze.set(e,a)),a}dt(e){let a=this.He.get(e);return a||(a=new Oe(Lt),this.He=this.He.insert(e,a)),a}It(e){let a=this.Je.get(e);return a||(a=new Oe(Lt),this.Je=this.Je.insert(e,a)),a}rt(e){const a=this.ot(e)!==null;return a||mt("WatchChangeAggregator","Detected inactive target",e),a}ot(e){const a=this.ze.get(e);return a&&a.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((a=>{this.et(e,a,null)}))}Et(e,a){return this.Ge.getRemoteKeysForTarget(e).has(a)}}function sc(){return new he(Et.comparator)}function Y_(){return new he(Et.comparator)}const Yw={asc:"ASCENDING",desc:"DESCENDING"},Kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class $w{constructor(e,a){this.databaseId=e,this.useProto3Json=a}}function Dd(i,e){return i.useProto3Json||Pc(e)?e:{value:e}}function Cc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Zw(i,e){return Cc(i,e.toTimestamp())}function wa(i){return Kt(!!i,49232),wt.fromTimestamp((function(a){const r=qi(a);return new re(r.seconds,r.nanos)})(i))}function um(i,e){return Id(i,e).canonicalString()}function Id(i,e){const a=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?a:a.child(e)}function UE(i){const e=ue.fromString(i);return Kt(HE(e),10190,{key:e.toString()}),e}function Vd(i,e){return um(i.databaseId,e.path)}function ud(i,e){const a=UE(e);if(a.get(1)!==i.databaseId.projectId)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+i.databaseId.projectId);if(a.get(3)!==i.databaseId.database)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+i.databaseId.database);return new Et(kE(a))}function PE(i,e){return um(i.databaseId,e)}function Jw(i){const e=UE(i);return e.length===4?ue.emptyPath():kE(e)}function Od(i){return new ue(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kE(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K_(i,e,a){return{name:Vd(i,e),fields:a.value.mapValue.fields}}function Ww(i,e){let a;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:St(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Kt(S===void 0||typeof S=="string",58123),Xe.fromBase64String(S||"")):(Kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Xe.fromUint8Array(S||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?lt.UNKNOWN:ME(_.code);return new yt(S,_.message||"")})(d);a=new LE(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ud(i,r.document.name),c=wa(r.document.updateTime),d=r.document.createTime?wa(r.document.createTime):wt.min(),y=new jn({mapValue:{fields:r.document.fields}}),v=We.newFoundDocument(o,c,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];a=new dc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ud(i,r.document),c=r.readTime?wa(r.readTime):wt.min(),d=We.newNoDocument(o,c),y=r.removedTargetIds||[];a=new dc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ud(i,r.document),c=r.removedTargetIds||[];a=new dc([],c,o,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new qw(o,c),y=r.targetId;a=new jE(y,d)}}return a}function t2(i,e){let a;if(e instanceof To)a={update:K_(i,e.key,e.value)};else if(e instanceof OE)a={delete:Vd(i,e.key)};else if(e instanceof Vs)a={update:K_(i,e.key,e.data),updateMask:u2(e.fieldMask)};else{if(!(e instanceof Pw))return St(16599,{Vt:e.type});a={verify:Vd(i,e.key)}}return e.fieldTransforms.length>0&&(a.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw St(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(a.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Zw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(i,e.precondition)),a}function e2(i,e){return i&&i.length>0?(Kt(e!==void 0,14353),i.map((a=>(function(o,c){let d=o.updateTime?wa(o.updateTime):wa(c);return d.isEqual(wt.min())&&(d=wa(c)),new Lw(d,o.transformResults||[])})(a,e)))):[]}function n2(i,e){return{documents:[PE(i,e.path)]}}function a2(i,e){const a={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,a.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=PE(i,o);const c=(function(_){if(_.length!==0)return qE(Na.create(_,"and"))})(e.filters);c&&(a.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(I){return{field:Ar(I.field),direction:r2(I.dir)}})(S)))})(e.orderBy);d&&(a.structuredQuery.orderBy=d);const y=Dd(i,e.limit);return y!==null&&(a.structuredQuery.limit=y),e.startAt&&(a.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(a.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:a,parent:o}}function i2(i){let e=Jw(i.parent);const a=i.structuredQuery,r=a.from?a.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const S=a.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];a.where&&(c=(function(A){const I=BE(A);return I instanceof Na&&yE(I)?I.getFilters():[I]})(a.where));let d=[];a.orderBy&&(d=(function(A){return A.map((I=>(function($){return new Ac(wr($.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(a.orderBy));let y=null;a.limit&&(y=(function(A){let I;return I=typeof A=="object"?A.value:A,Pc(I)?null:I})(a.limit));let v=null;a.startAt&&(v=(function(A){const I=!!A.before,k=A.values||[];return new bc(k,I)})(a.startAt));let _=null;return a.endAt&&(_=(function(A){const I=!A.before,k=A.values||[];return new bc(k,I)})(a.endAt)),Sw(e,o,d,c,y,"F",v,_)}function s2(i,e){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(e.purpose);return a==null?null:{"goog-listen-tags":a}}function BE(i){return i.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=wr(a.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=wr(a.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wr(a.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wr(a.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(i):i.fieldFilter!==void 0?(function(a){return Ve.create(wr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(a){return Na.create(a.compositeFilter.filters.map((r=>BE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(a.compositeFilter.op))})(i):St(30097,{filter:i})}function r2(i){return Yw[i]}function l2(i){return Kw[i]}function o2(i){return Xw[i]}function Ar(i){return{fieldPath:i.canonicalString()}}function wr(i){return Ke.fromServerFormat(i.fieldPath)}function qE(i){return i instanceof Ve?(function(a){if(a.op==="=="){if(j_(a.value))return{unaryFilter:{field:Ar(a.field),op:"IS_NAN"}};if(M_(a.value))return{unaryFilter:{field:Ar(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(j_(a.value))return{unaryFilter:{field:Ar(a.field),op:"IS_NOT_NAN"}};if(M_(a.value))return{unaryFilter:{field:Ar(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(a.field),op:l2(a.op),value:a.value}}})(i):i instanceof Na?(function(a){const r=a.getFilters().map((o=>qE(o)));return r.length===1?r[0]:{compositeFilter:{op:o2(a.op),filters:r}}})(i):St(54877,{filter:i})}function u2(i){const e=[];return i.fields.forEach((a=>e.push(a.canonicalString()))),{fieldPaths:e}}function HE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,a,r,o,c=wt.min(),d=wt.min(),y=Xe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=a,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,a){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.yt=e}}function h2(i){const e=i2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Cn=new d2}addToCollectionParentIndex(e,a){return this.Cn.add(a),st.resolve()}getCollectionParents(e,a){return st.resolve(this.Cn.getEntries(a))}addFieldIndex(e,a){return st.resolve()}deleteFieldIndex(e,a){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,a){return st.resolve()}getDocumentsMatchingTarget(e,a){return st.resolve(null)}getIndexType(e,a){return st.resolve(0)}getFieldIndexes(e,a){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,a){return st.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,a){return st.resolve(Bi.min())}updateCollectionGroup(e,a,r){return st.resolve()}updateIndexEntries(e,a){return st.resolve()}}class d2{constructor(){this.index={}}add(e){const a=e.lastSegment(),r=e.popLast(),o=this.index[a]||new Oe(ue.comparator),c=!o.has(r);return this.index[a]=o.add(r),c}has(e){const a=e.lastSegment(),r=e.popLast(),o=this.index[a];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Oe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,a,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",m2=1048576;function Z_([i,e],[a,r]){const o=Lt(i,a);return o===0?Lt(e,r):o}class p2{constructor(e){this.Ir=e,this.buffer=new Oe(Z_),this.Er=0}dr(){return++this.Er}Ar(e){const a=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();Z_(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(e,a,r){this.garbageCollector=e,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){mt($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){kr(a)?mt($_,"Ignoring IndexedDB error during garbage collection: ",a):await Pr(a)}await this.Vr(3e5)}))}}class y2{constructor(e,a){this.mr=e,this.params=a}calculateTargetCount(e,a){return this.mr.gr(e).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(e,a){if(a===0)return st.resolve(Uc.ce);const r=new p2(a);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,a,r){return this.mr.removeTargets(e,a,r)}removeOrphanedDocuments(e,a){return this.mr.removeOrphanedDocuments(e,a)}collect(e,a){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(X_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(e,a)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,a){let r,o,c,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,a)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),Sr()<=Bt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function _2(i,e){return new y2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.changes=new Is((e=>e.toString()),((e,a)=>e.isEqual(a))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,a){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(a))}getEntry(e,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?st.resolve(r):this.getFromCache(e,a)}getEntries(e,a){return this.getAllFromCache(e,a)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,a){this.overlayedDocument=e,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,a,r,o){this.remoteDocumentCache=e,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,a){let r=null;return this.documentOverlayCache.getOverlay(e,a).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,a)))).next((o=>(r!==null&&ao(r.mutation,o,$n.empty(),re.now()),o)))}getDocuments(e,a){return this.remoteDocumentCache.getEntries(e,a).next((r=>this.getLocalViewOfDocuments(e,r,zt()).next((()=>r))))}getLocalViewOfDocuments(e,a,r=zt()){const o=As();return this.populateOverlays(e,o,a).next((()=>this.computeViews(e,a,o,r).next((c=>{let d=$l();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,a){const r=As();return this.populateOverlays(e,r,a).next((()=>this.computeViews(e,a,r,zt())))}populateOverlays(e,a,r){const o=[];return r.forEach((c=>{a.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{a.set(d,y)}))}))}computeViews(e,a,r,o){let c=ni();const d=no(),y=(function(){return no()})();return a.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Vs)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),ao(S.mutation,_,S.mutation.getFieldMask(),re.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),a.forEach(((_,S)=>y.set(_,new E2(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,a){const r=no();let o=new he(((d,y)=>d-y)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,a).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let S=r.get(v)||$n.empty();S=y.applyToLocalView(_,S),r.set(v,S);const A=(o.get(y.batchId)||zt()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,A=wE();S.forEach((I=>{if(!c.has(I)){const k=IE(a.get(I),r.get(I));k!==null&&A.set(I,k),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return st.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,a){return this.remoteDocumentCache.getEntries(e,a).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,a,r,o){return(function(d){return Et.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(e,a.path):bw(a)?this.getDocumentsMatchingCollectionGroupQuery(e,a,r,o):this.getDocumentsMatchingCollectionQuery(e,a,r,o)}getNextDocuments(e,a,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,a,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,a,r.largestBatchId,o-c.size):st.resolve(As());let y=uo,v=c;return d.next((_=>st.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?st.resolve():this.remoteDocumentCache.getEntry(e,S).next((I=>{v=v.insert(S,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,zt()))).next((S=>({batchId:y,changes:AE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,a){return this.getDocument(e,new Et(a)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,a,r,o){const c=a.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,c).next((y=>st.forEach(y,(v=>{const _=(function(A,I){return new Bc(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(a,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,a,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,a.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,a,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,We.newInvalidDocument(S)))}));let y=$l();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&ao(S.mutation,_,$n.empty(),re.now()),Hc(a,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,a){return st.resolve(this.Lr.get(a))}saveBundleMetadata(e,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:wa(o.createTime)}})(a)),st.resolve()}getNamedQuery(e,a){return st.resolve(this.kr.get(a))}saveNamedQuery(e,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:h2(o.bundledQuery),readTime:wa(o.readTime)}})(a)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.overlays=new he(Et.comparator),this.qr=new Map}getOverlay(e,a){return st.resolve(this.overlays.get(a))}getOverlays(e,a){const r=As();return st.forEach(a,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,a,r){return r.forEach(((o,c)=>{this.St(e,a,c)})),st.resolve()}removeOverlaysForBatchId(e,a,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),st.resolve()}getOverlaysForCollection(e,a,r){const o=As(),c=a.length+1,d=new Et(a.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return st.resolve(o)}getOverlaysForCollectionGroup(e,a,r,o){let c=new he(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=As(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=As(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return st.resolve(y)}St(e,a,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Bw(a,r));let c=this.qr.get(a);c===void 0&&(c=zt(),this.qr.set(a,c)),this.qr.set(a,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,a){return this.sessionToken=a,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,a){const r=new Ue(e,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,a){e.forEach((r=>this.addReference(r,a)))}removeReference(e,a){this.Gr(new Ue(e,a))}zr(e,a){e.forEach((r=>this.removeReference(r,a)))}jr(e){const a=new Et(new ue([])),r=new Ue(a,e),o=new Ue(a,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const a=new Et(new ue([])),r=new Ue(a,e),o=new Ue(a,e+1);let c=zt();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const a=new Ue(e,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,a){this.key=e,this.Yr=a}static $r(e,a){return Et.comparator(e.key,a.key)||Lt(e.Yr,a.Yr)}static Kr(e,a){return Lt(e.Yr,a.Yr)||Et.comparator(e.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,a){this.indexManager=e,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,a,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kw(c,a,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return st.resolve(d)}lookupMutationBatch(e,a){return st.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(e,a){const r=a+1,o=this.ei(r),c=o<0?0:o;return st.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?tm:this.tr-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,a){const r=new Ue(a,0),o=new Ue(a,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),st.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,a){let r=new Oe(Lt);return a.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),st.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,a){const r=a.path,o=r.length+1;let c=r;Et.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new Et(c),0);let y=new Oe(Lt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),st.resolve(this.ti(y))}ti(e){const a=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&a.push(o)})),a}removeMutationBatch(e,a){Kt(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return st.forEach(a.mutations,(o=>{const c=new Ue(o.key,a.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,a){const r=new Ue(a,0),o=this.Zr.firstAfterOrEqual(r);return st.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}ni(e,a){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const a=this.ei(e);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.ri=e,this.docs=(function(){return new he(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,a){const r=a.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const a=this.docs.get(e);a&&(this.docs=this.docs.remove(e),this.size-=a.size)}getEntry(e,a){const r=this.docs.get(a);return st.resolve(r?r.document.mutableCopy():We.newInvalidDocument(a))}getEntries(e,a){let r=ni();return a.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():We.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(e,a,r,o){let c=ni();const d=a.path,y=new Et(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tw(WA(S),r)<=0||(o.has(S.key)||Hc(a,S))&&(c=c.insert(S.key,S.mutableCopy()))}return st.resolve(c)}getAllFromCollectionGroup(e,a,r,o){St(9500)}ii(e,a){return st.forEach(this.docs,(r=>a(r)))}newChangeBuffer(e){return new C2(this)}getSize(e){return st.resolve(this.size)}}class C2 extends v2{constructor(e){super(),this.Nr=e}applyChanges(e){const a=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),st.waitFor(a)}getFromCache(e,a){return this.Nr.getEntry(e,a)}getAllFromCache(e,a){return this.Nr.getEntries(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.si=new Is((a=>am(a)),im),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new cm,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,a){return this.si.forEach(((r,o)=>a(o))),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),st.resolve()}Pr(e){this.si.set(e.target,e);const a=e.targetId;a>this.highestTargetId&&(this.ai=new Mr(a),this.highestTargetId=a),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,a){return this.Pr(a),this.targetCount+=1,st.resolve()}updateTargetData(e,a){return this.Pr(a),st.resolve()}removeTargetData(e,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,a,r){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=a&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),st.waitFor(c).next((()=>o))}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,a){const r=this.si.get(a)||null;return st.resolve(r)}addMatchingKeys(e,a,r){return this._i.Wr(a,r),st.resolve()}removeMatchingKeys(e,a,r){this._i.zr(a,r);const o=this.persistence.referenceDelegate,c=[];return o&&a.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),st.waitFor(c)}removeMatchingKeysForTargetId(e,a){return this._i.jr(a),st.resolve()}getMatchingKeysForTargetId(e,a){const r=this._i.Hr(a);return st.resolve(r)}containsKey(e,a){return st.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,a){this.ui={},this.overlays={},this.ci=new Uc(0),this.li=!1,this.li=!0,this.hi=new A2,this.referenceDelegate=e(this),this.Pi=new x2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(o){return new R2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c2(a),this.Ii=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let a=this.overlays[e.toKey()];return a||(a=new b2,this.overlays[e.toKey()]=a),a}getMutationQueue(e,a){let r=this.ui[e.toKey()];return r||(r=new w2(a,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,a,r){mt("MemoryPersistence","Starting transaction:",e);const o=new N2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,a){return st.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,a))))}}class N2 extends nw{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Ri=new cm,this.Vi=null}static mi(e){return new hm(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),st.resolve()}removeReference(e,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),st.resolve()}markPotentiallyOrphaned(e,a){return this.fi.add(a.toString()),st.resolve()}removeTarget(e,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,a.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,a)))}Ei(){this.Vi=new Set}di(e){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(r=>{const o=Et.fromPath(r);return this.gi(e,o).next((c=>{c||a.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,a.apply(e))))}updateLimboDocument(e,a){return this.gi(e,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(e){return 0}gi(e,a){return st.or([()=>st.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(e,a),()=>this.persistence.Ai(e,a)])}}class xc{constructor(e,a){this.persistence=e,this.pi=new Is((r=>sw(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=_2(this,a)}static mi(e,a){return new xc(e,a)}Ei(){}di(e){return st.resolve()}forEachTarget(e,a){return this.persistence.getTargetCache().forEachTarget(e,a)}gr(e){const a=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>a.next((o=>r+o))))}wr(e){let a=0;return this.pr(e,(r=>{a++})).next((()=>a))}pr(e,a){return st.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?st.resolve():a(o)))))}removeTargets(e,a,r){return this.persistence.getTargetCache().removeTargets(e,a,r)}removeOrphanedDocuments(e,a){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,a).next((y=>{y||(r++,c.removeEntry(d,wt.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,a){return this.pi.set(a,e.currentSequenceNumber),st.resolve()}removeTarget(e,a){const r=a.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,a,r){return this.pi.set(r,e.currentSequenceNumber),st.resolve()}removeReference(e,a,r){return this.pi.set(r,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,a){return this.pi.set(a,e.currentSequenceNumber),st.resolve()}Ti(e){let a=e.key.toString().length;return e.isFoundDocument()&&(a+=cc(e.data.value)),a}br(e,a,r){return st.or([()=>this.persistence.Ai(e,a),()=>this.persistence.getTargetCache().containsKey(e,a),()=>{const o=this.pi.get(a);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,a,r,o){this.targetId=e,this.fromCache=a,this.Es=r,this.ds=o}static As(e,a){let r=zt(),o=zt();for(const c of a.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new fm(e,a.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Sb()?8:aw(Eb())>0?6:4})()}initialize(e,a){this.ps=e,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(e,a,r,o){const c={result:null};return this.ys(e,a).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,a,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new D2;return this.Ss(e,a,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,a,d,y.size)}))})).next((()=>c.result))}bs(e,a,r,o){return r.documentReadCount<this.fs?(Sr()<=Bt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",br(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Sr()<=Bt.DEBUG&&mt("QueryEngine","Query:",br(a),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Sr()<=Bt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",br(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Aa(a))):st.resolve())}ys(e,a){if(P_(a))return st.resolve(null);let r=Aa(a);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Nd(a,null,"F"),r=Aa(a)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(a,y);return this.Cs(a,_,d,v.readTime)?this.ys(e,Nd(a,null,"F")):this.vs(e,_,a,v)}))))})))))}ws(e,a,r,o){return P_(a)||o.isEqual(wt.min())?st.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(a,c);return this.Cs(a,d,r,o)?st.resolve(null):(Sr()<=Bt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),br(a)),this.vs(e,d,a,JA(o,uo)).next((y=>y)))}))}Ds(e,a){let r=new Oe(SE(e));return a.forEach(((o,c)=>{Hc(e,c)&&(r=r.add(c))})),r}Cs(e,a,r,o){if(e.limit===null)return!1;if(r.size!==a.size)return!0;const c=e.limitType==="F"?a.last():a.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,a,r){return Sr()<=Bt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",br(a)),this.ps.getDocumentsMatchingQuery(e,a,Bi.min(),r)}vs(e,a,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(a.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="LocalStore",V2=3e8;class O2{constructor(e,a,r,o){this.persistence=e,this.Fs=a,this.serializer=o,this.Ms=new he(Lt),this.xs=new Is((c=>am(c)),im),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>e.collect(a,this.Ms)))}}function M2(i,e,a,r){return new O2(i,e,a,r)}async function QE(i,e){const a=Ct(i);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return a.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,a.Bs(e),a.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=zt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return a.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function j2(i,e){const a=Ct(i);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const A=_.batch,I=A.keys();let k=st.resolve();return I.forEach(($=>{k=k.next((()=>S.getEntry(v,$))).next((Z=>{const F=_.docVersions.get($);Kt(F!==null,48541),Z.version.compareTo(F)<0&&(A.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),S.addEntry(Z)))}))})),k.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(a,r,e,c).next((()=>c.apply(r))).next((()=>a.mutationQueue.performConsistencyCheck(r))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=zt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>a.localDocuments.getDocuments(r,o)))}))}function YE(i){const e=Ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>e.Pi.getLastRemoteSnapshotVersion(a)))}function L2(i,e){const a=Ct(i),r=e.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const y=[];e.targetChanges.forEach(((S,A)=>{const I=o.get(A);if(!I)return;y.push(a.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>a.Pi.addMatchingKeys(c,S.addedDocuments,A))));let k=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(S.resumeToken,r)),o=o.insert(A,k),(function(Z,F,rt){return Z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=V2?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(I,k,S)&&y.push(a.Pi.updateTargetData(c,k))}));let v=ni(),_=zt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(a.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(z2(c,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(wt.min())){const S=a.Pi.getLastRemoteSnapshotVersion(c).next((A=>a.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(S)}return st.waitFor(y).next((()=>d.apply(c))).next((()=>a.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(a.Ms=o,c)))}function z2(i,e,a){let r=zt(),o=zt();return a.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=ni();return a.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(wt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):mt(dm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function U2(i,e){const a=Ct(i);return a.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tm),a.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function P2(i,e){const a=Ct(i);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return a.Pi.getTargetData(r,e).next((c=>c?(o=c,st.resolve(o)):a.Pi.allocateTargetId(r).next((d=>(o=new zi(e,d,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=a.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(e,r.targetId)),r}))}async function Md(i,e,a){const r=Ct(i),o=r.Ms.get(e),c=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!kr(d))throw d;mt(dm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function J_(i,e,a){const r=Ct(i);let o=wt.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const A=Ct(v),I=A.xs.get(S);return I!==void 0?st.resolve(A.Ms.get(I)):A.Pi.getTargetData(_,S)})(r,d,Aa(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,a?o:wt.min(),a?c:zt()))).next((y=>(k2(r,ww(e),y),{documents:y,Qs:c})))))}function k2(i,e,a){let r=i.Os.get(e)||wt.min();a.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class W_{constructor(){this.activeTargetIds=Iw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B2{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,a,r){}addLocalQueryTarget(e,a=!0){return a&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,a,r){this.xo[e]=a}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,a,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){mt(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function jd(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const a=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Tc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,a,r,o,c){const d=jd(),y=this.zo(e,a.toUriEncodedString());mt(cd,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),S=Xd(_);return this.Jo(e,y,v,r,S).then((A=>(mt(cd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Dr(cd,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",r),A}))}Ho(e,a,r,o,c,d){return this.Go(e,a,r,o,c)}jo(e,a,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,a){const r=H2[e];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class Q2 extends F2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,a,r,o,c){const d=jd();return new Promise(((y,v)=>{const _=new Zv;_.setWithCredentials(!0),_.listenOnce(Jv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case uc.NO_ERROR:const A=_.getResponseJson();mt(Ze,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case uc.TIMEOUT:mt(Ze,`RPC '${e}' ${d} timed out`),v(new yt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const I=_.getStatus();if(mt(Ze,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const $=k?.error;if($&&$.status&&$.message){const Z=(function(rt){const q=rt.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(q)>=0?q:lt.UNKNOWN})($.status);v(new yt(Z,$.message))}else v(new yt(lt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new yt(lt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{mt(Ze,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);mt(Ze,`RPC '${e}' ${d} sending request:`,o),_.send(a,"POST",S,r,15)}))}T_(e,a,r){const o=jd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=eE(),y=tE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,r),v.encodeInitMessageHeaders=!0;const S=c.join("");mt(Ze,`Creating RPC '${e}' stream ${o}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let I=!1,k=!1;const $=new G2({Yo:F=>{k?mt(Ze,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(mt(Ze,`Opening RPC '${e}' stream ${o} transport.`),A.open(),I=!0),mt(Ze,`RPC '${e}' stream ${o} sending:`,F),A.send(F))},Zo:()=>A.close()}),Z=(F,rt,q)=>{F.listen(rt,(tt=>{try{q(tt)}catch(it){setTimeout((()=>{throw it}),0)}}))};return Z(A,Xl.EventType.OPEN,(()=>{k||(mt(Ze,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),Z(A,Xl.EventType.CLOSE,(()=>{k||(k=!0,mt(Ze,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(A))})),Z(A,Xl.EventType.ERROR,(F=>{k||(k=!0,Dr(Ze,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),$.a_(new yt(lt.UNAVAILABLE,"The operation could not be completed")))})),Z(A,Xl.EventType.MESSAGE,(F=>{if(!k){const rt=F.data[0];Kt(!!rt,16349);const q=rt,tt=q?.error||q[0]?.error;if(tt){mt(Ze,`RPC '${e}' stream ${o} received error:`,tt);const it=tt.status;let ht=(function(R){const x=xe[R];if(x!==void 0)return ME(x)})(it),dt=tt.message;ht===void 0&&(ht=lt.INTERNAL,dt="Unknown error status: "+it+" with message "+tt.message),k=!0,$.a_(new yt(ht,dt)),A.close()}else mt(Ze,`RPC '${e}' stream ${o} received:`,rt),$.u_(rt)}})),Z(y,Wv.STAT_EVENT,(F=>{F.stat===bd.PROXY?mt(Ze,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===bd.NOPROXY&&mt(Ze,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((a=>a===e))}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(i){return new $w(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,a,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=a,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class XE{constructor(e,a,r,o,c,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(e,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():a&&a.code===lt.RESOURCE_EXHAUSTED?(ei(a.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(a)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===a&&this.G_(r,o)}),(r=>{e((()=>{const o=new yt(lt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,a){const r=this.W_(this.D_);this.stream=this.j_(e,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return mt(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return a=>{this.Mi.enqueueAndForget((()=>this.D_===e?a():(mt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y2 extends XE{constructor(e,a,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,o,d),this.serializer=c}j_(e,a){return this.connection.T_("Listen",e,a)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const a=Ww(this.serializer,e),r=(function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?wa(d.readTime):wt.min()})(e);return this.listener.H_(a,r)}Y_(e){const a={};a.database=Od(this.serializer),a.addTarget=(function(c,d){let y;const v=d.target;if(y=xd(v)?{documents:n2(c,v)}:{query:a2(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=zE(c,d.resumeToken);const _=Dd(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(wt.min())>0){y.readTime=Cc(c,d.snapshotVersion.toTimestamp());const _=Dd(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=s2(this.serializer,e);r&&(a.labels=r),this.q_(a)}Z_(e){const a={};a.database=Od(this.serializer),a.removeTarget=e,this.q_(a)}}class K2 extends XE{constructor(e,a,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,a){return this.connection.T_("Write",e,a)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const a=e2(e.writeResults,e.commitTime),r=wa(e.commitTime);return this.listener.na(r,a)}ra(){const e={};e.database=Od(this.serializer),this.q_(e)}ea(e){const a={streamToken:this.lastStreamToken,writes:e.map((r=>t2(this.serializer,r)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class $2 extends X2{constructor(e,a,r,o){super(),this.authCredentials=e,this.appCheckCredentials=a,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Id(a,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(lt.UNKNOWN,c.toString())}))}Ho(e,a,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Id(a,r),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(lt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(e,a){this.asyncQueue=e,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const a=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ei(a),this.aa=!1):mt("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class J2{constructor(e,a,r,o,c){this.localStore=e,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Os(this)&&(mt(xs,"Restarting streams for network reachability change."),await(async function(v){const _=Ct(v);_.Ea.add(4),await bo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Kc(_)})(this))}))})),this.Ra=new Z2(r,o)}}async function Kc(i){if(Os(i))for(const e of i.da)await e(!0)}async function bo(i){for(const e of i.da)await e(!1)}function $E(i,e){const a=Ct(i);a.Ia.has(e.targetId)||(a.Ia.set(e.targetId,e),ym(a)?gm(a):Br(a).O_()&&pm(a,e))}function mm(i,e){const a=Ct(i),r=Br(a);a.Ia.delete(e),r.O_()&&ZE(a,e),a.Ia.size===0&&(r.O_()?r.L_():Os(a)&&a.Ra.set("Unknown"))}function pm(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const a=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(a)}Br(i).Y_(e)}function ZE(i,e){i.Va.Ue(e),Br(i).Z_(e)}function gm(i){i.Va=new Qw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Br(i).start(),i.Ra.ua()}function ym(i){return Os(i)&&!Br(i).x_()&&i.Ia.size>0}function Os(i){return Ct(i).Ea.size===0}function JE(i){i.Va=void 0}async function W2(i){i.Ra.set("Online")}async function tR(i){i.Ia.forEach(((e,a)=>{pm(i,e)}))}async function eR(i,e){JE(i),ym(i)?(i.Ra.ha(e),gm(i)):i.Ra.set("Unknown")}async function nR(i,e,a){if(i.Ra.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(i,e)}catch(r){mt(xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nc(i,r)}else if(e instanceof dc?i.Va.Ze(e):e instanceof jE?i.Va.st(e):i.Va.tt(e),!a.isEqual(wt.min()))try{const r=await YE(i.localStore);a.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Xe.EMPTY_BYTE_STRING,S.snapshotVersion)),ZE(c,v);const A=new zi(S.target,v,_,S.sequenceNumber);pm(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(i,a)}catch(r){mt(xs,"Failed to raise snapshot:",r),await Nc(i,r)}}async function Nc(i,e,a){if(!kr(e))throw e;i.Ea.add(1),await bo(i),i.Ra.set("Offline"),a||(a=()=>YE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{mt(xs,"Retrying IndexedDB access"),await a(),i.Ea.delete(1),await Kc(i)}))}function WE(i,e){return e().catch((a=>Nc(i,a,e)))}async function Xc(i){const e=Ct(i),a=Gi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tm;for(;aR(e);)try{const o=await U2(e.localStore,r);if(o===null){e.Ta.length===0&&a.L_();break}r=o.batchId,iR(e,o)}catch(o){await Nc(e,o)}t0(e)&&e0(e)}function aR(i){return Os(i)&&i.Ta.length<10}function iR(i,e){i.Ta.push(e);const a=Gi(i);a.O_()&&a.X_&&a.ea(e.mutations)}function t0(i){return Os(i)&&!Gi(i).x_()&&i.Ta.length>0}function e0(i){Gi(i).start()}async function sR(i){Gi(i).ra()}async function rR(i){const e=Gi(i);for(const a of i.Ta)e.ea(a.mutations)}async function lR(i,e,a){const r=i.Ta.shift(),o=lm.from(r,e,a);await WE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Xc(i)}async function oR(i,e){e&&Gi(i).X_&&await(async function(r,o){if((function(d){return Hw(d)&&d!==lt.ABORTED})(o.code)){const c=r.Ta.shift();Gi(r).B_(),await WE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Xc(r)}})(i,e),t0(i)&&e0(i)}async function av(i,e){const a=Ct(i);a.asyncQueue.verifyOperationInProgress(),mt(xs,"RemoteStore received new credentials");const r=Os(a);a.Ea.add(3),await bo(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(e),a.Ea.delete(3),await Kc(a)}async function uR(i,e){const a=Ct(i);e?(a.Ea.delete(2),await Kc(a)):e||(a.Ea.add(2),await bo(a),a.Ra.set("Unknown"))}function Br(i){return i.ma||(i.ma=(function(a,r,o){const c=Ct(a);return c.sa(),new Y2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:W2.bind(null,i),t_:tR.bind(null,i),r_:eR.bind(null,i),H_:nR.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ym(i)?gm(i):i.Ra.set("Unknown")):(await i.ma.stop(),JE(i))}))),i.ma}function Gi(i){return i.fa||(i.fa=(function(a,r,o){const c=Ct(a);return c.sa(),new K2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:sR.bind(null,i),r_:oR.bind(null,i),ta:rR.bind(null,i),na:lR.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Xc(i)):(await i.fa.stop(),i.Ta.length>0&&(mt(xs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,a,r,o,c){this.asyncQueue=e,this.timerId=a,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,a,r,o,c){const d=Date.now()+r,y=new _m(e,a,d,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(i,e){if(ei("AsyncQueue",`${e}: ${i}`),kr(i))return new yt(lt.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{static emptySet(e){return new xr(e.comparator)}constructor(e){this.comparator=e?(a,r)=>e(a,r)||Et.comparator(a.key,r.key):(a,r)=>Et.comparator(a.key,r.key),this.keyedMap=$l(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const a=this.keyedMap.get(e);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((a,r)=>(e(a),!1)))}add(e){const a=this.delete(e.key);return a.copy(a.keyedMap.insert(e.key,e),a.sortedSet.insert(e,null))}delete(e){const a=this.get(e);return a?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(a)):this}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const a=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((a=>{e.push(a.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,a){const r=new xr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.ga=new he(Et.comparator)}track(e){const a=e.doc.key,r=this.ga.get(a);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(a,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(a):e.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(a,e)}ya(){const e=[];return this.ga.inorderTraversal(((a,r)=>{e.push(r)})),e}}class jr{constructor(e,a,r,o,c,d,y,v,_){this.query=e,this.docs=a,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,a,r,o,c){const d=[];return a.forEach((y=>{d.push({type:0,doc:y})})),new jr(e,a,xr.emptySet(a),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const a=this.docChanges,r=e.docChanges;if(a.length!==r.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==r[o].type||!a[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hR{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const o=Ct(a),c=o.queries;o.queries=sv(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new yt(lt.ABORTED,"Firestore shutting down"))}}function sv(){return new Is((i=>TE(i)),qc)}async function fR(i,e){const a=Ct(i);let r=3;const o=e.query;let c=a.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new cR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await a.onListen(o,!0);break;case 1:c.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(d){const y=vm(d,`Initialization of query '${br(e.query)}' failed`);return void e.onError(y)}a.queries.set(o,c),c.Sa.push(e),e.va(a.onlineState),c.wa&&e.Fa(c.wa)&&Em(a)}async function dR(i,e){const a=Ct(i),r=e.query;let o=3;const c=a.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function mR(i,e){const a=Ct(i);let r=!1;for(const o of e){const c=o.query,d=a.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Em(a)}function pR(i,e,a){const r=Ct(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(a);r.queries.delete(e)}function Em(i){i.Ca.forEach((e=>{e.next()}))}var Ld,rv;(rv=Ld||(Ld={})).Ma="default",rv.Cache="cache";class gR{constructor(e,a,r){this.query=e,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let a=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),a=!0):this.La(e,this.onlineState)&&(this.ka(e),a=!0),this.Na=e,a}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),a=!0),a}La(e,a){if(!e.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||a==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class yR{constructor(e,a){this.query=e,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=SE(e),this.tu=new xr(this.eu)}get nu(){return this.Ya}ru(e,a){const r=a?a.iu:new iv,o=a?a.tu:this.tu;let c=a?a.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const I=o.get(S),k=Hc(this.query,A)?A:null,$=!!I&&this.mutatedKeys.has(I.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;I&&k?I.data.isEqual(k.data)?$!==Z&&(r.track({type:3,doc:k}),F=!0):this.su(I,k)||(r.track({type:2,doc:k}),F=!0,(v&&this.eu(k,v)>0||_&&this.eu(k,_)<0)&&(y=!0)):!I&&k?(r.track({type:0,doc:k}),F=!0):I&&!k&&(r.track({type:1,doc:I}),F=!0,(v||_)&&(y=!0)),F&&(k?(d=d.add(k),c=Z?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,a){return e.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(e,a,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(k,$){const Z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:F})}};return Z(k)-Z($)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),o=o??!1;const y=a&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new jr(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),e.modifiedDocuments.forEach((a=>{})),e.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return e.forEach((r=>{this.Xa.has(r)||a.push(new a0(r))})),this.Xa.forEach((r=>{e.has(r)||a.push(new n0(r))})),a}cu(e){this.Ya=e.Qs,this.Xa=zt();const a=this.ru(e.documents);return this.applyChanges(a,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class _R{constructor(e,a,r){this.query=e,this.targetId=a,this.view=r}}class vR{constructor(e){this.key=e,this.hu=!1}}class ER{constructor(e,a,r,o,c,d){this.localStore=e,this.remoteStore=a,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Is((y=>TE(y)),qc),this.Iu=new Map,this.Eu=new Set,this.du=new he(Et.comparator),this.Au=new Map,this.Ru=new cm,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TR(i,e,a=!0){const r=u0(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await i0(r,e,a,!0),o}async function SR(i,e){const a=u0(i);await i0(a,e,!0,!1)}async function i0(i,e,a,r){const o=await P2(i.localStore,Aa(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,a);let y;return r&&(y=await bR(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&a&&$E(i.remoteStore,o),y}async function bR(i,e,a,r,o){i.pu=(A,I,k)=>(async function(Z,F,rt,q){let tt=F.view.ru(rt);tt.Cs&&(tt=await J_(Z.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,tt))));const it=q&&q.targetChanges.get(F.targetId),ht=q&&q.targetMismatches.get(F.targetId)!=null,dt=F.view.applyChanges(tt,Z.isPrimaryClient,it,ht);return ov(Z,F.targetId,dt.au),dt.snapshot})(i,A,I,k);const c=await J_(i.localStore,e,!0),d=new yR(e,c.Qs),y=d.ru(c.documents),v=So.createSynthesizedTargetChangeForCurrentChange(a,r&&i.onlineState!=="Offline",o),_=d.applyChanges(y,i.isPrimaryClient,v);ov(i,a,_.au);const S=new _R(e,a,d);return i.Tu.set(e,S),i.Iu.has(a)?i.Iu.get(a).push(e):i.Iu.set(a,[e]),_.snapshot}async function AR(i,e,a){const r=Ct(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!qc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Md(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),a&&mm(r.remoteStore,o.targetId),zd(r,o.targetId)})).catch(Pr)):(zd(r,o.targetId),await Md(r.localStore,o.targetId,!0))}async function wR(i,e){const a=Ct(i),r=a.Tu.get(e),o=a.Iu.get(r.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),mm(a.remoteStore,r.targetId))}async function RR(i,e,a){const r=OR(i);try{const o=await(function(d,y){const v=Ct(d),_=re.now(),S=y.reduce(((k,$)=>k.add($.key)),zt());let A,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let $=ni(),Z=zt();return v.Ns.getEntries(k,S).next((F=>{$=F,$.forEach(((rt,q)=>{q.isValidDocument()||(Z=Z.add(rt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(k,$))).next((F=>{A=F;const rt=[];for(const q of y){const tt=Uw(q,A.get(q.key).overlayedDocument);tt!=null&&rt.push(new Vs(q.key,tt,mE(tt.value.mapValue),Ja.exists(!0)))}return v.mutationQueue.addMutationBatch(k,_,rt,y)})).next((F=>{I=F;const rt=F.applyToLocalDocumentSet(A,Z);return v.documentOverlayCache.saveOverlays(k,F.batchId,rt)}))})).then((()=>({batchId:I.batchId,changes:AE(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(Lt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,a),await Ao(r,o.changes),await Xc(r.remoteStore)}catch(o){const c=vm(o,"Failed to persist write");a.reject(c)}}async function s0(i,e){const a=Ct(i);try{const r=await L2(a.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=a.Au.get(c);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await Ao(a,r,e)}catch(r){await Pr(r)}}function lv(i,e,a){const r=Ct(i);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const o=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ct(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,A)=>{for(const I of A.Sa)I.va(y)&&(_=!0)})),_&&Em(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CR(i,e,a){const r=Ct(i);r.sharedClientState.updateQueryState(e,"rejected",a);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new he(Et.comparator);d=d.insert(c,We.newNoDocument(c,wt.min()));const y=zt().add(c),v=new Qc(wt.min(),new Map,new he(Lt),d,y);await s0(r,v),r.du=r.du.remove(c),r.Au.delete(e),Sm(r)}else await Md(r.localStore,e,!1).then((()=>zd(r,e,a))).catch(Pr)}async function xR(i,e){const a=Ct(i),r=e.batch.batchId;try{const o=await j2(a.localStore,e);l0(a,r,null),r0(a,r),a.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(a,o)}catch(o){await Pr(o)}}async function NR(i,e,a){const r=Ct(i);try{const o=await(function(d,y){const v=Ct(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((A=>(Kt(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);l0(r,e,a),r0(r,e),r.sharedClientState.updateMutationState(e,"rejected",a),await Ao(r,o)}catch(o){await Pr(o)}}function r0(i,e){(i.mu.get(e)||[]).forEach((a=>{a.resolve()})),i.mu.delete(e)}function l0(i,e,a){const r=Ct(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(a?c.reject(a):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function zd(i,e,a=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),a&&i.Pu.yu(r,a);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||o0(i,r)}))}function o0(i,e){i.Eu.delete(e.path.canonicalString());const a=i.du.get(e);a!==null&&(mm(i.remoteStore,a),i.du=i.du.remove(e),i.Au.delete(a),Sm(i))}function ov(i,e,a){for(const r of a)r instanceof n0?(i.Ru.addReference(r.key,e),DR(i,r)):r instanceof a0?(mt(Tm,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||o0(i,r.key)):St(19791,{wu:r})}function DR(i,e){const a=e.key,r=a.path.canonicalString();i.du.get(a)||i.Eu.has(r)||(mt(Tm,"New document in limbo: "+a),i.Eu.add(r),Sm(i))}function Sm(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const a=new Et(ue.fromString(e)),r=i.fu.next();i.Au.set(r,new vR(a)),i.du=i.du.insert(a,r),$E(i.remoteStore,new zi(Aa(sm(a.path)),r,"TargetPurposeLimboResolution",Uc.ce))}}async function Ao(i,e,a){const r=Ct(i),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,a).then((_=>{if((_||a)&&r.isPrimaryClient){const S=_?!_.fromCache:a?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=fm.As(v.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=Ct(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>st.forEach(_,(I=>st.forEach(I.Es,(k=>S.persistence.referenceDelegate.addReference(A,I.targetId,k))).next((()=>st.forEach(I.ds,(k=>S.persistence.referenceDelegate.removeReference(A,I.targetId,k)))))))))}catch(A){if(!kr(A))throw A;mt(dm,"Failed to update sequence numbers: "+A)}for(const A of _){const I=A.targetId;if(!A.fromCache){const k=S.Ms.get(I),$=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(I,Z)}}})(r.localStore,c))}async function IR(i,e){const a=Ct(i);if(!a.currentUser.isEqual(e)){mt(Tm,"User change. New user:",e.toKey());const r=await QE(a.localStore,e);a.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new yt(lt.CANCELLED,d))}))})),c.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ao(a,r.Ls)}}function VR(i,e){const a=Ct(i),r=a.Au.get(e);if(r&&r.hu)return zt().add(r.key);{let o=zt();const c=a.Iu.get(e);if(!c)return o;for(const d of c){const y=a.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function u0(i){const e=Ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=s0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.Pu.H_=mR.bind(null,e.eventManager),e.Pu.yu=pR.bind(null,e.eventManager),e}function OR(i){const e=Ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,a){return null}Mu(e,a){return null}vu(e){return M2(this.persistence,new I2,e.initialUser,this.serializer)}Cu(e){return new GE(hm.mi,this.serializer)}Du(e){return new B2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class MR extends Dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,a){Kt(this.persistence.referenceDelegate instanceof xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g2(r,e.asyncQueue,a)}Cu(e){const a=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new GE((r=>xc.mi(r,a)),this.serializer)}}class Ud{async initialize(e,a){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hR})()}createDatastore(e){const a=Yc(e.databaseInfo.databaseId),r=(function(c){return new Q2(c)})(e.databaseInfo);return(function(c,d,y,v){return new $2(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,a)}createRemoteStore(e){return(function(r,o,c,d,y){return new J2(r,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(a=>lv(this.syncEngine,a,0)),(function(){return ev.v()?new ev:new q2})())}createSyncEngine(e,a){return(function(o,c,d,y,v,_,S){const A=new ER(o,c,d,y,v,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const r=Ct(a);mt(xs,"RemoteStore shutting down."),r.Ea.add(5),await bo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ud.provider={build:()=>new Ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,a){setTimeout((()=>{this.muted||e(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class LR{constructor(e,a,r,o,c){this.authCredentials=e,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{mt(Qi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(mt(Qi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(a){const r=vm(a,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fd(i,e){i.asyncQueue.verifyOperationInProgress(),mt(Qi,"Initializing OfflineComponentProvider");const a=i.configuration;await e.initialize(a);let r=a.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function uv(i,e){i.asyncQueue.verifyOperationInProgress();const a=await zR(i);mt(Qi,"Initializing OnlineComponentProvider"),await e.initialize(a,i.configuration),i.setCredentialChangeListener((r=>av(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>av(e.remoteStore,o))),i._onlineComponents=e}async function zR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt(Qi,"Using user provided OfflineComponentProvider");try{await fd(i,i._uninitializedComponentsProvider._offline)}catch(e){const a=e;if(!(function(o){return o.name==="FirebaseError"?o.code===lt.FAILED_PRECONDITION||o.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;Dr("Error using user provided cache. Falling back to memory cache: "+a),await fd(i,new Dc)}}else mt(Qi,"Using default OfflineComponentProvider"),await fd(i,new MR(void 0));return i._offlineComponents}async function c0(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt(Qi,"Using user provided OnlineComponentProvider"),await uv(i,i._uninitializedComponentsProvider._online)):(mt(Qi,"Using default OnlineComponentProvider"),await uv(i,new Ud))),i._onlineComponents}function UR(i){return c0(i).then((e=>e.syncEngine))}async function cv(i){const e=await c0(i),a=e.eventManager;return a.onListen=TR.bind(null,e.syncEngine),a.onUnlisten=AR.bind(null,e.syncEngine),a.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),a.onLastRemoteStoreUnlisten=wR.bind(null,e.syncEngine),a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f0,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m2)throw new yt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,a,r,o){this._authCredentials=e,this._appCheckCredentials=a,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kA;switch(r.type){case"firstParty":return new FA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=hv.get(a);r&&(mt("ComponentProvider","Removing Datastore"),hv.delete(a),r.terminate())})(this),Promise.resolve()}}function PR(i,e,a,r={}){i=Cr(i,bm);const o=Xd(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${a}`;o&&(pb(`https://${y}`),vb("Firestore",!0)),c.host!==f0&&c.host!==y&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!yc(v,d)&&(i._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=Je.MOCK_USER;else{_=gb(r.mockUserToken,i._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new yt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Je(A)}i._authCredentials=new BA(new aE(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $c(this.firestore,e,this._query)}}class Pe{constructor(e,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pe(this.firestore,e,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,a,r){if(Eo(a,Pe._jsonSchema))return new Pe(e,r||null,new Et(ue.fromString(a.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ne("string",Pe._jsonSchemaVersion),referencePath:Ne("string")};class go extends $c{constructor(e,a,r){super(e,a,sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pe(this.firestore,null,new Et(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function kR(i,e,...a){if(i=ro(i),arguments.length===1&&(e=Jd.newId()),$A("doc","path",e),i instanceof bm){const r=ue.fromString(e,...a);return R_(r),new Pe(i,null,new Et(r))}{if(!(i instanceof Pe||i instanceof go))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ue.fromString(e,...a));return R_(r),new Pe(i.firestore,i instanceof go?i.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const r=hd();r&&mt(mv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const a=hd();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const a=hd();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kr(e))throw e;mt(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const a=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ei("INTERNAL UNHANDLED ERROR: ",gv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(e,a,r){this.uc(),this.oc.indexOf(e)>-1&&(a=0);const o=_m.createAndSchedule(this,e,a,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const a of this.tc)if(a.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),e!=="all"&&a.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const a=this.tc.indexOf(e);this.tc.splice(a,1)}}function gv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(i){return(function(a,r){if(typeof a!="object"||a===null)return!1;const o=a;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Ic extends bm{constructor(e,a,r,o){super(e,a,r,o),this.type="firestore",this._queue=new pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function BR(i,e){const a=typeof i=="object"?i:NA(),r=typeof i=="string"?i:Tc,o=AA(a,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=db("firestore");c&&PR(o,...c)}return o}function d0(i){if(i._terminated)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qR(i),i._firestoreClient}function qR(i){const e=i._freezeSettings(),a=(function(o,c,d,y){return new ow(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,h0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LR(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Xe.fromBase64String(e))}catch(a){throw new yt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(e){return new Ln(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ne("string",Ln._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...e){for(let a=0;a<e.length;++a)if(e[a].length===0)throw new yt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,a){if(!isFinite(e)||e<-90||e>90)throw new yt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(a)||a<-180||a>180)throw new yt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=e,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ra._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,Ra._jsonSchema))return new Ra(e.latitude,e.longitude)}}Ra._jsonSchemaVersion="firestore/geoPoint/1.0",Ra._jsonSchema={type:Ne("string",Ra._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._values=(e||[]).map((a=>a))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,Ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((a=>typeof a=="number")))return new Ca(e.vectorValues);throw new yt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:Ne("string",Ca._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=/^__.*__$/;class FR{constructor(e,a,r){this.data=e,this.fieldMask=a,this.fieldTransforms=r}toMutation(e,a){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,a,this.fieldTransforms):new To(e,this.data,a,this.fieldTransforms)}}function p0(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:i})}}class wm{constructor(e,a,r,o,c,d){this.settings=e,this.databaseId=a,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const a=this.path?.child(e),r=this.Vc({path:a,fc:!1});return r.gc(e),r}yc(e){const a=this.path?.child(e),r=this.Vc({path:a,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((a=>e.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>e.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p0(this.Ac)&&HR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GR{constructor(e,a,r){this.databaseId=e,this.ignoreUndefinedProperties=a,this.serializer=r||Yc(e)}Cc(e,a,r,o=!1){return new wm({Ac:e,methodName:a,Dc:r,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QR(i){const e=i._freezeSettings(),a=Yc(i._databaseId);return new GR(i._databaseId,!!e.ignoreUndefinedProperties,a)}function YR(i,e,a,r,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,a,o);v0("Data must be an object, but it was:",d,r);const y=y0(r,d);let v,_;if(c.merge)v=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const I=KR(e,A,a);if(!d.contains(I))throw new yt(lt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);$R(S,I)||S.push(I)}v=new $n(S),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new FR(new jn(y),v,_)}function g0(i,e){if(_0(i=ro(i)))return v0("Unsupported field value:",e,i),y0(i,e);if(i instanceof m0)return(function(r,o){if(!p0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const y of r){let v=g0(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:Cc(o.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,c)}}if(r instanceof Ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:zE(o.serializer,r._byteString)};if(r instanceof Pe){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:um(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ca)return(function(d,y){return{mapValue:{fields:{[fE]:{stringValue:dE},[Sc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return rm(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Wd(r)}`)})(i,e)}function y0(i,e){const a={};return rE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,((r,o)=>{const c=g0(o,e.mc(r));c!=null&&(a[r]=c)})),{mapValue:{fields:a}}}function _0(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof Ra||i instanceof Ln||i instanceof Pe||i instanceof m0||i instanceof Ca)}function v0(i,e,a){if(!_0(a)||!iE(a)){const r=Wd(a);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function KR(i,e,a){if((e=ro(e))instanceof Am)return e._internalPath;if(typeof e=="string")return E0(i,e);throw Vc("Field path arguments must be of type string or ",i,!1,void 0,a)}const XR=new RegExp("[~\\*/\\[\\]]");function E0(i,e,a){if(e.search(XR)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,a);try{return new Am(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,a)}}function Vc(i,e,a,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new yt(lt.INVALID_ARGUMENT,y+i+v)}function $R(i,e){return i.some((a=>a.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,a,r,o,c){this._firestore=e,this._userDataWriter=a,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const a=this._document.data.field(S0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a)}}}class ZR extends T0{data(){return super.data()}}function S0(i,e){return typeof e=="string"?E0(i,e):e instanceof Am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WR{convertValue(e,a="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,a);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,a);case 11:return this.convertObject(e.mapValue,a);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,a){return this.convertObjectMap(e.fields,a)}convertObjectMap(e,a="none"){const r={};return Ds(e,((o,c)=>{r[o]=this.convertValue(c,a)})),r}convertVectorValue(e){const a=e.fields?.[Sc].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new Ca(a)}convertGeoPoint(e){return new Ra(_e(e.latitude),_e(e.longitude))}convertArray(e,a){return(e.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(e,a){switch(a){case"previous":const r=kc(e);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const a=qi(e);return new re(a.seconds,a.nanos)}convertDocumentKey(e,a){const r=ue.fromString(e);Kt(HE(r),9688,{name:e});const o=new ho(r.get(1),r.get(3)),c=new Et(r.popFirst(5));return o.isEqual(a)||ei(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i,e,a){let r;return r=i?i.toFirestore(e):e,r}class Jl{constructor(e,a){this.hasPendingWrites=e,this.fromCache=a}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends T0{constructor(e,a,r,o,c,d){super(e,a,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const a=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,a={}){if(this._document){const r=this._document.data.field(S0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,a={};return a.type=Rs._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:Ne("string",Rs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class mc extends Rs{data(e={}){return super.data(e)}}class Nr{constructor(e,a,r,o){this._firestore=e,this._userDataWriter=a,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((a=>e.push(a))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,a){this._snapshot.docs.forEach((r=>{e.call(a,new mc(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const a=!!e.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new yt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new mc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Jl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new mc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Jl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:eC(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(a.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:i})}}Nr._jsonSchemaVersion="firestore/querySnapshot/1.0",Nr._jsonSchema={type:Ne("string",Nr._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class b0 extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const a=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,a)}}function A0(i,e,a){i=Cr(i,Pe);const r=Cr(i.firestore,Ic),o=tC(i.converter,e);return aC(r,[YR(QR(r),"setDoc",i._key,o,i.converter!==null,a).toMutation(i._key,Ja.none())])}function nC(i,...e){i=ro(i);let a={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yv(e[r])||(a=e[r++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(yv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(i instanceof Pe)d=Cr(i.firestore,Ic),y=sm(i._key.path),c={next:v=>{e[r]&&e[r](iC(d,i,v))},error:e[r+1],complete:e[r+2]};else{const v=Cr(i,$c);d=Cr(v.firestore,Ic),y=v._query;const _=new b0(d);c={next:S=>{e[r]&&e[r](new Nr(d,_,v,S))},error:e[r+1],complete:e[r+2]},JR(i._query)}return(function(_,S,A,I){const k=new jR(I),$=new gR(S,k,A);return _.asyncQueue.enqueueAndForget((async()=>fR(await cv(_),$))),()=>{k.Nu(),_.asyncQueue.enqueueAndForget((async()=>dR(await cv(_),$)))}})(d0(d),y,o,c)}function aC(i,e){return(function(r,o){const c=new ws;return r.asyncQueue.enqueueAndForget((async()=>RR(await UR(r),o,c))),c.promise})(d0(i),e)}function iC(i,e,a){const r=a.docs.get(e._key),o=new b0(i);return new Rs(i,o,e._key,r,new Jl(a.hasPendingWrites,a.fromCache),e.converter)}(function(e,a=!0){(function(o){Ur=o})(xA),vc(new lo("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new Ic(new qA(r.getProvider("auth-internal")),new GA(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new yt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:a,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Rr(S_,b_,e),Rr(S_,b_,"esm2020")})();var sC="firebase",rC="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(sC,rC,"app");const lC={apiKey:"AIzaSyANv5wml0XKCs_5qUGVFXqBveqzWJMS5sg",authDomain:"blt-fantasy-football.firebaseapp.com",projectId:"blt-fantasy-football",storageBucket:"blt-fantasy-football.firebasestorage.app",messagingSenderId:"776673477224",appId:"1:776673477224:web:eed224688d8bcf7731b1dd",measurementId:"G-4MQFXW4SJ8"},oC=Yv(lC),uC=BR(oC),Pd=kR(uC,"meta","leagues"),dd=[{id:"demo-1",name:"Sunday Slate",commissioner:"Morgan Patel",format:"PPR",size:10,code:"SLATE9",createdAt:"2024-08-18T12:00:00Z",members:["Morgan Patel","Jessie Han","Chris Lee","Taylor Brooks"]},{id:"demo-2",name:"Rookie Rebuild",commissioner:"Alex Rivera",format:"Half-PPR",size:12,code:"ROOK13",createdAt:"2024-09-02T15:00:00Z",members:["Alex Rivera","Priya Shah","Jordan Wu","Ella Chen","Sam Carter"]},{id:"demo-3",name:"Two-Minute Drill",commissioner:"Jamie Lee",format:"Standard",size:8,code:"DRILL8",createdAt:"2024-09-10T09:00:00Z",members:["Jamie Lee","Pat ONeal","Riley James"]}];async function w0(i){try{await A0(Pd,{leagues:i})}catch(e){console.warn("Could not persist leagues to Firestore",e)}}function R0(i){return nC(Pd,async e=>{if(e.exists()){const a=e.data();if(Array.isArray(a.leagues)){i(a.leagues);return}}i(dd),await A0(Pd,{leagues:dd})},e=>{console.warn("Could not subscribe to leagues",e),i(dd)})}function Sa(i){return typeof i=="string"?i:i&&(i.label||i.username)||""}function io(i,e){if(!e)return!1;const a=e.trim().toLowerCase();return typeof i=="string"?i.trim().toLowerCase()===a:(i.username||"").trim().toLowerCase()===a}function C0(i){const e=[...i];for(let a=e.length-1;a>0;a-=1){const r=Math.floor(Math.random()*(a+1));[e[a],e[r]]=[e[r],e[a]]}return e}function cC(i){const e=i.map(d=>d.id);if(e.length<2)return[];const a=[...e],r=e.length%2===1?"BYE":null;r&&a.push(r);const o=a.length-1,c=[];for(let d=0;d<o;d+=1){for(let _=0;_<a.length/2;_+=1){const S=a[_],A=a[a.length-1-_];S==="BYE"||A==="BYE"||c.push({id:`wk${d+1}-${_+1}-${S}-${A}`,week:d+1,homeId:S,awayId:A})}const v=[a[0],a[a.length-1],...a.slice(1,a.length-1)];a.splice(0,a.length,...v)}return c}function x0(i){return typeof i=="string"?i.trim():(i?.username||i?.label||"").trim()}function Rm(i,e=[]){const a=i.toLowerCase().replace(/[^a-z0-9]+/g,"-")||"team";let r=a,o=1;for(;e.includes(r);)r=`${a}-${o++}`;return r}function hC(i=[]){const e=[];return i.reduce((a,r)=>{const o=x0(r);if(!o)return a;const c=Rm(o,e);return e.push(c),a.push({id:c,owner:o,name:`${o}'s Team`}),a},[])}function fC(i){const e=Array.isArray(i.members)?i.members:[],a=Array.isArray(i.teams)?[...i.teams]:[],r=a.map(o=>o.id);return e.forEach(o=>{const c=x0(o);if(!c)return;if(!a.some(y=>y.owner&&y.owner.toLowerCase()===c.toLowerCase())){const y=Rm(c,r);r.push(y),a.push({id:y,owner:c,name:`${c}'s Team`})}}),{...i,teams:a}}function dC(i){if(!(i.members.length>=(i.size||0))||(i.teams||[]).length<2)return i;let a=i.draftOrder;(!a||a.length!==i.teams.length)&&(a=C0(i.teams.map(o=>o.id)));const r=(i.matchups||[]).length?i.matchups:cC(i.teams);return{...i,draftOrder:a,matchups:r}}function Oc(i){const e={...i,members:Array.isArray(i.members)?i.members:[],teams:Array.isArray(i.teams)&&i.teams.length?i.teams:hC(i.members),draftOrder:Array.isArray(i.draftOrder)?i.draftOrder:[],draftPicks:Array.isArray(i.draftPicks)?i.draftPicks:[],matchups:Array.isArray(i.matchups)?i.matchups:[],draftSettings:i.draftSettings||{rounds:12,lineup:{qb:1,rb:2,wr:2,te:1,flex:1}},draftState:i.draftState||{started:!1,completed:!1}},a=fC(e),r=(a.draftOrder||[]).filter(c=>a.teams.some(d=>d.id===c)),o=a.teams.map(c=>c.id).filter(c=>!r.includes(c));return dC({...a,draftOrder:r.concat(o)})}function mC(i){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let a="";do a=Array.from({length:6},()=>e[Math.floor(Math.random()*e.length)]).join("");while(i.includes(a));return a}function pC(i){try{return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(new Date(i))}catch{return""}}function gC(){const{user:i}=zc(),[e,a]=z.useState([]),[r,o]=z.useState({name:"",format:"PPR",size:10}),[c,d]=z.useState(""),[y,v]=z.useState({type:"",message:""}),_=!!i;z.useEffect(()=>{const q=R0(tt=>{const it=tt.map(Oc);a(it)});return()=>q()},[]);const S=z.useMemo(()=>e.reduce((q,tt)=>q+Math.max(tt.size-tt.members.length,0),0),[e]),A=z.useMemo(()=>{const q=i?.username;return q?e.filter(tt=>tt.members.some(it=>io(it,q))):[]},[e,i]),I=z.useMemo(()=>{const q=i?.username;return e.filter(tt=>!q||!tt.members.some(it=>io(it,q)))},[e,i]),k=q=>{const tt=q.map(Oc);a(tt),w0(tt)},$=(q,tt)=>v({type:q,message:tt}),Z=q=>{if(q.preventDefault(),!i){$("warning","Log in to create a league.");return}const tt=i.username.trim(),it=r.name.trim(),ht=Number(r.size)||10,dt=Math.min(16,Math.max(2,ht)),C=dt%2===0?dt:dt+1<=16?dt+1:dt-1;if(!it){$("warning","Name your league to continue.");return}const R=mC(e.map(U=>U.code)),x={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}`,name:it,commissioner:tt,format:r.format,size:C,code:R,createdAt:new Date().toISOString(),members:[{username:tt,label:tt}],teams:[{id:Rm(tt),owner:tt,name:`${tt}'s Team`}],draftOrder:[],draftPicks:[],matchups:[]},V=[...e,x];k(V),o({...r,name:"",size:C}),$("success",`Created ${it}. Share invite code ${R} to bring friends.${C!==dt?" Size adjusted to the nearest even number.":""}`)},F=q=>{if(!i){$("warning","Log in before joining a league.");return}const tt=i.username.trim(),it=q.trim().toUpperCase();if(!it){$("warning","Enter an invite code to join.");return}const ht=e.find(R=>R.code===it);if(!ht){$("warning","No league found for that invite code.");return}if(ht.members.some(R=>io(R,tt))){$("info",`You are already in ${ht.name}.`);return}const C=e.map(R=>R.code===it?{...R,members:[...R.members,{username:tt,label:tt}]}:R);k(C),d(""),$("success",`Joined ${ht.name}! You are the ${ht.members.length+1}th manager.`)},rt=q=>{q.preventDefault(),F(c)};return g.jsxs("div",{className:"leagues-page",children:[g.jsxs("section",{className:"leagues-hero",children:[g.jsxs("div",{children:[g.jsx("p",{className:"leagues-hero__eyebrow",children:"League HQ"}),g.jsx("h1",{children:"Build and join BLT leagues"}),g.jsx("p",{children:"Sign in, spin up a new league, or drop an invite code to join friends. Your teams stay linked to your login."})]}),g.jsxs("div",{className:"leagues-hero__stats",children:[g.jsxs("div",{children:[g.jsx("span",{children:"Leagues live"}),g.jsx("strong",{children:e.length})]}),g.jsxs("div",{children:[g.jsx("span",{children:"Your teams"}),g.jsx("strong",{children:A.length})]}),g.jsxs("div",{children:[g.jsx("span",{children:"Open seats"}),g.jsx("strong",{children:S})]})]})]}),!_&&g.jsxs("div",{className:"leagues-status leagues-status--info",children:[g.jsx("strong",{children:"LOGIN"}),g.jsxs("span",{children:[g.jsx(Ye,{to:"/login",children:"Log in or create an account"})," to start or join leagues. Your team slots will stay tied to this login."]})]}),y.message&&g.jsxs("div",{className:`leagues-status leagues-status--${y.type||"info"}`,role:"status","aria-live":"polite",children:[g.jsx("strong",{children:y.type?y.type.toUpperCase():"INFO"}),g.jsx("span",{children:y.message})]}),g.jsxs("section",{className:"leagues-forms",children:[g.jsxs("div",{className:"leagues-card",children:[g.jsx("p",{className:"card-label",children:"Account"}),g.jsx("h2",{children:_?"Connected":"Login required"}),g.jsx("p",{className:"card-help",children:_?"Leagues you create stay tied to this username.":"Log in before claiming a spot in a league."}),_?g.jsxs("div",{className:"account-pill",children:[g.jsx("span",{children:"Signed in as"}),g.jsxs("strong",{children:["@",i.username]}),g.jsx(Ye,{to:"/login",className:"tiny-link",children:"Switch account"})]}):g.jsx(Ye,{to:"/login",className:"primary-btn",children:"Log in or create account"})]}),g.jsxs("form",{className:"leagues-card",onSubmit:Z,children:[g.jsx("p",{className:"card-label",children:"Create"}),g.jsx("h2",{children:"Start a new league"}),!_&&g.jsx("p",{className:"card-help",children:"Login to enable league creation."}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"league-name",children:"League name"}),g.jsx("input",{id:"league-name",type:"text",value:r.name,disabled:!_,onChange:q=>o({...r,name:q.target.value}),placeholder:"Panther Fantasy League"})]}),g.jsxs("div",{className:"form-columns",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"league-scoring",children:"Scoring"}),g.jsxs("select",{id:"league-scoring",value:r.format,disabled:!_,onChange:q=>o({...r,format:q.target.value}),children:[g.jsx("option",{value:"PPR",children:"PPR"}),g.jsx("option",{value:"Half-PPR",children:"Half-PPR"}),g.jsx("option",{value:"Standard",children:"Standard"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"league-size",children:"Max teams"}),g.jsx("input",{id:"league-size",type:"number",min:"2",max:"16",value:r.size,disabled:!_,onChange:q=>o({...r,size:q.target.value})})]})]}),g.jsx("button",{type:"submit",className:"primary-btn",disabled:!_,children:"Create league"})]}),g.jsxs("form",{className:"leagues-card",onSubmit:rt,children:[g.jsx("p",{className:"card-label",children:"Join"}),g.jsx("h2",{children:"Use an invite code"}),g.jsx("p",{className:"card-help",children:"Drop the six-character code your commissioner shared."}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"league-invite-code",children:"Invite code"}),g.jsx("input",{id:"league-invite-code",type:"text",value:c,disabled:!_,onChange:q=>d(q.target.value.toUpperCase()),placeholder:"SLATE9"})]}),g.jsx("button",{type:"submit",className:"ghost-btn",disabled:!_,children:"Join league"})]})]}),g.jsxs("section",{className:"leagues-section",children:[g.jsxs("div",{className:"leagues-section__header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Your leagues"}),g.jsx("h2",{children:"Lineups you manage"})]}),g.jsx("span",{className:"section-pill",children:A.length?`${A.length} active`:"No leagues yet"})]}),g.jsxs("div",{className:"league-grid",children:[A.length===0&&g.jsxs("div",{className:"empty-card",children:[g.jsx("h3",{children:"No leagues yet"}),g.jsx("p",{children:"Create a league above or paste an invite code to get started."})]}),A.map(q=>g.jsxs("article",{className:"league-card",children:[g.jsxs("div",{className:"league-card__header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:q.format}),g.jsx("h3",{children:q.name})]}),g.jsxs("span",{className:"section-pill",children:[q.members.length,"/",q.size," teams"]})]}),g.jsxs("p",{className:"league-card__meta",children:["Commissioner  ",q.commissioner,"  Started ",pC(q.createdAt)]}),g.jsx("div",{className:"league-card__members",children:q.members.map(tt=>{const it=Sa(tt),ht=typeof tt=="string"?tt:tt.username||it;return g.jsx("span",{className:"chip",children:it},ht)})}),g.jsxs("div",{className:"league-card__footer",children:[g.jsxs("div",{className:"code-block",children:[g.jsx("span",{children:"Invite code"}),g.jsx("strong",{children:q.code})]}),g.jsx(Ye,{to:`/league/${q.id}`,className:"ghost-btn ghost-btn--small",children:"Open league"})]})]},q.id))]})]}),g.jsxs("section",{className:"leagues-section",children:[g.jsxs("div",{className:"leagues-section__header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Discover"}),g.jsx("h2",{children:"Open leagues looking for players"})]}),g.jsxs("span",{className:"section-pill",children:[I.length," listed"]})]}),g.jsx("div",{className:"league-grid",children:I.map(q=>g.jsxs("article",{className:"league-card league-card--muted",children:[g.jsxs("div",{className:"league-card__header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:q.format}),g.jsx("h3",{children:q.name})]}),g.jsxs("span",{className:"section-pill",children:[Math.max(q.size-q.members.length,0)," open"]})]}),g.jsxs("p",{className:"league-card__meta",children:["Commissioner  ",q.commissioner,"  ",q.members.length," managers inside"]}),g.jsx("div",{className:"league-card__members",children:q.members.map(tt=>{const it=Sa(tt),ht=typeof tt=="string"?tt:tt.username||it;return g.jsx("span",{className:"chip chip--muted",children:it},ht)})}),g.jsxs("div",{className:"league-card__footer",children:[g.jsxs("div",{className:"code-block",children:[g.jsx("span",{children:"Invite code"}),g.jsx("strong",{children:q.code})]}),g.jsx("button",{type:"button",className:"primary-btn primary-btn--small",onClick:()=>F(q.code),disabled:!_,children:_?"Join this league":"Login to join"})]})]},q.id))})]})]})}function yC(){const[i,e]=z.useState([]);z.useEffect(()=>{const r=Lc(),o=(window.__GLOBAL_PLAYERS__||[]).filter(c=>r.includes(c.id));e(o)},[]);const a=r=>{Lv(r),e(o=>o.filter(c=>c.id!==r))};return g.jsxs("div",{className:"players-page",children:[g.jsxs("header",{className:"players-page__hero",children:[g.jsx("h1",{children:"Your Watchlist"}),g.jsx("p",{children:"Manage the players youre tracking and jump into their detail pages."})]}),i.length===0&&g.jsxs("section",{className:"players-grid__empty",children:[g.jsx("h2",{children:"No players watchlisted"}),g.jsx("p",{children:"Add players from the Players page to see them here."})]}),i.length>0&&g.jsx("section",{className:"players-grid",children:i.map(r=>g.jsxs("article",{className:"player-card",children:[g.jsxs("header",{className:"player-card__header",children:[g.jsx("span",{className:`player-card__position player-card__position--${r.position.toLowerCase()}`,children:r.position}),g.jsx("span",{className:`player-card__status player-card__status--${(r.status||"").toLowerCase()}`,children:r.status||"Active"})]}),g.jsx("h3",{children:r.name}),g.jsxs("p",{className:"player-card__team",children:[r.team,"  ",r.teamName]}),g.jsxs("dl",{className:"player-card__metrics",children:[g.jsxs("div",{children:[g.jsx("dt",{children:"Total"}),g.jsx("dd",{children:Number(r.points??0).toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Avg"}),g.jsx("dd",{children:Number(r.avgPoints??0).toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("dt",{children:"Bye"}),g.jsx("dd",{children:r.byeWeek??"-"})]})]}),g.jsx("footer",{className:"player-card__footer",children:g.jsx(Ye,{to:`/player/${r.id}`,state:{from:"watchlist"},className:"player-card__action player-card__action--secondary",children:"View Details"})}),g.jsx("button",{className:"watchlist-remove-btn",type:"button",onClick:()=>a(r.id),children:"Remove from Watchlist"})]},r.id))})]})}function _C(){const[i,e]=z.useState(null),[a,r]=z.useState("");return z.useEffect(()=>{async function o(){try{const c=await fetch("/data/nfl_data_py_test.json");if(!c.ok)throw new Error("No test output found. Run scripts/fetch_nfl_data.py or scripts/test.");const d=await c.json();e(d)}catch(c){r(c.message||"Failed to load test data.")}}o()},[]),g.jsxs("div",{style:{maxWidth:"900px",width:"100%",color:"#0f172a",padding:"1rem"},children:[g.jsx("h1",{children:"nfl_data_py testing"}),g.jsxs("p",{children:["This page just reads a JSON file generated by running a quick Python snippet using",g.jsx("code",{children:" nfl_data_py "}),". Use it to confirm the library works locally."]}),g.jsx("pre",{style:{background:"#f1f5f9",padding:"1rem",borderRadius:"10px",overflowX:"auto"},children:`import ssl
ssl._create_default_https_context = ssl._create_unverified_context
import nfl_data_py as nfl

season = 2023
stats = nfl.import_seasonal_data([season])
weekly = nfl.import_weekly_data([season])
rosters = nfl.import_weekly_rosters([season])

print(len(stats), len(weekly), len(rosters))
print(stats.head(1).to_dict(orient="records")[0])`}),a&&g.jsx("p",{style:{color:"crimson",fontWeight:700},children:a}),i&&g.jsx("pre",{style:{background:"#e2e8f0",padding:"1rem",borderRadius:"10px",overflowX:"auto"},children:JSON.stringify(i,null,2)})]})}function vC(){const{user:i,login:e,register:a}=zc(),[r,o]=z.useState("login"),[c,d]=z.useState({username:"",password:""}),[y,v]=z.useState({type:"",message:""}),_=qd(),S=ai(),A=z.useMemo(()=>S.state?.from||"/league",[S.state]);z.useEffect(()=>{i&&v(Z=>Z.type==="success"?Z:{type:"info",message:`Signed in as ${i.username}`})},[i]);const I=(Z,F)=>{d(rt=>({...rt,[Z]:F}))},k=Z=>{Z.preventDefault(),v({type:"",message:""});const rt=(r==="login"?e:a)(c.username,c.password);rt.ok?(v({type:"success",message:r==="login"?"Welcome back! Redirecting":"Account created and signed in."}),setTimeout(()=>_(A),300)):v({type:"warning",message:rt.message||"Something went wrong."})};return g.jsxs("div",{className:"auth-page",children:[g.jsx("section",{className:"auth-hero",children:g.jsxs("div",{children:[g.jsx("p",{className:"auth-hero__eyebrow",children:"Account access"}),g.jsx("h1",{children:"Sign in to manage leagues"}),g.jsx("p",{children:"Leagues stay linked to your BLT account. Log in or create a quick profile to join friends."}),g.jsxs("div",{className:"auth-hero__meta",children:[g.jsx("span",{children:"Username + password only"}),g.jsx("span",{children:"No emails or external logins"})]})]})}),y.message&&g.jsxs("div",{className:`auth-status auth-status--${y.type||"info"}`,role:"status","aria-live":"polite",children:[g.jsx("strong",{children:y.type?y.type.toUpperCase():"INFO"}),g.jsx("span",{children:y.message})]}),g.jsxs("div",{className:"auth-card",children:[g.jsxs("div",{className:"auth-toggle",children:[g.jsx("button",{type:"button",className:r==="login"?"active":"",onClick:()=>{o("login"),v({type:"",message:""})},children:"Login"}),g.jsx("button",{type:"button",className:r==="register"?"active":"",onClick:()=>{o("register"),v({type:"",message:""})},children:"Create account"})]}),g.jsxs("form",{className:"auth-form",onSubmit:k,children:[g.jsxs("label",{htmlFor:"auth-username",children:[g.jsx("span",{children:"Username"}),g.jsx("input",{id:"auth-username",type:"text",value:c.username,autoComplete:"username",placeholder:"footballFan42",onChange:Z=>I("username",Z.target.value),required:!0})]}),g.jsxs("label",{htmlFor:"auth-password",children:[g.jsx("span",{children:"Password"}),g.jsx("input",{id:"auth-password",type:"password",value:c.password,autoComplete:r==="login"?"current-password":"new-password",placeholder:"8+ characters, include a number",onChange:Z=>I("password",Z.target.value),required:!0}),g.jsx("small",{children:"Password must be 8+ characters and include a number."})]}),g.jsx("button",{type:"submit",className:"auth-submit",children:r==="login"?"Log in":"Create account"})]}),g.jsxs("p",{className:"auth-footer",children:["Need to head back? ",g.jsx(Ye,{to:"/league",children:"Go to leagues"})]})]})]})}const EC="https://api.sleeper.app/v1/players/nfl",TC=["QB","RB","WR","TE"];function SC(i){if(!i?.player_id)return null;let e=i.position||i.fantasy_positions?.[0];if(!e||!TC.includes(e))return null;const a=i.team||"";if(!a||a==="FA"||a==="NONE")return null;const r=i.full_name||`${i.first_name||""} ${i.last_name||""}`.trim();return r?{id:i.player_id,name:r,position:e,team:a,bye:i.bye_week??null,status:i.injury_status||i.status||"active"}:null}async function bC(){const i=await fetch(EC);if(!i.ok)throw new Error("Failed to load players");const e=await i.json();return Object.values(e).map(SC).filter(Boolean)}const md=[{id:"name",label:"Name A  Z",compare:(i,e)=>i.name.localeCompare(e.name)},{id:"name_desc",label:"Name Z  A",compare:(i,e)=>e.name.localeCompare(i.name)},{id:"team",label:"Team A  Z",compare:(i,e)=>i.team.localeCompare(e.team)},{id:"position",label:"Position",compare:(i,e)=>i.position.localeCompare(e.position)}];function _v(i){return i&&(i.name||i.owner)||"Team"}function AC(i,e){const a=[];for(let r=0;r<e;r+=1){const o=r%2===0?i:[...i].reverse();a.push(...o)}return a}function wC({league:i,onUpdate:e,isMember:a,user:r}){const[o,c]=z.useState([]),[d,y]=z.useState(""),[v,_]=z.useState("ALL"),[S,A]=z.useState("ALL"),[I,k]=z.useState("name"),[$,Z]=z.useState(!1),[F,rt]=z.useState(i.draftSettings.rounds||12),[q,tt]=z.useState(i.draftSettings.lineup||{}),it=i.teams||[],ht=z.useMemo(()=>it.filter(Y=>r&&Y.owner&&Y.owner.toLowerCase()===r.username.toLowerCase()),[it,r]),dt=i.draftOrder||[],C=z.useMemo(()=>AC(dt,F),[dt,F]),R=C.length,x=i.draftPicks.length,V=R>0&&x>=R,O=C[x],U=it.find(Y=>Y.id===O),N=!!(a&&U&&ht.some(Y=>Y.id===U.id));z.useEffect(()=>{rt(i.draftSettings.rounds||12),tt(i.draftSettings.lineup||q)},[i.id]),z.useEffect(()=>{let Y=!1;return Z(!0),bC().then(ot=>{Y||c(ot)}).catch(()=>{Y||c([])}).finally(()=>Z(!1)),()=>{Y=!0}},[]);const Ft=z.useMemo(()=>{const Y=new Set((i.draftPicks||[]).map(ct=>ct.player.id)),ot=md.find(ct=>ct.id===I)||md[0];return o.filter(ct=>!Y.has(ct.id)).filter(ct=>ct.team&&ct.team!=="FA").filter(ct=>v==="ALL"?!0:ct.position===v).filter(ct=>S==="ALL"?!0:ct.team===S).filter(ct=>ct.name.toLowerCase().includes(d.toLowerCase())).sort(ot.compare).slice(0,50)},[o,i.draftPicks,v,S,d,I]),Jt=z.useMemo(()=>({qb:1,rb:2,wr:2,te:1,flex:2,...q}),[q]),M=z.useMemo(()=>{const{qb:Y=0,rb:ot=0,wr:ct=0,te:vt=0,flex:At=0}=q;return Math.max(1,Number(Y)+Number(ot)+Number(ct)+Number(vt)+Number(At))},[q]);z.useEffect(()=>{(Number(F)||0)<M&&rt(M)},[M,F]);const et=["rb","wr","te"],ft=z.useMemo(()=>ht.length?ht[0]:U||null,[ht,U]),bt=z.useMemo(()=>{if(!ft)return[];const Y=(i.draftPicks||[]).filter(Yt=>Yt.teamId===ft.id),ot=new Set,ct=[],vt={qb:Number(Jt.qb||0),rb:Number(Jt.rb||0),wr:Number(Jt.wr||0),te:Number(Jt.te||0),flex:Number(Jt.flex||0)},At=(Yt,Ut)=>{for(let Me=0;Me<vt[Yt];Me+=1){const Tn=Y.find(zn=>!ot.has(zn.pick)&&(zn.player.position||"").toLowerCase()===Yt);Tn&&ot.add(p.pick),ct.push({slot:Ut,player:Tn?.player||null})}};At("qb","QB"),At("rb","RB"),At("wr","WR"),At("te","TE");for(let Yt=0;Yt<vt.flex;Yt+=1){const Ut=Y.find(Me=>!ot.has(Me.pick)&&et.includes((Me.player.position||"").toLowerCase()));Ut&&ot.add(p.pick),ct.push({slot:"FLEX",player:Ut?.player||null})}return ct},[ft,i.draftPicks,Jt,et]),It=()=>{e(Y=>({...Y,draftSettings:{rounds:Math.max(M,Math.min(30,Number(F)||M)),lineup:q}}))},j=()=>{if(!a)return;const Y=Math.max(M,Math.min(30,Number(F)||M)),ot=dt.length?dt:C0(it.map(ct=>ct.id));e(ct=>({...ct,draftOrder:ot,draftSettings:{rounds:Y,lineup:q},draftState:{started:!0,completed:!1,startedAt:new Date().toISOString()},draftPicks:[]}))},nt=Y=>{!a||!i.draftState.started||V||N&&e(ot=>{const ct=ot.draftPicks||[],vt=ct.length+1,At=Math.floor((vt-1)/dt.length)+1;return ct.some(Ut=>Ut.player.id===Y.id)?ot:{...ot,draftPicks:[...ct,{pick:vt,round:At,teamId:O,player:Y}],draftState:{...ot.draftState,completed:vt>=R}}})};return g.jsxs("div",{className:"draft-layout",children:[g.jsxs("div",{className:"draft-panel",children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Draft control"}),g.jsx("h2",{children:"Setup"})]})}),g.jsxs("div",{className:"draft-settings",children:[g.jsxs("label",{children:[g.jsx("span",{children:"Rounds"}),g.jsx("input",{type:"number",min:M,max:"30",value:F,onChange:Y=>rt(Y.target.value),disabled:!a||i.draftState.started})]}),g.jsxs("p",{className:"card-help",children:["Rounds must cover all roster spots (",M," minimum based on lineup)."]}),g.jsx("div",{className:"lineup-grid",children:["qb","rb","wr","te","flex"].map(Y=>g.jsxs("label",{children:[g.jsx("span",{children:Y.toUpperCase()}),g.jsx("input",{type:"number",min:"0",max:"4",value:q[Y]??0,onChange:ot=>tt({...q,[Y]:Number(ot.target.value)}),disabled:!a||i.draftState.started})]},Y))}),g.jsxs("div",{className:"draft-actions",children:[g.jsx("button",{type:"button",className:"ghost-btn",onClick:It,disabled:!a||i.draftState.started,children:"Save settings"}),g.jsx("button",{type:"button",className:"primary-btn",onClick:j,disabled:!a||i.draftState.started||it.length<2||dt.length===0,children:i.draftState.started?"Draft live":"Start draft"})]}),g.jsx("p",{className:"card-help",children:"Draft order is generated automatically when the league fills."})]}),g.jsxs("div",{className:"draft-status",children:[g.jsx("p",{className:"card-label",children:"On the clock"}),V?g.jsx("strong",{children:"Draft completed"}):i.draftState.started?g.jsxs("div",{children:[g.jsxs("p",{children:["Pick ",x+1," of ",R]}),g.jsx("strong",{children:_v(U)}),g.jsx("p",{children:N?"Its your turn to pick.":"Waiting on this manager."}),a&&g.jsx("p",{className:"card-help",children:"Select a player below to make your pick."})]}):g.jsx("p",{children:"Draft not started yet."})]}),ft&&g.jsxs("div",{className:"draft-lineup",children:[g.jsxs("div",{className:"leagues-section__header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Your lineup"}),g.jsx("h3",{children:ft.name})]}),g.jsxs("span",{className:"section-pill",children:[bt.filter(Y=>Y.player).length,"/",bt.length," filled"]})]}),g.jsx("div",{className:"lineup-slots",children:bt.map((Y,ot)=>g.jsxs("div",{className:"lineup-slot",children:[g.jsx("span",{className:"lineup-slot__label",children:Y.slot}),Y.player?g.jsxs("div",{className:"lineup-slot__body",children:[g.jsx("strong",{children:Y.player.name}),g.jsxs("p",{children:[Y.player.position,"  ",Y.player.team||"FA"]})]}):g.jsx("div",{className:"lineup-slot__body lineup-slot__body--empty",children:g.jsx("p",{children:"Open spot"})})]},`${Y.slot}-${ot}`))})]})]}),g.jsxs("div",{className:"draft-panel",children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Players"}),g.jsx("h2",{children:"Select next pick"})]})}),g.jsxs("div",{className:"draft-filters",children:[g.jsx("label",{className:"sr-only",htmlFor:"draft-player-search",children:"Search players"}),g.jsx("input",{id:"draft-player-search",type:"text",placeholder:"Search players",value:d,onChange:Y=>y(Y.target.value)}),g.jsx("label",{className:"sr-only",htmlFor:"draft-position-filter",children:"Filter by position"}),g.jsxs("select",{id:"draft-position-filter",value:v,onChange:Y=>_(Y.target.value),children:[g.jsx("option",{value:"ALL",children:"All"}),g.jsx("option",{value:"QB",children:"QB"}),g.jsx("option",{value:"RB",children:"RB"}),g.jsx("option",{value:"WR",children:"WR"}),g.jsx("option",{value:"TE",children:"TE"})]}),g.jsx("label",{className:"sr-only",htmlFor:"draft-team-filter",children:"Filter by team"}),g.jsxs("select",{id:"draft-team-filter",value:S,onChange:Y=>A(Y.target.value),children:[g.jsx("option",{value:"ALL",children:"All teams"}),Array.from(new Set(o.map(Y=>Y.team).filter(Boolean))).map(Y=>g.jsx("option",{value:Y,children:Y},Y))]}),g.jsx("label",{className:"sr-only",htmlFor:"draft-sort",children:"Sort players"}),g.jsx("select",{id:"draft-sort",value:I,onChange:Y=>k(Y.target.value),children:md.map(Y=>g.jsx("option",{value:Y.id,children:Y.label},Y.id))})]}),$&&g.jsx("p",{className:"card-help",children:"Loading Sleeper player pool"}),g.jsx("div",{className:"player-pool",children:Ft.map(Y=>g.jsxs("button",{type:"button",className:"player-chip",onClick:()=>nt(Y),disabled:!N||V||!i.draftState.started,children:[g.jsxs("div",{children:[g.jsx("strong",{children:Y.name}),g.jsxs("p",{children:[Y.position,"  ",Y.team||"FA"]})]}),g.jsx("span",{children:"Select"})]},Y.id))})]}),g.jsxs("div",{className:"draft-board",children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Draft board"}),g.jsx("h2",{children:"Live picks"})]})}),g.jsxs("div",{className:"draft-board-grid",style:{gridTemplateColumns:`120px repeat(${dt.length||1}, minmax(150px, 1fr))`},children:[g.jsx("div",{className:"draft-board__corner",children:"Round"}),dt.map(Y=>{const ot=it.find(ct=>ct.id===Y);return g.jsx("div",{className:"draft-board__header",children:_v(ot)},Y)}),[...Array(F)].map((Y,ot)=>{const ct=ot+1,vt=ct%2===1?dt:[...dt].reverse();return g.jsxs(z.Fragment,{children:[g.jsxs("div",{className:"draft-board__round",children:["Round ",ct]},`rlabel-${ct}`),vt.map((At,Yt)=>{const Ut=ot*dt.length+Yt+1,Me=(i.draftPicks||[]).find(zn=>zn.pick===Ut),Tn=Ut===x+1&&!V;return g.jsx("div",{className:`draft-cell ${Tn?"draft-cell--active":""}`,children:Me?g.jsxs("div",{className:"draft-slot__player",children:[g.jsx("strong",{children:Me.player.name}),g.jsxs("p",{children:[Me.player.position,"  ",Me.player.team]})]}):g.jsx("p",{className:"card-help",children:Tn?"On the clock":"Waiting"})},`${At}-${Ut}`)})]},ct)})]})]})]})}function $a(i){return i&&(i.name||i.owner)||"Team"}function RC(){const{user:i}=zc(),{id:e}=xv(),a=qd(),[r,o]=z.useState([]),[c,d]=z.useState({type:"",message:""}),[y,v]=z.useState("draft"),[_,S]=z.useState(null);z.useEffect(()=>{const M=R0(et=>{const ft=et.map(Oc);o(ft)});return()=>M()},[]);const A=z.useMemo(()=>r.find(M=>M.id===e)||null,[r,e]),I=M=>{o(et=>{const ft=et.map(bt=>{if(!A||bt.id!==A.id)return bt;const It=typeof M=="function"?M(bt):M;return Oc(It)});return w0(ft),ft})},k=i?.username||null,$=z.useMemo(()=>!A||!k?!1:A.members?.some(M=>io(M,k)),[A,k]),Z=z.useMemo(()=>A?A.members&&A.size&&A.members.length>=A.size:!1,[A]),F=A?.teams||[],q=(A?.draftSettings?.rounds||0)*F.length,tt=(A?.draftPicks||[]).length,it=!!A?.draftState?.completed||q>0&&tt>=q;z.useEffect(()=>{it&&y==="draft"&&v("schedule")},[it,y]);const ht=z.useMemo(()=>new Map((A?.teams||[]).map(M=>[M.id,M])),[A?.teams]),dt=z.useMemo(()=>{const M=new Map;return F.forEach(et=>M.set(et.id,[])),(A?.draftPicks||[]).forEach(et=>{M.has(et.teamId)&&M.get(et.teamId).push(et.player)}),M},[A?.draftPicks,F]),C=z.useMemo(()=>!k||!F.length?null:F.find(M=>io(M.owner,k)),[F,k]),R=z.useMemo(()=>{const M=new Map;return(A?.matchups||[]).forEach(et=>{M.has(et.week)||M.set(et.week,[]),M.get(et.week).push(et)}),Array.from(M.entries()).sort(([et],[ft])=>et-ft).map(([et,ft])=>({week:et,matchups:ft}))},[A?.matchups]),x=z.useMemo(()=>!C||!A?.matchups?[]:A.matchups.filter(M=>M.homeId===C.id||M.awayId===C.id).sort((M,et)=>M.week-et.week),[C,A?.matchups]),V=z.useMemo(()=>_&&A?.matchups&&A.matchups.find(M=>M.id===_)||null,[_,A?.matchups]),O=z.useMemo(()=>V?ht.get(V.homeId):null,[V,ht]),U=z.useMemo(()=>V?ht.get(V.awayId):null,[V,ht]),N=z.useMemo(()=>V?dt.get(V.homeId)||[]:[],[V,dt]),Ft=z.useMemo(()=>V?dt.get(V.awayId)||[]:[],[V,dt]),Jt=z.useMemo(()=>[!it&&{id:"draft",label:"Draft"},C&&{id:"mymatchups",label:"My Matchups"},{id:"schedule",label:"Schedule"},{id:"history",label:"Draft history"}].filter(Boolean),[it,C]);return A?g.jsxs("div",{className:"leagues-page leagues-page--detail",children:[g.jsx("div",{className:"leagues-breadcrumb",children:g.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>a("/league"),children:" Back to leagues"})}),!i&&g.jsxs("div",{className:"leagues-status leagues-status--info",role:"status","aria-live":"polite",children:[g.jsx("strong",{children:"LOGIN"}),g.jsxs("span",{children:[g.jsx(Ye,{to:"/login",children:"Log in or create an account"})," to claim a team, join this league, and save your draft picks."]})]}),c.message&&g.jsxs("div",{className:`leagues-status leagues-status--${c.type||"info"}`,role:"status","aria-live":"polite",children:[g.jsx("strong",{children:c.type?c.type.toUpperCase():"INFO"}),g.jsx("span",{children:c.message})]}),g.jsxs("header",{className:"league-header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"League"}),g.jsx("h1",{children:A.name}),g.jsxs("p",{className:"card-help",children:[A.format||"Redraft","  ",A.size,"-team league  Commissioner:"," ",Sa(A.commissioner||A.members?.[0]?.username)]})]}),g.jsxs("div",{className:"league-meta",children:[g.jsxs("p",{className:"card-help",children:["Members: ",A.members?.length||0,"/",A.size||"?",Z?"  League is full":""]}),it&&g.jsx("p",{className:"card-help",children:"Draft complete  Schedule & scoreboard available"})]})]}),g.jsx("div",{className:"league-tabs",role:"tablist","aria-label":"League views",children:Jt.map(M=>g.jsx("button",{type:"button",className:y===M.id?"active":"",role:"tab","aria-selected":y===M.id,onClick:()=>v(M.id),children:M.label},M.id))}),g.jsxs("div",{className:"league-body",children:[y==="draft"&&!it&&g.jsx(wC,{league:A,onUpdate:I,isMember:$,user:i}),y==="mymatchups"&&g.jsx("div",{className:"schedule-card",children:V?g.jsxs("div",{className:"matchup-roster-view",children:[g.jsxs("div",{className:"matchup-roster-view__header",children:[g.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>S(null),children:" Back to my matchups"}),g.jsxs("div",{children:[g.jsxs("span",{className:"section-pill",children:["Week ",V.week]}),g.jsx("h2",{children:"Matchup Details"})]})]}),g.jsxs("div",{className:"matchup-rosters",children:[g.jsxs("div",{className:"roster-column",children:[g.jsxs("div",{className:"roster-column__header",children:[g.jsx("p",{className:"card-label",children:"Away Team"}),g.jsx("h3",{children:$a(U)}),g.jsx("p",{className:"card-help",children:U?.owner?`Owner: ${Sa(U.owner)}`:"No owner"})]}),g.jsxs("div",{className:"roster-list",children:[Ft.length===0&&g.jsx("p",{className:"card-help",children:"No players drafted yet"}),Ft.map((M,et)=>g.jsx("div",{className:"roster-player",children:g.jsxs("div",{className:"roster-player__info",children:[g.jsx("span",{className:`position-badge position-badge--${M.position.toLowerCase()}`,children:M.position}),g.jsxs("div",{children:[g.jsx("strong",{children:M.name}),g.jsx("p",{children:M.team})]})]})},`${M.id}-${et}`))]})]}),g.jsxs("div",{className:"roster-column",children:[g.jsxs("div",{className:"roster-column__header",children:[g.jsx("p",{className:"card-label",children:"Home Team"}),g.jsx("h3",{children:$a(O)}),g.jsx("p",{className:"card-help",children:O?.owner?`Owner: ${Sa(O.owner)}`:"No owner"})]}),g.jsxs("div",{className:"roster-list",children:[N.length===0&&g.jsx("p",{className:"card-help",children:"No players drafted yet"}),N.map((M,et)=>g.jsx("div",{className:"roster-player",children:g.jsxs("div",{className:"roster-player__info",children:[g.jsx("span",{className:`position-badge position-badge--${M.position.toLowerCase()}`,children:M.position}),g.jsxs("div",{children:[g.jsx("strong",{children:M.name}),g.jsx("p",{children:M.team})]})]})},`${M.id}-${et}`))]})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"My Matchups"}),g.jsx("h2",{children:"Your team's schedule"}),C&&g.jsxs("p",{className:"card-help",children:["Your team: ",$a(C)]})]})}),!C&&g.jsxs("div",{className:"leagues-status leagues-status--info",children:[g.jsx("strong",{children:"NO TEAM"}),g.jsx("span",{children:"You don't have a team in this league yet. Join the league to see your matchups."})]}),C&&x.length===0&&g.jsx("p",{className:"card-help",children:"No matchups scheduled yet. The schedule will generate automatically when the league is full."}),C&&x.length>0&&g.jsx("div",{className:"my-matchups-list",children:x.map(M=>{const et=M.homeId===C.id,ft=et?M.awayId:M.homeId,bt=ht.get(ft);return g.jsxs("div",{className:"my-matchup-card my-matchup-card--clickable",role:"button",tabIndex:0,onClick:()=>S(M.id),onKeyDown:It=>{(It.key==="Enter"||It.key===" ")&&S(M.id)},children:[g.jsxs("div",{className:"my-matchup-card__header",children:[g.jsxs("span",{className:"section-pill",children:["Week ",M.week]}),g.jsxs("span",{className:"card-help",children:[et?"Home":"Away","  Click to view rosters"]})]}),g.jsxs("div",{className:"my-matchup-card__teams",children:[g.jsxs("div",{className:"my-matchup-team",children:[g.jsx("p",{className:"card-label",children:"Your Team"}),g.jsx("h3",{children:$a(C)}),g.jsxs("p",{className:"card-help",children:["Owner: ",Sa(C.owner)]})]}),g.jsx("div",{className:"my-matchup-vs",children:g.jsx("span",{children:"vs"})}),g.jsxs("div",{className:"my-matchup-team",children:[g.jsx("p",{className:"card-label",children:"Opponent"}),g.jsx("h3",{children:$a(bt)}),g.jsx("p",{className:"card-help",children:bt?.owner?`Owner: ${Sa(bt.owner)}`:"No owner set"})]})]})]},M.id)})})]})}),y==="schedule"&&g.jsx("div",{className:"schedule-card",children:V?g.jsxs("div",{className:"matchup-roster-view",children:[g.jsxs("div",{className:"matchup-roster-view__header",children:[g.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>S(null),children:" Back to schedule"}),g.jsxs("div",{children:[g.jsxs("span",{className:"section-pill",children:["Week ",V.week]}),g.jsx("h2",{children:"Matchup Details"})]})]}),g.jsxs("div",{className:"matchup-rosters",children:[g.jsxs("div",{className:"roster-column",children:[g.jsxs("div",{className:"roster-column__header",children:[g.jsx("p",{className:"card-label",children:"Away Team"}),g.jsx("h3",{children:$a(U)}),g.jsx("p",{className:"card-help",children:U?.owner?`Owner: ${Sa(U.owner)}`:"No owner"})]}),g.jsxs("div",{className:"roster-list",children:[Ft.length===0&&g.jsx("p",{className:"card-help",children:"No players drafted yet"}),Ft.map((M,et)=>g.jsx("div",{className:"roster-player",children:g.jsxs("div",{className:"roster-player__info",children:[g.jsx("span",{className:`position-badge position-badge--${M.position.toLowerCase()}`,children:M.position}),g.jsxs("div",{children:[g.jsx("strong",{children:M.name}),g.jsx("p",{children:M.team})]})]})},`${M.id}-${et}`))]})]}),g.jsxs("div",{className:"roster-column",children:[g.jsxs("div",{className:"roster-column__header",children:[g.jsx("p",{className:"card-label",children:"Home Team"}),g.jsx("h3",{children:$a(O)}),g.jsx("p",{className:"card-help",children:O?.owner?`Owner: ${Sa(O.owner)}`:"No owner"})]}),g.jsxs("div",{className:"roster-list",children:[N.length===0&&g.jsx("p",{className:"card-help",children:"No players drafted yet"}),N.map((M,et)=>g.jsx("div",{className:"roster-player",children:g.jsxs("div",{className:"roster-player__info",children:[g.jsx("span",{className:`position-badge position-badge--${M.position.toLowerCase()}`,children:M.position}),g.jsxs("div",{children:[g.jsx("strong",{children:M.name}),g.jsx("p",{children:M.team})]})]})},`${M.id}-${et}`))]})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Schedule"}),g.jsx("h2",{children:"Weekly matchups"})]})}),R.length===0&&g.jsx("p",{className:"card-help",children:"Schedule will generate automatically when the league is full."}),R.length>0&&g.jsx("div",{className:"schedule-grid",children:R.map(({week:M,matchups:et})=>g.jsxs("div",{className:"schedule-week",children:[g.jsx("div",{className:"schedule-week__header",children:g.jsxs("span",{className:"section-pill",children:["Week ",M]})}),g.jsx("div",{className:"schedule-week-matchups",children:et.map(ft=>{const bt=ht.get(ft.homeId),It=ht.get(ft.awayId);return g.jsxs("div",{className:"matchup-card matchup-card--clickable",role:"button",tabIndex:0,onClick:()=>S(ft.id),onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&S(ft.id)},children:[g.jsxs("div",{children:[g.jsx("p",{children:"Home"}),g.jsx("strong",{children:$a(bt)})]}),g.jsx("span",{className:"matchup-separator",children:"vs"}),g.jsxs("div",{children:[g.jsx("p",{children:"Away"}),g.jsx("strong",{children:$a(It)})]})]},ft.id)})})]},M))})]})}),y==="history"&&g.jsxs("div",{className:"history-card",children:[g.jsx("div",{className:"leagues-section__header",children:g.jsxs("div",{children:[g.jsx("p",{className:"card-label",children:"Draft history"}),g.jsx("h2",{children:"All picks"})]})}),(!A.draftPicks||A.draftPicks.length===0)&&g.jsx("p",{className:"card-help",children:"No picks have been made yet. Start the draft to see history."}),A.draftPicks&&A.draftPicks.length>0&&g.jsx("div",{className:"draft-history-list",children:A.draftPicks.map(M=>{const et=ht.get(M.teamId);return g.jsxs("div",{className:"draft-history-row",children:[g.jsxs("span",{className:"draft-history__pick",children:["Pick ",M.pick,"  Round ",M.round]}),g.jsxs("div",{children:[g.jsx("strong",{children:M.player.name}),g.jsxs("p",{children:[M.player.position,"  ",M.player.team,"  Team:"," ",et?Sa(et.owner):"Unknown"]})]})]},M.pick)})})]})]})]}):g.jsxs("div",{className:"leagues-page leagues-page--detail",children:[g.jsx("div",{className:"leagues-breadcrumb",children:g.jsx("button",{type:"button",className:"ghost-btn",onClick:()=>a("/league"),children:" Back to leagues"})}),g.jsxs("div",{className:"leagues-status leagues-status--error",children:[g.jsx("strong",{children:"NOT FOUND"}),g.jsx("span",{children:"We could not find that league. It may have been deleted."})]})]})}function CC(){return g.jsx(DS,{children:g.jsx(lS,{children:g.jsxs(Ta,{element:g.jsx(eb,{}),children:[g.jsx(Ta,{path:"/",element:g.jsx(BS,{})}),g.jsx(Ta,{path:"/players",element:g.jsx(YS,{})}),g.jsx(Ta,{path:"/player/:id",element:g.jsx(nb,{})}),g.jsx(Ta,{path:"/league",element:g.jsx(gC,{})}),g.jsx(Ta,{path:"/league/:id",element:g.jsx(RC,{})}),g.jsx(Ta,{path:"/watchlist",element:g.jsx(yC,{})}),g.jsx(Ta,{path:"/nfl_data_py_testing",element:g.jsx(_C,{})}),g.jsx(Ta,{path:"/login",element:g.jsx(vC,{})})]})})})}m1.createRoot(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx(tb,{children:g.jsx(CC,{})})}));
